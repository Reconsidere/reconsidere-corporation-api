{
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\index.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "mongoose = require('mongoose');\ngraphlHTTP = require('express-graphql');\n\nconst express = require('express');\n\nconst {\n  importSchema\n} = require('graphql-import');\n\nconst bodyParser = require('body-parser');\n\nconst cors = require('cors');\n\nconst {\n  graphqlUploadExpress\n} = require('graphql-upload');\n\nconst {\n  makeExecutableSchema\n} = require('graphql-tools');\n\nconst resolverCollector = require('./resolvers/indexCollector');\n\nconst resolverPicture = require('./resolvers/indexPicture');\n\nconst resolverArchive = require('./resolvers/indexArchive');\n\nconst resolverCorporation = require('./resolvers/indexCorporation');\n\nconst resolverProvider = require('./resolvers/indexProvider');\n\nconst resolverLogin = require('./resolvers/indexLogin');\n\nconst resolverCheckPoint = require('./resolvers/indexCheckPoint');\n\nconst resolverTransactionHistory = require('./resolvers/indexTransactionHistory');\n\nconst schemaPathCollector = './schemas/indexCollector.graphql';\nconst schemaPathPicture = './schemas/indexPicture.graphql';\nconst schemaPathArchive = './schemas/indexArchive.graphql';\nconst schemaPathCorporation = './schemas/indexCorporation.graphql';\nconst schemaPathProvider = './schemas/indexProvider.graphql';\nconst schemaPathCheckPoint = './schemas/indexCheckPoint.graphql';\nconst schemaPathTransactionHistory = './schemas/indexTransactionHistory.graphql';\nconst schemaPathLogin = './schemas/indexLogin.graphql';\nconst schemaLogin = makeExecutableSchema({\n  typeDefs: importSchema(schemaPathLogin),\n  resolvers: resolverLogin\n});\nconst schemaCollector = makeExecutableSchema({\n  typeDefs: importSchema(schemaPathCollector),\n  resolvers: resolverCollector\n});\nconst schemaCorporation = makeExecutableSchema({\n  typeDefs: importSchema(schemaPathCorporation),\n  resolvers: resolverCorporation\n});\nconst schemaProvider = makeExecutableSchema({\n  typeDefs: importSchema(schemaPathProvider),\n  resolvers: resolverProvider\n});\nconst schemaCheckPoint = makeExecutableSchema({\n  typeDefs: importSchema(schemaPathCheckPoint),\n  resolvers: resolverCheckPoint\n});\nconst schemaTransactionHistory = makeExecutableSchema({\n  typeDefs: importSchema(schemaPathTransactionHistory),\n  resolvers: resolverTransactionHistory\n});\nconst schemaPicture = makeExecutableSchema({\n  typeDefs: importSchema(schemaPathPicture),\n  resolvers: resolverPicture\n});\nconst schemaArchive = makeExecutableSchema({\n  typeDefs: importSchema(schemaPathArchive),\n  resolvers: resolverArchive\n});\nconst app = express();\nconst PORT = 32546;\nmongoose.Promise = global.Promise;\nmongoose.connect('mongodb://localhost:27017/eowyn-reconsidere-corporation');\napp.get('/', (req, res) => {\n  res.json({\n    msg: 'Welcome to GraphQL'\n  });\n});\napp.use(express.static('/reconsidere-corp/images'));\napp.use(express.static('/reconsidere-corp/archives'));\nvar jsonParser = bodyParser.json({\n  limit: '20mb',\n  type: 'application/json'\n});\nvar urlencodedParser = bodyParser.urlencoded({\n  extended: true,\n  limit: '20mb',\n  type: 'application/x-www-form-urlencoding'\n});\napp.use('/reconsidere/images', jsonParser, urlencodedParser, cors(), graphlHTTP({\n  schema: schemaPicture,\n  graphiql: true\n}));\napp.use('/reconsidere/archives', jsonParser, urlencodedParser, cors(), graphlHTTP({\n  schema: schemaArchive,\n  graphiql: true\n}));\napp.use('/login', bodyParser.text({\n  type: 'application/graphql'\n}), bodyParser.json(), cors(), graphlHTTP({\n  schema: schemaLogin,\n  graphiql: true\n}));\napp.use('/collector', bodyParser.text({\n  type: 'application/graphql'\n}), bodyParser.json(), cors(), graphlHTTP({\n  schema: schemaCollector,\n  graphiql: true\n}));\napp.use('/corporation', bodyParser.text({\n  type: 'application/graphql'\n}), bodyParser.json(), cors(), graphlHTTP({\n  schema: schemaCorporation,\n  graphiql: true\n}));\napp.use('/provider', bodyParser.text({\n  type: 'application/graphql'\n}), bodyParser.json(), cors(), graphlHTTP({\n  schema: schemaProvider,\n  graphiql: true\n}));\napp.use('/checkpoint', bodyParser.text({\n  type: 'application/graphql'\n}), bodyParser.json(), cors(), graphlHTTP({\n  schema: schemaCheckPoint,\n  graphiql: true\n}));\napp.use('/transactionhistory', bodyParser.text({\n  type: 'application/graphql'\n}), bodyParser.json(), cors(), graphlHTTP({\n  schema: schemaTransactionHistory,\n  graphiql: true\n}));\napp.listen(PORT, () => {\n  console.log(`Server is listening on PORT ${PORT}`);\n});\nexports.mongoose = mongoose;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImdyYXBobEhUVFAiLCJleHByZXNzIiwiaW1wb3J0U2NoZW1hIiwiYm9keVBhcnNlciIsImNvcnMiLCJncmFwaHFsVXBsb2FkRXhwcmVzcyIsIm1ha2VFeGVjdXRhYmxlU2NoZW1hIiwicmVzb2x2ZXJDb2xsZWN0b3IiLCJyZXNvbHZlclBpY3R1cmUiLCJyZXNvbHZlckFyY2hpdmUiLCJyZXNvbHZlckNvcnBvcmF0aW9uIiwicmVzb2x2ZXJQcm92aWRlciIsInJlc29sdmVyTG9naW4iLCJyZXNvbHZlckNoZWNrUG9pbnQiLCJyZXNvbHZlclRyYW5zYWN0aW9uSGlzdG9yeSIsInNjaGVtYVBhdGhDb2xsZWN0b3IiLCJzY2hlbWFQYXRoUGljdHVyZSIsInNjaGVtYVBhdGhBcmNoaXZlIiwic2NoZW1hUGF0aENvcnBvcmF0aW9uIiwic2NoZW1hUGF0aFByb3ZpZGVyIiwic2NoZW1hUGF0aENoZWNrUG9pbnQiLCJzY2hlbWFQYXRoVHJhbnNhY3Rpb25IaXN0b3J5Iiwic2NoZW1hUGF0aExvZ2luIiwic2NoZW1hTG9naW4iLCJ0eXBlRGVmcyIsInJlc29sdmVycyIsInNjaGVtYUNvbGxlY3RvciIsInNjaGVtYUNvcnBvcmF0aW9uIiwic2NoZW1hUHJvdmlkZXIiLCJzY2hlbWFDaGVja1BvaW50Iiwic2NoZW1hVHJhbnNhY3Rpb25IaXN0b3J5Iiwic2NoZW1hUGljdHVyZSIsInNjaGVtYUFyY2hpdmUiLCJhcHAiLCJQT1JUIiwiUHJvbWlzZSIsImdsb2JhbCIsImNvbm5lY3QiLCJnZXQiLCJyZXEiLCJyZXMiLCJqc29uIiwibXNnIiwidXNlIiwic3RhdGljIiwianNvblBhcnNlciIsImxpbWl0IiwidHlwZSIsInVybGVuY29kZWRQYXJzZXIiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzY2hlbWEiLCJncmFwaGlxbCIsInRleHQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBbEI7QUFDQUMsVUFBVSxHQUFHRCxPQUFPLENBQUMsaUJBQUQsQ0FBcEI7O0FBQ0EsTUFBTUUsT0FBTyxHQUFHRixPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVHLEVBQUFBO0FBQUYsSUFBbUJILE9BQU8sQ0FBQyxnQkFBRCxDQUFoQzs7QUFDQSxNQUFNSSxVQUFVLEdBQUdKLE9BQU8sQ0FBQyxhQUFELENBQTFCOztBQUNBLE1BQU1LLElBQUksR0FBR0wsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTTtBQUFFTSxFQUFBQTtBQUFGLElBQTJCTixPQUFPLENBQUMsZ0JBQUQsQ0FBeEM7O0FBRUEsTUFBTTtBQUFFTyxFQUFBQTtBQUFGLElBQTJCUCxPQUFPLENBQUMsZUFBRCxDQUF4Qzs7QUFDQSxNQUFNUSxpQkFBaUIsR0FBR1IsT0FBTyxDQUFDLDRCQUFELENBQWpDOztBQUNBLE1BQU1TLGVBQWUsR0FBR1QsT0FBTyxDQUFDLDBCQUFELENBQS9COztBQUNBLE1BQU1VLGVBQWUsR0FBR1YsT0FBTyxDQUFDLDBCQUFELENBQS9COztBQUNBLE1BQU1XLG1CQUFtQixHQUFHWCxPQUFPLENBQUMsOEJBQUQsQ0FBbkM7O0FBQ0EsTUFBTVksZ0JBQWdCLEdBQUdaLE9BQU8sQ0FBQywyQkFBRCxDQUFoQzs7QUFDQSxNQUFNYSxhQUFhLEdBQUdiLE9BQU8sQ0FBQyx3QkFBRCxDQUE3Qjs7QUFDQSxNQUFNYyxrQkFBa0IsR0FBR2QsT0FBTyxDQUFDLDZCQUFELENBQWxDOztBQUNBLE1BQU1lLDBCQUEwQixHQUFHZixPQUFPLENBQUMscUNBQUQsQ0FBMUM7O0FBQ0EsTUFBTWdCLG1CQUFtQixHQUFHLGtDQUE1QjtBQUNBLE1BQU1DLGlCQUFpQixHQUFHLGdDQUExQjtBQUNBLE1BQU1DLGlCQUFpQixHQUFHLGdDQUExQjtBQUNBLE1BQU1DLHFCQUFxQixHQUFHLG9DQUE5QjtBQUNBLE1BQU1DLGtCQUFrQixHQUFHLGlDQUEzQjtBQUNBLE1BQU1DLG9CQUFvQixHQUFHLG1DQUE3QjtBQUNBLE1BQU1DLDRCQUE0QixHQUFHLDJDQUFyQztBQUNBLE1BQU1DLGVBQWUsR0FBRyw4QkFBeEI7QUFFQSxNQUFNQyxXQUFXLEdBQUdqQixvQkFBb0IsQ0FBQztBQUN4Q2tCLEVBQUFBLFFBQVEsRUFBRXRCLFlBQVksQ0FBQ29CLGVBQUQsQ0FEa0I7QUFFeENHLEVBQUFBLFNBQVMsRUFBRWI7QUFGNkIsQ0FBRCxDQUF4QztBQUtBLE1BQU1jLGVBQWUsR0FBR3BCLG9CQUFvQixDQUFDO0FBQzVDa0IsRUFBQUEsUUFBUSxFQUFFdEIsWUFBWSxDQUFDYSxtQkFBRCxDQURzQjtBQUU1Q1UsRUFBQUEsU0FBUyxFQUFFbEI7QUFGaUMsQ0FBRCxDQUE1QztBQUtBLE1BQU1vQixpQkFBaUIsR0FBR3JCLG9CQUFvQixDQUFDO0FBQzlDa0IsRUFBQUEsUUFBUSxFQUFFdEIsWUFBWSxDQUFDZ0IscUJBQUQsQ0FEd0I7QUFFOUNPLEVBQUFBLFNBQVMsRUFBRWY7QUFGbUMsQ0FBRCxDQUE5QztBQUtBLE1BQU1rQixjQUFjLEdBQUd0QixvQkFBb0IsQ0FBQztBQUMzQ2tCLEVBQUFBLFFBQVEsRUFBRXRCLFlBQVksQ0FBQ2lCLGtCQUFELENBRHFCO0FBRTNDTSxFQUFBQSxTQUFTLEVBQUVkO0FBRmdDLENBQUQsQ0FBM0M7QUFLQSxNQUFNa0IsZ0JBQWdCLEdBQUd2QixvQkFBb0IsQ0FBQztBQUM3Q2tCLEVBQUFBLFFBQVEsRUFBRXRCLFlBQVksQ0FBQ2tCLG9CQUFELENBRHVCO0FBRTdDSyxFQUFBQSxTQUFTLEVBQUVaO0FBRmtDLENBQUQsQ0FBN0M7QUFLQSxNQUFNaUIsd0JBQXdCLEdBQUd4QixvQkFBb0IsQ0FBQztBQUNyRGtCLEVBQUFBLFFBQVEsRUFBRXRCLFlBQVksQ0FBQ21CLDRCQUFELENBRCtCO0FBRXJESSxFQUFBQSxTQUFTLEVBQUVYO0FBRjBDLENBQUQsQ0FBckQ7QUFLQSxNQUFNaUIsYUFBYSxHQUFHekIsb0JBQW9CLENBQUM7QUFDMUNrQixFQUFBQSxRQUFRLEVBQUV0QixZQUFZLENBQUNjLGlCQUFELENBRG9CO0FBRTFDUyxFQUFBQSxTQUFTLEVBQUVqQjtBQUYrQixDQUFELENBQTFDO0FBS0EsTUFBTXdCLGFBQWEsR0FBRzFCLG9CQUFvQixDQUFDO0FBQzFDa0IsRUFBQUEsUUFBUSxFQUFFdEIsWUFBWSxDQUFDZSxpQkFBRCxDQURvQjtBQUUxQ1EsRUFBQUEsU0FBUyxFQUFFaEI7QUFGK0IsQ0FBRCxDQUExQztBQUtBLE1BQU13QixHQUFHLEdBQUdoQyxPQUFPLEVBQW5CO0FBQ0EsTUFBTWlDLElBQUksR0FBRyxLQUFiO0FBQ0FwQyxRQUFRLENBQUNxQyxPQUFULEdBQW1CQyxNQUFNLENBQUNELE9BQTFCO0FBQ0FyQyxRQUFRLENBQUN1QyxPQUFULENBQWlCLHlEQUFqQjtBQUVBSixHQUFHLENBQUNLLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDMUJBLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTO0FBQ1JDLElBQUFBLEdBQUcsRUFBRTtBQURHLEdBQVQ7QUFHQSxDQUpEO0FBTUFULEdBQUcsQ0FBQ1UsR0FBSixDQUFRMUMsT0FBTyxDQUFDMkMsTUFBUixDQUFlLDBCQUFmLENBQVI7QUFDQVgsR0FBRyxDQUFDVSxHQUFKLENBQVExQyxPQUFPLENBQUMyQyxNQUFSLENBQWUsNEJBQWYsQ0FBUjtBQUVBLElBQUlDLFVBQVUsR0FBRzFDLFVBQVUsQ0FBQ3NDLElBQVgsQ0FBZ0I7QUFBRUssRUFBQUEsS0FBSyxFQUFFLE1BQVQ7QUFBaUJDLEVBQUFBLElBQUksRUFBRTtBQUF2QixDQUFoQixDQUFqQjtBQUNBLElBQUlDLGdCQUFnQixHQUFHN0MsVUFBVSxDQUFDOEMsVUFBWCxDQUFzQjtBQUM1Q0MsRUFBQUEsUUFBUSxFQUFFLElBRGtDO0FBRTVDSixFQUFBQSxLQUFLLEVBQUUsTUFGcUM7QUFHNUNDLEVBQUFBLElBQUksRUFBRTtBQUhzQyxDQUF0QixDQUF2QjtBQU1BZCxHQUFHLENBQUNVLEdBQUosQ0FDQyxxQkFERCxFQUVDRSxVQUZELEVBR0NHLGdCQUhELEVBSUM1QyxJQUFJLEVBSkwsRUFLQ0osVUFBVSxDQUFDO0FBQ1ZtRCxFQUFBQSxNQUFNLEVBQUVwQixhQURFO0FBRVZxQixFQUFBQSxRQUFRLEVBQUU7QUFGQSxDQUFELENBTFg7QUFXQW5CLEdBQUcsQ0FBQ1UsR0FBSixDQUNDLHVCQURELEVBRUNFLFVBRkQsRUFHQ0csZ0JBSEQsRUFJQzVDLElBQUksRUFKTCxFQUtDSixVQUFVLENBQUM7QUFDVm1ELEVBQUFBLE1BQU0sRUFBRW5CLGFBREU7QUFFVm9CLEVBQUFBLFFBQVEsRUFBRTtBQUZBLENBQUQsQ0FMWDtBQVdBbkIsR0FBRyxDQUFDVSxHQUFKLENBQ0MsUUFERCxFQUVDeEMsVUFBVSxDQUFDa0QsSUFBWCxDQUFnQjtBQUFFTixFQUFBQSxJQUFJLEVBQUU7QUFBUixDQUFoQixDQUZELEVBR0M1QyxVQUFVLENBQUNzQyxJQUFYLEVBSEQsRUFJQ3JDLElBQUksRUFKTCxFQUtDSixVQUFVLENBQUM7QUFDVm1ELEVBQUFBLE1BQU0sRUFBRTVCLFdBREU7QUFFVjZCLEVBQUFBLFFBQVEsRUFBRTtBQUZBLENBQUQsQ0FMWDtBQVVBbkIsR0FBRyxDQUFDVSxHQUFKLENBQ0MsWUFERCxFQUVDeEMsVUFBVSxDQUFDa0QsSUFBWCxDQUFnQjtBQUFFTixFQUFBQSxJQUFJLEVBQUU7QUFBUixDQUFoQixDQUZELEVBR0M1QyxVQUFVLENBQUNzQyxJQUFYLEVBSEQsRUFJQ3JDLElBQUksRUFKTCxFQUtDSixVQUFVLENBQUM7QUFDVm1ELEVBQUFBLE1BQU0sRUFBRXpCLGVBREU7QUFFVjBCLEVBQUFBLFFBQVEsRUFBRTtBQUZBLENBQUQsQ0FMWDtBQVdBbkIsR0FBRyxDQUFDVSxHQUFKLENBQ0MsY0FERCxFQUVDeEMsVUFBVSxDQUFDa0QsSUFBWCxDQUFnQjtBQUFFTixFQUFBQSxJQUFJLEVBQUU7QUFBUixDQUFoQixDQUZELEVBR0M1QyxVQUFVLENBQUNzQyxJQUFYLEVBSEQsRUFJQ3JDLElBQUksRUFKTCxFQUtDSixVQUFVLENBQUM7QUFDVm1ELEVBQUFBLE1BQU0sRUFBRXhCLGlCQURFO0FBRVZ5QixFQUFBQSxRQUFRLEVBQUU7QUFGQSxDQUFELENBTFg7QUFXQW5CLEdBQUcsQ0FBQ1UsR0FBSixDQUNDLFdBREQsRUFFQ3hDLFVBQVUsQ0FBQ2tELElBQVgsQ0FBZ0I7QUFBRU4sRUFBQUEsSUFBSSxFQUFFO0FBQVIsQ0FBaEIsQ0FGRCxFQUdDNUMsVUFBVSxDQUFDc0MsSUFBWCxFQUhELEVBSUNyQyxJQUFJLEVBSkwsRUFLQ0osVUFBVSxDQUFDO0FBQ1ZtRCxFQUFBQSxNQUFNLEVBQUV2QixjQURFO0FBRVZ3QixFQUFBQSxRQUFRLEVBQUU7QUFGQSxDQUFELENBTFg7QUFXQW5CLEdBQUcsQ0FBQ1UsR0FBSixDQUNDLGFBREQsRUFFQ3hDLFVBQVUsQ0FBQ2tELElBQVgsQ0FBZ0I7QUFBRU4sRUFBQUEsSUFBSSxFQUFFO0FBQVIsQ0FBaEIsQ0FGRCxFQUdDNUMsVUFBVSxDQUFDc0MsSUFBWCxFQUhELEVBSUNyQyxJQUFJLEVBSkwsRUFLQ0osVUFBVSxDQUFDO0FBQ1ZtRCxFQUFBQSxNQUFNLEVBQUV0QixnQkFERTtBQUVWdUIsRUFBQUEsUUFBUSxFQUFFO0FBRkEsQ0FBRCxDQUxYO0FBV0FuQixHQUFHLENBQUNVLEdBQUosQ0FDQyxxQkFERCxFQUVDeEMsVUFBVSxDQUFDa0QsSUFBWCxDQUFnQjtBQUFFTixFQUFBQSxJQUFJLEVBQUU7QUFBUixDQUFoQixDQUZELEVBR0M1QyxVQUFVLENBQUNzQyxJQUFYLEVBSEQsRUFJQ3JDLElBQUksRUFKTCxFQUtDSixVQUFVLENBQUM7QUFDVm1ELEVBQUFBLE1BQU0sRUFBRXJCLHdCQURFO0FBRVZzQixFQUFBQSxRQUFRLEVBQUU7QUFGQSxDQUFELENBTFg7QUFXQW5CLEdBQUcsQ0FBQ3FCLE1BQUosQ0FBV3BCLElBQVgsRUFBaUIsTUFBTTtBQUN0QnFCLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLCtCQUE4QnRCLElBQUssRUFBaEQ7QUFDQSxDQUZEO0FBSUF1QixPQUFPLENBQUMzRCxRQUFSLEdBQW1CQSxRQUFuQiIsInNvdXJjZVJvb3QiOiJDOlxccmVjb25zaWRlcmVcXHJlY29uc2lkZXJlLWNvcnBvcmF0aW9uLWFwaSIsInNvdXJjZXNDb250ZW50IjpbIm1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuZ3JhcGhsSFRUUCA9IHJlcXVpcmUoJ2V4cHJlc3MtZ3JhcGhxbCcpO1xyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCB7IGltcG9ydFNjaGVtYSB9ID0gcmVxdWlyZSgnZ3JhcGhxbC1pbXBvcnQnKTtcclxuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XHJcbmNvbnN0IGNvcnMgPSByZXF1aXJlKCdjb3JzJyk7XHJcbmNvbnN0IHsgZ3JhcGhxbFVwbG9hZEV4cHJlc3MgfSA9IHJlcXVpcmUoJ2dyYXBocWwtdXBsb2FkJyk7XHJcblxyXG5jb25zdCB7IG1ha2VFeGVjdXRhYmxlU2NoZW1hIH0gPSByZXF1aXJlKCdncmFwaHFsLXRvb2xzJyk7XHJcbmNvbnN0IHJlc29sdmVyQ29sbGVjdG9yID0gcmVxdWlyZSgnLi9yZXNvbHZlcnMvaW5kZXhDb2xsZWN0b3InKTtcclxuY29uc3QgcmVzb2x2ZXJQaWN0dXJlID0gcmVxdWlyZSgnLi9yZXNvbHZlcnMvaW5kZXhQaWN0dXJlJyk7XHJcbmNvbnN0IHJlc29sdmVyQXJjaGl2ZSA9IHJlcXVpcmUoJy4vcmVzb2x2ZXJzL2luZGV4QXJjaGl2ZScpO1xyXG5jb25zdCByZXNvbHZlckNvcnBvcmF0aW9uID0gcmVxdWlyZSgnLi9yZXNvbHZlcnMvaW5kZXhDb3Jwb3JhdGlvbicpO1xyXG5jb25zdCByZXNvbHZlclByb3ZpZGVyID0gcmVxdWlyZSgnLi9yZXNvbHZlcnMvaW5kZXhQcm92aWRlcicpO1xyXG5jb25zdCByZXNvbHZlckxvZ2luID0gcmVxdWlyZSgnLi9yZXNvbHZlcnMvaW5kZXhMb2dpbicpO1xyXG5jb25zdCByZXNvbHZlckNoZWNrUG9pbnQgPSByZXF1aXJlKCcuL3Jlc29sdmVycy9pbmRleENoZWNrUG9pbnQnKTtcclxuY29uc3QgcmVzb2x2ZXJUcmFuc2FjdGlvbkhpc3RvcnkgPSByZXF1aXJlKCcuL3Jlc29sdmVycy9pbmRleFRyYW5zYWN0aW9uSGlzdG9yeScpO1xyXG5jb25zdCBzY2hlbWFQYXRoQ29sbGVjdG9yID0gJy4vc2NoZW1hcy9pbmRleENvbGxlY3Rvci5ncmFwaHFsJztcclxuY29uc3Qgc2NoZW1hUGF0aFBpY3R1cmUgPSAnLi9zY2hlbWFzL2luZGV4UGljdHVyZS5ncmFwaHFsJztcclxuY29uc3Qgc2NoZW1hUGF0aEFyY2hpdmUgPSAnLi9zY2hlbWFzL2luZGV4QXJjaGl2ZS5ncmFwaHFsJztcclxuY29uc3Qgc2NoZW1hUGF0aENvcnBvcmF0aW9uID0gJy4vc2NoZW1hcy9pbmRleENvcnBvcmF0aW9uLmdyYXBocWwnO1xyXG5jb25zdCBzY2hlbWFQYXRoUHJvdmlkZXIgPSAnLi9zY2hlbWFzL2luZGV4UHJvdmlkZXIuZ3JhcGhxbCc7XHJcbmNvbnN0IHNjaGVtYVBhdGhDaGVja1BvaW50ID0gJy4vc2NoZW1hcy9pbmRleENoZWNrUG9pbnQuZ3JhcGhxbCc7XHJcbmNvbnN0IHNjaGVtYVBhdGhUcmFuc2FjdGlvbkhpc3RvcnkgPSAnLi9zY2hlbWFzL2luZGV4VHJhbnNhY3Rpb25IaXN0b3J5LmdyYXBocWwnO1xyXG5jb25zdCBzY2hlbWFQYXRoTG9naW4gPSAnLi9zY2hlbWFzL2luZGV4TG9naW4uZ3JhcGhxbCc7XHJcblxyXG5jb25zdCBzY2hlbWFMb2dpbiA9IG1ha2VFeGVjdXRhYmxlU2NoZW1hKHtcclxuXHR0eXBlRGVmczogaW1wb3J0U2NoZW1hKHNjaGVtYVBhdGhMb2dpbiksXHJcblx0cmVzb2x2ZXJzOiByZXNvbHZlckxvZ2luXHJcbn0pO1xyXG5cclxuY29uc3Qgc2NoZW1hQ29sbGVjdG9yID0gbWFrZUV4ZWN1dGFibGVTY2hlbWEoe1xyXG5cdHR5cGVEZWZzOiBpbXBvcnRTY2hlbWEoc2NoZW1hUGF0aENvbGxlY3RvciksXHJcblx0cmVzb2x2ZXJzOiByZXNvbHZlckNvbGxlY3RvclxyXG59KTtcclxuXHJcbmNvbnN0IHNjaGVtYUNvcnBvcmF0aW9uID0gbWFrZUV4ZWN1dGFibGVTY2hlbWEoe1xyXG5cdHR5cGVEZWZzOiBpbXBvcnRTY2hlbWEoc2NoZW1hUGF0aENvcnBvcmF0aW9uKSxcclxuXHRyZXNvbHZlcnM6IHJlc29sdmVyQ29ycG9yYXRpb25cclxufSk7XHJcblxyXG5jb25zdCBzY2hlbWFQcm92aWRlciA9IG1ha2VFeGVjdXRhYmxlU2NoZW1hKHtcclxuXHR0eXBlRGVmczogaW1wb3J0U2NoZW1hKHNjaGVtYVBhdGhQcm92aWRlciksXHJcblx0cmVzb2x2ZXJzOiByZXNvbHZlclByb3ZpZGVyXHJcbn0pO1xyXG5cclxuY29uc3Qgc2NoZW1hQ2hlY2tQb2ludCA9IG1ha2VFeGVjdXRhYmxlU2NoZW1hKHtcclxuXHR0eXBlRGVmczogaW1wb3J0U2NoZW1hKHNjaGVtYVBhdGhDaGVja1BvaW50KSxcclxuXHRyZXNvbHZlcnM6IHJlc29sdmVyQ2hlY2tQb2ludFxyXG59KTtcclxuXHJcbmNvbnN0IHNjaGVtYVRyYW5zYWN0aW9uSGlzdG9yeSA9IG1ha2VFeGVjdXRhYmxlU2NoZW1hKHtcclxuXHR0eXBlRGVmczogaW1wb3J0U2NoZW1hKHNjaGVtYVBhdGhUcmFuc2FjdGlvbkhpc3RvcnkpLFxyXG5cdHJlc29sdmVyczogcmVzb2x2ZXJUcmFuc2FjdGlvbkhpc3RvcnlcclxufSk7XHJcblxyXG5jb25zdCBzY2hlbWFQaWN0dXJlID0gbWFrZUV4ZWN1dGFibGVTY2hlbWEoe1xyXG5cdHR5cGVEZWZzOiBpbXBvcnRTY2hlbWEoc2NoZW1hUGF0aFBpY3R1cmUpLFxyXG5cdHJlc29sdmVyczogcmVzb2x2ZXJQaWN0dXJlXHJcbn0pO1xyXG5cclxuY29uc3Qgc2NoZW1hQXJjaGl2ZSA9IG1ha2VFeGVjdXRhYmxlU2NoZW1hKHtcclxuXHR0eXBlRGVmczogaW1wb3J0U2NoZW1hKHNjaGVtYVBhdGhBcmNoaXZlKSxcclxuXHRyZXNvbHZlcnM6IHJlc29sdmVyQXJjaGl2ZVxyXG59KTtcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuY29uc3QgUE9SVCA9IDMyNTQ2O1xyXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XHJcbm1vbmdvb3NlLmNvbm5lY3QoJ21vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvZW93eW4tcmVjb25zaWRlcmUtY29ycG9yYXRpb24nKTtcclxuXHJcbmFwcC5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcclxuXHRyZXMuanNvbih7XHJcblx0XHRtc2c6ICdXZWxjb21lIHRvIEdyYXBoUUwnXHJcblx0fSk7XHJcbn0pO1xyXG5cclxuYXBwLnVzZShleHByZXNzLnN0YXRpYygnL3JlY29uc2lkZXJlLWNvcnAvaW1hZ2VzJykpO1xyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKCcvcmVjb25zaWRlcmUtY29ycC9hcmNoaXZlcycpKTtcclxuXHJcbnZhciBqc29uUGFyc2VyID0gYm9keVBhcnNlci5qc29uKHsgbGltaXQ6ICcyMG1iJywgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xyXG52YXIgdXJsZW5jb2RlZFBhcnNlciA9IGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7XHJcblx0ZXh0ZW5kZWQ6IHRydWUsXHJcblx0bGltaXQ6ICcyMG1iJyxcclxuXHR0eXBlOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGluZydcclxufSk7XHJcblxyXG5hcHAudXNlKFxyXG5cdCcvcmVjb25zaWRlcmUvaW1hZ2VzJyxcclxuXHRqc29uUGFyc2VyLFxyXG5cdHVybGVuY29kZWRQYXJzZXIsXHJcblx0Y29ycygpLFxyXG5cdGdyYXBobEhUVFAoe1xyXG5cdFx0c2NoZW1hOiBzY2hlbWFQaWN0dXJlLFxyXG5cdFx0Z3JhcGhpcWw6IHRydWVcclxuXHR9KVxyXG4pO1xyXG5cclxuYXBwLnVzZShcclxuXHQnL3JlY29uc2lkZXJlL2FyY2hpdmVzJyxcclxuXHRqc29uUGFyc2VyLFxyXG5cdHVybGVuY29kZWRQYXJzZXIsXHJcblx0Y29ycygpLFxyXG5cdGdyYXBobEhUVFAoe1xyXG5cdFx0c2NoZW1hOiBzY2hlbWFBcmNoaXZlLFxyXG5cdFx0Z3JhcGhpcWw6IHRydWVcclxuXHR9KVxyXG4pO1xyXG5cclxuYXBwLnVzZShcclxuXHQnL2xvZ2luJyxcclxuXHRib2R5UGFyc2VyLnRleHQoeyB0eXBlOiAnYXBwbGljYXRpb24vZ3JhcGhxbCcgfSksXHJcblx0Ym9keVBhcnNlci5qc29uKCksXHJcblx0Y29ycygpLFxyXG5cdGdyYXBobEhUVFAoe1xyXG5cdFx0c2NoZW1hOiBzY2hlbWFMb2dpbixcclxuXHRcdGdyYXBoaXFsOiB0cnVlXHJcblx0fSlcclxuKTtcclxuYXBwLnVzZShcclxuXHQnL2NvbGxlY3RvcicsXHJcblx0Ym9keVBhcnNlci50ZXh0KHsgdHlwZTogJ2FwcGxpY2F0aW9uL2dyYXBocWwnIH0pLFxyXG5cdGJvZHlQYXJzZXIuanNvbigpLFxyXG5cdGNvcnMoKSxcclxuXHRncmFwaGxIVFRQKHtcclxuXHRcdHNjaGVtYTogc2NoZW1hQ29sbGVjdG9yLFxyXG5cdFx0Z3JhcGhpcWw6IHRydWVcclxuXHR9KVxyXG4pO1xyXG5cclxuYXBwLnVzZShcclxuXHQnL2NvcnBvcmF0aW9uJyxcclxuXHRib2R5UGFyc2VyLnRleHQoeyB0eXBlOiAnYXBwbGljYXRpb24vZ3JhcGhxbCcgfSksXHJcblx0Ym9keVBhcnNlci5qc29uKCksXHJcblx0Y29ycygpLFxyXG5cdGdyYXBobEhUVFAoe1xyXG5cdFx0c2NoZW1hOiBzY2hlbWFDb3Jwb3JhdGlvbixcclxuXHRcdGdyYXBoaXFsOiB0cnVlXHJcblx0fSlcclxuKTtcclxuXHJcbmFwcC51c2UoXHJcblx0Jy9wcm92aWRlcicsXHJcblx0Ym9keVBhcnNlci50ZXh0KHsgdHlwZTogJ2FwcGxpY2F0aW9uL2dyYXBocWwnIH0pLFxyXG5cdGJvZHlQYXJzZXIuanNvbigpLFxyXG5cdGNvcnMoKSxcclxuXHRncmFwaGxIVFRQKHtcclxuXHRcdHNjaGVtYTogc2NoZW1hUHJvdmlkZXIsXHJcblx0XHRncmFwaGlxbDogdHJ1ZVxyXG5cdH0pXHJcbik7XHJcblxyXG5hcHAudXNlKFxyXG5cdCcvY2hlY2twb2ludCcsXHJcblx0Ym9keVBhcnNlci50ZXh0KHsgdHlwZTogJ2FwcGxpY2F0aW9uL2dyYXBocWwnIH0pLFxyXG5cdGJvZHlQYXJzZXIuanNvbigpLFxyXG5cdGNvcnMoKSxcclxuXHRncmFwaGxIVFRQKHtcclxuXHRcdHNjaGVtYTogc2NoZW1hQ2hlY2tQb2ludCxcclxuXHRcdGdyYXBoaXFsOiB0cnVlXHJcblx0fSlcclxuKTtcclxuXHJcbmFwcC51c2UoXHJcblx0Jy90cmFuc2FjdGlvbmhpc3RvcnknLFxyXG5cdGJvZHlQYXJzZXIudGV4dCh7IHR5cGU6ICdhcHBsaWNhdGlvbi9ncmFwaHFsJyB9KSxcclxuXHRib2R5UGFyc2VyLmpzb24oKSxcclxuXHRjb3JzKCksXHJcblx0Z3JhcGhsSFRUUCh7XHJcblx0XHRzY2hlbWE6IHNjaGVtYVRyYW5zYWN0aW9uSGlzdG9yeSxcclxuXHRcdGdyYXBoaXFsOiB0cnVlXHJcblx0fSlcclxuKTtcclxuXHJcbmFwcC5saXN0ZW4oUE9SVCwgKCkgPT4ge1xyXG5cdGNvbnNvbGUubG9nKGBTZXJ2ZXIgaXMgbGlzdGVuaW5nIG9uIFBPUlQgJHtQT1JUfWApO1xyXG59KTtcclxuXHJcbmV4cG9ydHMubW9uZ29vc2UgPSBtb25nb29zZTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "mongoose",
        "require",
        "graphlHTTP",
        "express",
        "importSchema",
        "bodyParser",
        "cors",
        "graphqlUploadExpress",
        "makeExecutableSchema",
        "resolverCollector",
        "resolverPicture",
        "resolverArchive",
        "resolverCorporation",
        "resolverProvider",
        "resolverLogin",
        "resolverCheckPoint",
        "resolverTransactionHistory",
        "schemaPathCollector",
        "schemaPathPicture",
        "schemaPathArchive",
        "schemaPathCorporation",
        "schemaPathProvider",
        "schemaPathCheckPoint",
        "schemaPathTransactionHistory",
        "schemaPathLogin",
        "schemaLogin",
        "typeDefs",
        "resolvers",
        "schemaCollector",
        "schemaCorporation",
        "schemaProvider",
        "schemaCheckPoint",
        "schemaTransactionHistory",
        "schemaPicture",
        "schemaArchive",
        "app",
        "PORT",
        "Promise",
        "global",
        "connect",
        "get",
        "req",
        "res",
        "json",
        "msg",
        "use",
        "static",
        "jsonParser",
        "limit",
        "type",
        "urlencodedParser",
        "urlencoded",
        "extended",
        "schema",
        "graphiql",
        "text",
        "listen",
        "console",
        "log",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourcesContent": [
        "mongoose = require('mongoose');\r\ngraphlHTTP = require('express-graphql');\r\nconst express = require('express');\r\nconst { importSchema } = require('graphql-import');\r\nconst bodyParser = require('body-parser');\r\nconst cors = require('cors');\r\nconst { graphqlUploadExpress } = require('graphql-upload');\r\n\r\nconst { makeExecutableSchema } = require('graphql-tools');\r\nconst resolverCollector = require('./resolvers/indexCollector');\r\nconst resolverPicture = require('./resolvers/indexPicture');\r\nconst resolverArchive = require('./resolvers/indexArchive');\r\nconst resolverCorporation = require('./resolvers/indexCorporation');\r\nconst resolverProvider = require('./resolvers/indexProvider');\r\nconst resolverLogin = require('./resolvers/indexLogin');\r\nconst resolverCheckPoint = require('./resolvers/indexCheckPoint');\r\nconst resolverTransactionHistory = require('./resolvers/indexTransactionHistory');\r\nconst schemaPathCollector = './schemas/indexCollector.graphql';\r\nconst schemaPathPicture = './schemas/indexPicture.graphql';\r\nconst schemaPathArchive = './schemas/indexArchive.graphql';\r\nconst schemaPathCorporation = './schemas/indexCorporation.graphql';\r\nconst schemaPathProvider = './schemas/indexProvider.graphql';\r\nconst schemaPathCheckPoint = './schemas/indexCheckPoint.graphql';\r\nconst schemaPathTransactionHistory = './schemas/indexTransactionHistory.graphql';\r\nconst schemaPathLogin = './schemas/indexLogin.graphql';\r\n\r\nconst schemaLogin = makeExecutableSchema({\r\n\ttypeDefs: importSchema(schemaPathLogin),\r\n\tresolvers: resolverLogin\r\n});\r\n\r\nconst schemaCollector = makeExecutableSchema({\r\n\ttypeDefs: importSchema(schemaPathCollector),\r\n\tresolvers: resolverCollector\r\n});\r\n\r\nconst schemaCorporation = makeExecutableSchema({\r\n\ttypeDefs: importSchema(schemaPathCorporation),\r\n\tresolvers: resolverCorporation\r\n});\r\n\r\nconst schemaProvider = makeExecutableSchema({\r\n\ttypeDefs: importSchema(schemaPathProvider),\r\n\tresolvers: resolverProvider\r\n});\r\n\r\nconst schemaCheckPoint = makeExecutableSchema({\r\n\ttypeDefs: importSchema(schemaPathCheckPoint),\r\n\tresolvers: resolverCheckPoint\r\n});\r\n\r\nconst schemaTransactionHistory = makeExecutableSchema({\r\n\ttypeDefs: importSchema(schemaPathTransactionHistory),\r\n\tresolvers: resolverTransactionHistory\r\n});\r\n\r\nconst schemaPicture = makeExecutableSchema({\r\n\ttypeDefs: importSchema(schemaPathPicture),\r\n\tresolvers: resolverPicture\r\n});\r\n\r\nconst schemaArchive = makeExecutableSchema({\r\n\ttypeDefs: importSchema(schemaPathArchive),\r\n\tresolvers: resolverArchive\r\n});\r\n\r\nconst app = express();\r\nconst PORT = 32546;\r\nmongoose.Promise = global.Promise;\r\nmongoose.connect('mongodb://localhost:27017/eowyn-reconsidere-corporation');\r\n\r\napp.get('/', (req, res) => {\r\n\tres.json({\r\n\t\tmsg: 'Welcome to GraphQL'\r\n\t});\r\n});\r\n\r\napp.use(express.static('/reconsidere-corp/images'));\r\napp.use(express.static('/reconsidere-corp/archives'));\r\n\r\nvar jsonParser = bodyParser.json({ limit: '20mb', type: 'application/json' });\r\nvar urlencodedParser = bodyParser.urlencoded({\r\n\textended: true,\r\n\tlimit: '20mb',\r\n\ttype: 'application/x-www-form-urlencoding'\r\n});\r\n\r\napp.use(\r\n\t'/reconsidere/images',\r\n\tjsonParser,\r\n\turlencodedParser,\r\n\tcors(),\r\n\tgraphlHTTP({\r\n\t\tschema: schemaPicture,\r\n\t\tgraphiql: true\r\n\t})\r\n);\r\n\r\napp.use(\r\n\t'/reconsidere/archives',\r\n\tjsonParser,\r\n\turlencodedParser,\r\n\tcors(),\r\n\tgraphlHTTP({\r\n\t\tschema: schemaArchive,\r\n\t\tgraphiql: true\r\n\t})\r\n);\r\n\r\napp.use(\r\n\t'/login',\r\n\tbodyParser.text({ type: 'application/graphql' }),\r\n\tbodyParser.json(),\r\n\tcors(),\r\n\tgraphlHTTP({\r\n\t\tschema: schemaLogin,\r\n\t\tgraphiql: true\r\n\t})\r\n);\r\napp.use(\r\n\t'/collector',\r\n\tbodyParser.text({ type: 'application/graphql' }),\r\n\tbodyParser.json(),\r\n\tcors(),\r\n\tgraphlHTTP({\r\n\t\tschema: schemaCollector,\r\n\t\tgraphiql: true\r\n\t})\r\n);\r\n\r\napp.use(\r\n\t'/corporation',\r\n\tbodyParser.text({ type: 'application/graphql' }),\r\n\tbodyParser.json(),\r\n\tcors(),\r\n\tgraphlHTTP({\r\n\t\tschema: schemaCorporation,\r\n\t\tgraphiql: true\r\n\t})\r\n);\r\n\r\napp.use(\r\n\t'/provider',\r\n\tbodyParser.text({ type: 'application/graphql' }),\r\n\tbodyParser.json(),\r\n\tcors(),\r\n\tgraphlHTTP({\r\n\t\tschema: schemaProvider,\r\n\t\tgraphiql: true\r\n\t})\r\n);\r\n\r\napp.use(\r\n\t'/checkpoint',\r\n\tbodyParser.text({ type: 'application/graphql' }),\r\n\tbodyParser.json(),\r\n\tcors(),\r\n\tgraphlHTTP({\r\n\t\tschema: schemaCheckPoint,\r\n\t\tgraphiql: true\r\n\t})\r\n);\r\n\r\napp.use(\r\n\t'/transactionhistory',\r\n\tbodyParser.text({ type: 'application/graphql' }),\r\n\tbodyParser.json(),\r\n\tcors(),\r\n\tgraphlHTTP({\r\n\t\tschema: schemaTransactionHistory,\r\n\t\tgraphiql: true\r\n\t})\r\n);\r\n\r\napp.listen(PORT, () => {\r\n\tconsole.log(`Server is listening on PORT ${PORT}`);\r\n});\r\n\r\nexports.mongoose = mongoose;\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1574112533899
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\indexCollector.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexCollector.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexCollector.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexCollector.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
        "sourceFileName": "indexCollector.js"
      }
    },
    "ast": null,
    "code": "const collector = require('./collector/Mutation/collector');\n\nmodule.exports = { ...collector\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4Q29sbGVjdG9yLmpzIl0sIm5hbWVzIjpbImNvbGxlY3RvciIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxTQUFTLEdBQUdDLE9BQU8sQ0FBQyxnQ0FBRCxDQUF6Qjs7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLEVBQ2hCLEdBQUdIO0FBRGEsQ0FBakIiLCJzb3VyY2VSb290IjoiQzpcXHJlY29uc2lkZXJlXFxyZWNvbnNpZGVyZS1jb3Jwb3JhdGlvbi1hcGlcXHJlc29sdmVycyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbGxlY3RvciA9IHJlcXVpcmUoJy4vY29sbGVjdG9yL011dGF0aW9uL2NvbGxlY3RvcicpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0Li4uY29sbGVjdG9yXHJcbn07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "indexCollector.js"
      ],
      "names": [
        "collector",
        "require",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,gCAAD,CAAzB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,EAChB,GAAGH;AADa,CAAjB",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "sourcesContent": [
        "const collector = require('./collector/Mutation/collector');\r\n\r\nmodule.exports = {\r\n\t...collector\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1566267302950
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\collector\\\\Mutation\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\collector\\\\Mutation\\\\collector.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\collector\\Mutation",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\collector\\Mutation\\collector.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\collector\\Mutation\\collector.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\collector\\Mutation\\collector.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\collector\\Mutation",
        "sourceFileName": "collector.js"
      }
    },
    "ast": null,
    "code": "var Collector = require('../../../models/collector.model');\n\nvar Corporation = require('../../../models/corporation.model');\n\nvar Provider = require('../../../models/provider.model');\n\nvar CheckPoint = require('../../../models/checkpoint.model');\n\nvar TransactionHistory = require('../../../models/transactionhistory.model');\n\nmongoose = require('mongoose');\nvar Classification = {\n  Provider: 'Fornecedor',\n  Collector: 'Empresa Coletora'\n};\nmodule.exports = collector = {\n  Query: {\n    async getCollector(root, {\n      _id\n    }) {\n      return await Collector.findById(_id);\n    },\n\n    async getCollectorByUser(root, {\n      _id\n    }) {\n      var res = await Collector.findOne({\n        'users._id': _id\n      });\n\n      if (!res) {\n        return null;\n      } else {\n        return res;\n      }\n    },\n\n    async allCollectors(root, {\n      _id\n    }) {\n      return await Collector.find();\n    },\n\n    async allUnits(root, {\n      _id\n    }) {\n      var res = await Collector.findById(_id);\n\n      if (res) {\n        var unit;\n        var units = [];\n\n        for (var i = 0; res.units.length > i; i++) {\n          unit = undefined;\n          unit = await Collector.findById(res.units[i]._id);\n\n          if (!unit) {\n            unit = await Corporation.findById(res.units[i]._id);\n          }\n\n          if (!unit) {\n            unit = await Provider.findById(res.units[i]._id);\n          }\n\n          units.push(unit);\n        }\n\n        return units;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allClientsToCollector(root, {\n      _id\n    }) {\n      var clients = [];\n      var corporation = await Corporation.findOne({\n        'entries.sale._idColector': _id\n      });\n      var provider = await Provider.findOne({\n        'entries.sale._idColector': _id\n      });\n\n      if (corporation) {\n        corporation.entries.sale.forEach((sale, index) => {\n          if (sale._idColector !== _id) {\n            sales.splice(index, 1);\n          }\n        });\n        clients.push(corporation);\n      }\n\n      if (provider) {\n        provider.entries.sale.forEach((sale, index) => {\n          if (sale._idColector !== _id) {\n            sales.splice(index, 1);\n          }\n        });\n        clients.push(provider);\n      }\n\n      return clients;\n    },\n\n    async allDocuments(root, {\n      _id\n    }) {\n      var res = await Collector.findById(_id);\n\n      if (res) {\n        return res.documents;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allDepartments(root, {\n      _id\n    }) {\n      var res = await Collector.findById(_id);\n\n      if (res) {\n        return res.departments;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allResiduesRegister(root, {\n      _id\n    }) {\n      var res = await Collector.findById(_id);\n\n      if (res) {\n        return res.residuesRegister;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allResidueArrived(root, {\n      _id\n    }) {\n      var res = await Collector.findById(_id);\n\n      if (res) {\n        return res.residuesPerformed;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allSchedulings(root, {\n      _id\n    }) {\n      var res = await Collector.findById(_id);\n\n      if (res) {\n        return res.scheduling;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allEntries(root, {\n      _id\n    }) {\n      var res = await Collector.findById(_id);\n\n      if (res) {\n        return res.entries;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allProvidersId(root, {\n      _id\n    }) {\n      var res = await Collector.findById(_id);\n\n      if (res) {\n        return res.myProviders;\n      } else {\n        return undefined;\n      }\n    }\n\n  },\n  Mutation: {\n    async createCollector(root, {\n      input\n    }) {\n      var res = await Collector.findOne({\n        'users.email': input.users[0].email\n      });\n\n      if (res) {\n        throw new Error('WRE005');\n      } else {\n        return await Collector.create(input);\n      }\n    },\n\n    async createCollectorUnit(root, {\n      _id,\n      typeCorporation,\n      input\n    }) {\n      var res = await Collector.findById(_id);\n\n      for (var i = 0; input.length > i; i++) {\n        for (var x = 0; res.units.length > x; x++) {\n          if (input[i].users[0].email === res.units[x].email) {\n            throw new Error('WRE005');\n          }\n        }\n      }\n\n      const session = await mongoose.startSession();\n\n      try {\n        session.startTransaction();\n\n        for (var i = 0; input.length > i; i++) {\n          var id = undefined;\n          var returned = await Corporation.create(input[i]).then(x => {\n            id = x._id;\n          });\n          addID(_id, id, typeCorporation);\n        }\n\n        await session.commitTransaction();\n        await session.endSession();\n        console.log('resolved');\n        return await Collector.findById(_id);\n      } catch (error) {\n        await session.abortTransaction();\n        await session.endSession();\n        console.log(error);\n        console.log('aborting');\n        return new Error('ERE009');\n      }\n    },\n\n    async updateCollector(root, {\n      _id,\n      input\n    }) {\n      return await Collector.findOneAndUpdate({\n        _id\n      }, input, {\n        new: true\n      });\n    },\n\n    async deleteCollector(root, {\n      _id\n    }) {// return await Collector.findOneAndRemove({\n      // \t_id\n      // });\n    },\n\n    async createorUpdateDepartment(root, {\n      _id,\n      input\n    }) {\n      try {\n        res = await Collector.findById(_id, function (err, corp) {\n          if (err) {\n            return next(new Error('ERE009'));\n          } else {\n            for (var i = 0; input.length > i; i++) {\n              if (input[i]._id) {\n                index = corp.departments.findIndex(x => x._id == input[i]._id);\n\n                if (index) {\n                  corp.departments[index] = input[i];\n                } else if (!corp.departments || corp.departments.length <= 0) {\n                  corp.departments = [input[i]];\n                }\n              } else {\n                if (!corp.departments || corp.departments.length <= 0) {\n                  corp.departments = [input[i]];\n                } else {\n                  corp.departments.push(input[i]);\n                }\n              }\n            }\n\n            corp.save();\n            return;\n          }\n        });\n        var res = await Collector.findById(_id);\n        return res.departments;\n      } catch (error) {\n        throw new Error('ERE009');\n      }\n    },\n\n    async createorUpdateResiduesRegister(root, {\n      _id,\n      input\n    }) {\n      const session = await mongoose.startSession();\n\n      try {\n        session.startTransaction();\n        var res = await Collector.findById(_id);\n        var returnElement;\n\n        if (!res.residuesRegister || !res.residuesRegister.departments || res.residuesRegister.departments.length <= 0) {\n          var elementSaved;\n          returnElement = await new Promise((resolve, reject) => {\n            Collector.findById(_id, function (err, corp) {\n              if (!corp) console.log('ERE009');else {\n                input.departments.forEach(department => {\n                  if (!res.residuesRegister || !res.residuesRegister.departments || res.residuesRegister.departments.length <= 0) {\n                    res['residuesRegister'] = new Object();\n                    var depart = {\n                      _id: department._id,\n                      name: department.name,\n                      isChanged: false,\n                      description: department.description,\n                      active: department.active,\n                      qrCode: []\n                    };\n                    res['residuesRegister']['departments'] = [depart];\n                  } else {\n                    var depart = {\n                      _id: department._id,\n                      name: department.name,\n                      isChanged: false,\n                      description: department.description,\n                      active: department.active,\n                      qrCode: []\n                    };\n                    var exist = res.residuesRegister.departments.find(x => x.name === depart.name);\n\n                    if (!exist) {\n                      res.residuesRegister.departments.push(depart);\n                    }\n                  }\n                });\n                input.departments.forEach(department => {\n                  department.qrCode.forEach(qrCode => {\n                    res.residuesRegister.departments.forEach(departmentDB => {\n                      if (department.name === departmentDB.name) {\n                        departmentDB.qrCode.push(qrCode);\n                      }\n                    });\n                  });\n                });\n                corp.residuesRegister = res.residuesRegister;\n                corp.update(corp).then(x => {\n                  resolve(corp);\n                });\n              }\n            });\n          });\n          /* gerando checkPoint */\n\n          var checkpoint = await CheckPoint.findOne({\n            _idCorporation: _id\n          });\n          var isNew = false;\n          res = await Collector.findById(_id);\n          var checkpoin = await new Promise(async (resolve, reject) => {\n            res.residuesRegister.departments.forEach(department => {\n              department.qrCode.forEach(qrCode => {\n                if (!checkpoint) {\n                  var value = {\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n                  checkpoint = new Object({\n                    _idCorporation: _id,\n                    wastegenerated: new Object({\n                      qrCode: [value]\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n\n                  if (!checkpoint.wastegenerated || checkpoint.wastegenerated.length <= 0) {\n                    checkpoint = new Object({\n                      _idCorporation: _id,\n                      wastegenerated: new Object({\n                        qrCode: [value]\n                      })\n                    });\n                  } else {\n                    checkpoint.wastegenerated.qrCode.push(value);\n                  }\n                }\n              });\n            });\n\n            if (isNew) {\n              var returned = await CheckPoint.create(checkpoint);\n            } else {\n              CheckPoint.findOne(function (err, check) {\n                if (!check) console.log('ERE009');else {\n                  if (!check || check.length <= 0) {\n                    check = check;\n                  } else {\n                    check.wastegenerated = checkpoint.wastegenerated;\n                  }\n\n                  check.update(check).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n          /*Gerando historico */\n\n          var transaction = await TransactionHistory.findOne({\n            _idCorporation: _id\n          });\n          var isNew = false;\n          res = await Collector.findById(_id);\n          var history = await new Promise(async (resolve, reject) => {\n            res.residuesRegister.departments.forEach(department => {\n              department.qrCode.forEach(qrCode => {\n                if (!transaction) {\n                  var value = {\n                    date: new Date(),\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n                  transaction = new Object({\n                    _idCorporation: _id,\n                    checkPoints: new Object({\n                      wastegenerated: new Object({\n                        qrCode: [value]\n                      })\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    date: new Date(),\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n\n                  if (transaction.checkPoints.wastegenerated === undefined || transaction.checkPoints.wastegenerated.length <= 0) {\n                    transaction = new Object({\n                      _idCorporation: _id,\n                      checkPoints: new Object({\n                        wastegenerated: new Object({\n                          qrCode: [value]\n                        })\n                      })\n                    });\n                  } else {\n                    transaction.checkPoints.wastegenerated.qrCode.push(value);\n                  }\n                }\n              });\n            });\n\n            if (isNew) {\n              var returned = await TransactionHistory.create(transaction);\n            } else {\n              TransactionHistory.findOne(function (err, trans) {\n                if (!trans) console.log('ERE009');else {\n                  if (trans === undefined || trans.length <= 0) {\n                    trans = transaction;\n                  } else {\n                    trans.checkPoints.wastegenerated = transaction.checkPoints.wastegenerated;\n                  }\n\n                  trans.update(trans).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n        } else {\n          var removed = false;\n\n          for (i = 0; input.departments.length > i; i++) {\n            if (input.departments[i].isChanged) {\n              var existRemoved = false;\n              /*verifica se existe mudança de departamento e exclui o item que esta salvo no departamento antigo para depois inserir no novo\r\n              Se por acaso o usuário modificou, mas voltou ao antigo ele apenas não exclui e retorn\r\n              */\n\n              for (y = 0; y < input.departments[i].qrCode.length; y++) {\n                res.residuesRegister.departments.forEach((department, index) => {\n                  department.qrCode.forEach((qrCode, indexQrCode) => {\n                    if (input.departments[i]._id !== department._id) {\n                      if (qrCode.code === input.departments[i].qrCode[y].code) {\n                        department.qrCode.splice(indexQrCode, 1);\n                      }\n                    }\n                  });\n                }); //se não tem mais qrcode remove o departamento\n\n                res.residuesRegister.departments.forEach((department, index) => {\n                  if (!department || !department.qrCode || department.qrCode.length <= 0) {\n                    res.residuesRegister.departments.splice(index, 1);\n                  }\n                });\n              }\n\n              input.departments[i].isChanged = false;\n              removed = true;\n            }\n          }\n\n          await res.update(res).then(console.log('ok removed from old'));\n          res = await Collector.findById(_id);\n\n          for (i = 0; input.departments.length > i; i++) {\n            res = await Collector.findById(_id);\n            var exist = await res.residuesRegister.departments.find(x => x._id == input.departments[i]._id);\n\n            if (exist === undefined || exist.length <= 0) {\n              await res.residuesRegister.departments.push(input.departments[i]);\n              await res.update(res).then(console.log('ok push in department'));\n              res = await Collector.findById(_id);\n              /* gerando checkPoint */\n\n              var checkpoint = await CheckPoint.findOne({\n                _idCorporation: _id\n              });\n              var element = await new Promise((resolve, reject) => {\n                res.residuesRegister.departments.forEach(department => {\n                  department.qrCode.forEach(qrCode => {\n                    if (input.departments[i].name === department.name) {\n                      checkpoint.wastegenerated.qrCode.push(qrCode);\n                    }\n                  });\n                });\n                CheckPoint.findOne({\n                  _idCorporation: _id\n                }, function (err, check) {\n                  if (!check) console.log('ERE009');else {\n                    check.wastegenerated = checkpoint.wastegenerated;\n                    check.update(check).then(x => {});\n                  }\n                });\n                resolve();\n              });\n              /* gerando histórico de alterações */\n\n              res = await Collector.findById(_id);\n              var transaction = TransactionHistory.findOne({\n                _idCorporation: _id\n              });\n              var history = await new Promise((resolve, reject) => {\n                res.residuesRegister.departments.forEach(department => {\n                  department.qrCode.forEach(qrCode => {\n                    if (input.departments[i].name === department.name) {\n                      var value = {\n                        date: new Date(),\n                        code: qrCode.code,\n                        material: qrCode.material\n                      };\n                      TransactionHistory.findOne({\n                        _idCorporation: _id\n                      }, function (err, trans) {\n                        if (!trans) console.log('ERE009');else {\n                          trans.checkPoints.wastegenerated.qrCode.push(value);\n                          trans.update(trans).then(x => {});\n                        }\n                      });\n                    }\n                  });\n                });\n                resolve();\n              });\n              res = await Collector.findById(_id);\n            } else {\n              for (q = 0; input.departments[i].qrCode.length > q; q++) {\n                var isUpdated = false;\n                res = await Collector.findById(_id);\n\n                if (input.departments[i].qrCode[q]._id) {\n                  res.residuesRegister.departments.forEach(department => {\n                    department.qrCode.forEach(qrCode => {\n                      if (qrCode.code == input.departments[i].qrCode[q].code) {\n                        qrCode.set(input.departments[i].qrCode[q]);\n                        isUpdated = true;\n                      }\n                    });\n                  });\n\n                  if (isUpdated) {\n                    await res.update(res).then(console.log('ok set qr codes'));\n                    res = await Collector.findById(_id);\n                    isUpdated = false;\n                    /* gerando checkPoint */\n\n                    var checkpoint = await CheckPoint.findOne({\n                      _idCorporation: _id\n                    });\n                    var element = await new Promise((resolve, reject) => {\n                      checkpoint.wastegenerated.qrCode.forEach(qrCode => {\n                        if (qrCode.code == input.departments[i].qrCode[q].code) {\n                          qrCode.set(input.departments[i].qrCode[q]);\n                        }\n                      });\n                      CheckPoint.findOne({\n                        _idCorporation: _id\n                      }, function (err, check) {\n                        if (!check) console.log('ERE009');else {\n                          check.wastegenerated = checkpoint.wastegenerated;\n                          check.update(check).then(x => {\n                            resolve();\n                          });\n                        }\n                      });\n                    });\n                    /* gerando histórico de alterações */\n\n                    var transaction = await TransactionHistory.findOne({\n                      _idCorporation: _id\n                    });\n                    res = await Collector.findById(_id);\n                    var history = await new Promise((resolve, reject) => {\n                      var value = {\n                        date: new Date(),\n                        code: input.departments[i].qrCode[q].code,\n                        material: input.departments[i].qrCode[q].material\n                      };\n                      TransactionHistory.findOne({\n                        _idCorporation: _id\n                      }, function (err, trans) {\n                        if (!trans) console.log('ERE009');else {\n                          trans.checkPoints.wastegenerated.qrCode.push(value);\n                          trans.update(trans).then(x => {});\n                        }\n                      });\n                      resolve();\n                    });\n                    res = await Collector.findById(_id);\n                  }\n                } else {\n                  res.residuesRegister.departments.forEach(department => {\n                    if (input.departments[i]._id == department._id) {\n                      department.qrCode.push(input.departments[i].qrCode[q]);\n                    }\n                  });\n                  await res.update(res).then(console.log('ok push to exist department'));\n                  res = await Collector.findById(_id);\n                  /* gerando checkPoint */\n\n                  var checkpoint = await CheckPoint.findOne({\n                    _idCorporation: _id\n                  });\n                  var isPushed = false;\n                  var element = await new Promise((resolve, reject) => {\n                    checkpoint.wastegenerated.qrCode.forEach((qrCode, index) => {\n                      if (!isPushed) {\n                        checkpoint.wastegenerated.qrCode.push(input.departments[i].qrCode[q]);\n                        isPushed = true;\n                      }\n                    });\n                    CheckPoint.findOne({\n                      _idCorporation: _id\n                    }, function (err, check) {\n                      if (!check) console.log('ERE009');else {\n                        check.wastegenerated = checkpoint.wastegenerated;\n                        check.update(check).then(x => {\n                          resolve();\n                        });\n                      }\n                    });\n                  });\n                  /* gerando histórico de alterações */\n\n                  res = await Collector.findById(_id);\n                  var transaction = await TransactionHistory.findOne({\n                    _idCorporation: _id\n                  });\n                  var history = await new Promise((resolve, reject) => {\n                    var value = {\n                      date: new Date(),\n                      code: input.departments[i].qrCode[q].code,\n                      material: input.departments[i].qrCode[q].material\n                    };\n                    TransactionHistory.findOne({\n                      _idCorporation: _id\n                    }, function (err, trans) {\n                      if (!trans) console.log('ERE009');else {\n                        trans.checkPoints.wastegenerated.qrCode.push(value);\n                        trans.update(trans).then(x => {});\n                        resolve();\n                      }\n                    });\n                  });\n                  res = await Collector.findById(_id);\n                }\n              }\n            }\n          }\n        }\n\n        await session.commitTransaction();\n        await session.endSession();\n        console.log('resolved');\n        var res = await Collector.findById(_id);\n        return res.residuesRegister;\n      } catch (error) {\n        await session.abortTransaction();\n        await session.endSession();\n        console.log(error);\n        console.log('aborting');\n        return new Error('ERE009');\n      }\n    },\n\n    async createorUpdateScheduling(root, {\n      _id,\n      input\n    }) {\n      const session = await mongoose.startSession();\n\n      try {\n        session.startTransaction();\n        var res = await Collector.findById(_id);\n\n        if (!res.scheduling || res.scheduling.length <= 0) {\n          returnElement = await new Promise((resolve, reject) => {\n            Collector.findById(_id, function (err, corp) {\n              if (!corp) console.log('ERE009');else {\n                input.forEach(scheduling => {\n                  if (res.scheduling === undefined || res.scheduling.length <= 0) {\n                    res.scheduling = [scheduling];\n                  } else {\n                    res.scheduling.push(scheduling);\n                  }\n                });\n              }\n              corp.scheduling = res.scheduling;\n              corp.update(corp).then(x => {\n                resolve(corp);\n              });\n            });\n          });\n          /* gerando checkPoint */\n\n          var checkpoint = await CheckPoint.findOne({\n            _idCorporation: _id\n          });\n          res = await Collector.findById(_id);\n          var isNew = false;\n          var checkpoin = await new Promise(async (resolve, reject) => {\n            res.scheduling.forEach(scheduling => {\n              scheduling.qrCode.forEach(qrCode => {\n                if (!checkpoint) {\n                  var value = {\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n                  checkpoint = new Object({\n                    collectionrequested: new Object({\n                      qrCode: [value]\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n\n                  if (!checkpoint.collectionrequested || checkpoint.collectionrequested.length <= 0) {\n                    checkpoint = new Object({\n                      collectionrequested: new Object({\n                        qrCode: [value]\n                      })\n                    });\n                  } else {\n                    checkpoint.collectionrequested.qrCode.push(value);\n                  }\n                }\n              });\n            });\n\n            if (isNew) {\n              var returned = await CheckPoint.create(checkpoint);\n            } else {\n              CheckPoint.findOne({\n                _idCorporation: _id\n              }, function (err, check) {\n                if (!check) console.log('ERE009');else {\n                  if (!check || check.length <= 0) {\n                    check = check;\n                  } else {\n                    check.collectionrequested = checkpoint.collectionrequested;\n                  }\n\n                  check.update(check).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n          /*Gerando historico */\n\n          var transaction = await TransactionHistory.findOne({\n            _idCorporation: _id\n          });\n          res = await Collector.findById(_id);\n          var isNew = false;\n          var history = await new Promise(async (resolve, reject) => {\n            res.scheduling.forEach(scheduling => {\n              scheduling.qrCode.forEach(qrCode => {\n                if (!transaction) {\n                  var value = {\n                    date: new Date(),\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n                  transaction = new Object({\n                    checkPoints: new Object({\n                      collectionrequested: new Object({\n                        qrCode: [value]\n                      })\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    date: new Date(),\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n\n                  if (!transaction.checkPoints || !transaction.checkPoints.collectionrequested || transaction.checkPoints.collectionrequested.length <= 0) {\n                    transaction = new Object({\n                      checkPoints: new Object({\n                        collectionrequested: new Object({\n                          qrCode: [value]\n                        })\n                      })\n                    });\n                  } else {\n                    transaction.checkPoints.collectionrequested.qrCode.push(value);\n                  }\n                }\n              });\n            });\n\n            if (isNew) {\n              var returned = await TransactionHistory.create(transaction);\n            } else {\n              TransactionHistory.findOne({\n                _idCorporation: _id\n              }, function (err, trans) {\n                if (!trans) console.log('ERE009');else {\n                  if (!trans || trans.length <= 0) {\n                    trans = transaction;\n                  } else {\n                    trans.checkPoints.collectionrequested = transaction.checkPoints.collectionrequested;\n                  }\n\n                  trans.update(trans).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n        } else {\n          for (var i = 0; input.length > i; i++) {\n            var exist = await res.scheduling.find(x => x._id == input[i]._id);\n\n            if (!exist || exist.length <= 0) {\n              res.scheduling.push(input[i]);\n              await res.update(res).then(console.log('ok push scheduling'));\n            } else {\n              exist.set(input[i]);\n              await res.update(res).then(console.log('ok set scheduling'));\n            }\n\n            res = await Collector.findById(_id);\n            /* gerando checkPoint */\n\n            var checkpoint = await CheckPoint.findOne({\n              _idCorporation: _id\n            });\n            var element = await new Promise((resolve, reject) => {\n              for (var x = 0; input[i].qrCode.length > x; x++) {\n                var existQr = undefined;\n\n                for (y = 0; y < checkpoint.collectionrequested.qrCode.length; y++) {\n                  if (checkpoint.collectionrequested.qrCode[y].code === input[i].qrCode[x].code) {\n                    existQr = checkpoint.collectionrequested.qrCode[y];\n                  }\n                }\n\n                if (existQr) {\n                  existQr.set(input[i].qrCode[x]);\n                } else {\n                  checkpoint.collectionrequested.qrCode.push(input[i].qrCode[x]);\n                }\n              }\n\n              CheckPoint.findOne({\n                _idCorporation: _id\n              }, function (err, check) {\n                if (!check) console.log('ERE009');else {\n                  check.collectionrequested = checkpoint.collectionrequested;\n                  check.update(check).then(x => {\n                    resolve();\n                  });\n                }\n              });\n            });\n            /* gerando histórico de alterações */\n\n            var transaction = await TransactionHistory.findOne({\n              _idCorporation: _id\n            });\n            var element = await new Promise((resolve, reject) => {\n              for (var x = 0; input[i].qrCode.length > x; x++) {\n                transaction.checkPoints.collectionrequested.qrCode.push(input[i].qrCode[x]);\n              }\n\n              TransactionHistory.findOne({\n                _idCorporation: _id\n              }, function (err, trans) {\n                if (!trans) console.log('ERE009');else {\n                  trans.checkPoints.collectionrequested = transaction.checkPoints.collectionrequested;\n                  trans.update(trans).then(x => {\n                    resolve();\n                  });\n                }\n              });\n            });\n            res = await Collector.findById(_id);\n          }\n        }\n\n        await session.commitTransaction();\n        await session.endSession();\n        console.log('resolved');\n        var res = await Collector.findById(_id);\n        return res.scheduling;\n      } catch (error) {\n        await session.abortTransaction();\n        await session.endSession();\n        console.log(error);\n        console.log('aborting');\n        return new Error('ERE009');\n      }\n    },\n\n    async createorUpdateEntries(root, {\n      _id,\n      input\n    }) {\n      const session = await mongoose.startSession();\n\n      try {\n        session.startTransaction();\n        var res = await Collector.findById(_id);\n\n        if (res.entries === undefined || res.entries === null) {\n          returnElement = await new Promise((resolve, reject) => {\n            Collector.findById(_id, function (err, corp) {\n              if (!corp) console.log('ERE009');else {\n                if (res.entries === undefined || res.entries === null) {\n                  res.entries = input;\n                } else {\n                  res.entries = input;\n                }\n              }\n              corp.entries = res.entries;\n              corp.update(corp).then(x => {\n                resolve(corp);\n              });\n            });\n          });\n          /* gerando checkPoint */\n\n          var checkpoint = await CheckPoint.find({\n            _idCorporation: _id\n          });\n          res = await Collector.findById(_id);\n          var isNew = false;\n          var checkpoin = await new Promise(async (resolve, reject) => {\n            if (res.entries.sale && res.entries.sale.length > 0) {\n              res.entries.sale.forEach(sale => {\n                if (!checkpoint || checkpoint.length <= 0) {\n                  var value = {\n                    code: sale.qrCode.code,\n                    material: sale.qrCode.material\n                  };\n                  checkpoint = new Object({\n                    collectionperformed: new Object({\n                      qrCode: [value]\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    code: sale.qrCode.code,\n                    material: sale.qrCode.material\n                  };\n\n                  if (!checkpoint.collectionperformed || checkpoint.collectionperformed.length <= 0) {\n                    checkpoint = new Object({\n                      collectionperformed: new Object({\n                        qrCode: [value]\n                      })\n                    });\n                  } else {\n                    checkpoint.collectionperformed.qrCode.push(value);\n                  }\n                }\n              });\n            } else if (res.entries.purchase && res.entries.purchase.length > 0) {\n              res.entries.purchase.forEach(purchase => {\n                if (!checkpoint || checkpoint.length <= 0) {\n                  var value = {\n                    code: purchase.qrCode.code,\n                    material: purchase.qrCode.material\n                  };\n                  checkpoint = new Object({\n                    collectionperformed: new Object({\n                      qrCode: [value]\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    code: purchase.qrCode.code,\n                    material: purchase.qrCode.material\n                  };\n\n                  if (!checkpoint.collectionperformed || checkpoint.collectionperformed.length <= 0) {\n                    checkpoint = new Object({\n                      collectionperformed: new Object({\n                        qrCode: [value]\n                      })\n                    });\n                  } else {\n                    checkpoint.collectionperformed.qrCode.push(value);\n                  }\n                }\n              });\n            }\n\n            if (isNew) {\n              var returned = await CheckPoint.create(checkpoint);\n            } else {\n              CheckPoint.findOne({\n                _idCorporation: _id\n              }, function (err, check) {\n                if (!check) {\n                  console.log('ERE009');\n                } else {\n                  if (!check || check.length <= 0) {\n                    check = checkpoint;\n                  } else {\n                    check.collectionperformed = checkpoint.collectionperformed;\n                  }\n\n                  check.update(check).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n          /* gerando histórico de alterações */\n\n          var transaction = await TransactionHistory.find({\n            _idCorporation: _id\n          });\n          res = await Collector.findById(_id);\n          var isNew = false;\n          var history = await new Promise(async (resolve, reject) => {\n            if (res.entries.sale && res.entries.sale.length > 0) {\n              res.entries.sale.forEach(sale => {\n                if (transaction === undefined || transaction === null) {\n                  var value = {\n                    date: new Date(),\n                    code: sale.qrCode.code,\n                    material: sale.qrCode.material\n                  };\n                  transaction = new Object({\n                    checkPoints: new Object({\n                      collectionperformed: new Object({\n                        qrCode: [value]\n                      })\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    date: new Date(),\n                    code: sale.qrCode.code,\n                    material: sale.qrCode.material\n                  };\n\n                  if (!transaction.checkPoints || !transaction.checkPoints.collectionperformed || transaction.checkPoints.collectionperformed.length <= 0) {\n                    transaction = new Object({\n                      checkPoints: new Object({\n                        collectionperformed: new Object({\n                          qrCode: [value]\n                        })\n                      })\n                    });\n                  } else {\n                    transaction.checkPoints.collectionperformed.qrCode.push(value);\n                  }\n                }\n              });\n            } else if (res.entries.purchase && res.entries.purchase.length > 0) {\n              res.entries.purchase.forEach(purchase => {\n                if (transaction === undefined || transaction === null) {\n                  var value = {\n                    date: new Date(),\n                    code: purchase.qrCode.code,\n                    material: purchase.qrCode.material\n                  };\n                  transaction = new Object({\n                    checkPoints: new Object({\n                      collectionperformed: new Object({\n                        qrCode: [value]\n                      })\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    date: new Date(),\n                    code: purchase.qrCode.code,\n                    material: purchase.qrCode.material\n                  };\n\n                  if (!transaction.checkPoints || !transaction.checkPoints.collectionperformed || transaction.checkPoints.collectionperformed.length <= 0) {\n                    transaction = new Object({\n                      checkPoints: new Object({\n                        collectionperformed: new Object({\n                          qrCode: [value]\n                        })\n                      })\n                    });\n                  } else {\n                    transaction.checkPoints.collectionperformed.qrCode.push(value);\n                  }\n                }\n              });\n            }\n\n            if (isNew) {\n              var returned = await TransactionHistory.create(transaction);\n            } else {\n              TransactionHistory.findOne({\n                _idCorporation: _id\n              }, function (err, trans) {\n                if (!trans) console.log('ERE009');else {\n                  if (trans === undefined || trans === null) {\n                    trans = transaction;\n                  } else {\n                    trans.checkPoints.collectionperformed = transaction.checkPoints.collectionperformed;\n                  }\n\n                  trans.update(trans).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n        } else {\n          if (input.sale !== undefined || input.sale.length > 0) {\n            for (i = 0; i < input.sale.length; i++) {\n              var exist = await res.entries.sale.find(x => x._id == input.sale[i]._id);\n\n              if (exist) {\n                exist.set(input.sale[i]);\n                await res.update(res).then(console.log('ok set entries sale'));\n              } else {\n                await res.entries.sale.push(input.sale[i]);\n                await res.update(res).then(console.log('ok push entries sale'));\n              }\n\n              res = await Collector.findById(_id);\n              /* gerando checkPoint */\n\n              var checkpoint = await CheckPoint.findOne({\n                _idCorporation: _id\n              });\n              var element = await new Promise((resolve, reject) => {\n                if (input.sale !== undefined && input.sale.length > 0) {\n                  var existQr = undefined;\n\n                  for (y = 0; y < checkpoint.collectionperformed.qrCode.length; y++) {\n                    if (checkpoint.collectionperformed.qrCode[y].code === input.sale[i].qrCode.code) {\n                      existQr = checkpoint.collectionperformed.qrCode[y];\n                    }\n                  }\n\n                  if (existQr) {\n                    existQr.set(input.sale[i].qrCode);\n                  } else {\n                    checkpoint.collectionperformed.qrCode.push(input.sale[i].qrCode);\n                  }\n                }\n\n                CheckPoint.findOne({\n                  _idCorporation: _id\n                }, function (err, check) {\n                  if (!check) console.log('ERE009');else {\n                    check.collectionperformed = checkpoint.collectionperformed;\n                    check.update(check).then(x => {\n                      resolve();\n                    });\n                  }\n                });\n              });\n              /* gerando histórico de alterações */\n\n              res = await Collector.findById(_id);\n              var transaction = await TransactionHistory.findOne({\n                _idCorporation: _id\n              });\n              var element = await new Promise((resolve, reject) => {\n                if (input.sale !== undefined && input.sale.length > 0) {\n                  transaction.checkPoints.collectionperformed.qrCode.push(input.sale[i].qrCode);\n                }\n\n                TransactionHistory.findOne({\n                  _idCorporation: _id\n                }, function (err, trans) {\n                  if (!trans) console.log('ERE009');else {\n                    trans.checkPoints.collectionperformed = transaction.checkPoints.collectionperformed;\n                    trans.update(trans).then(x => {\n                      resolve();\n                    });\n                  }\n                });\n              });\n              res = await Collector.findById(_id);\n            }\n          } else if (input.purchase !== undefined || input.purchase.length > 0) {\n            for (i = 0; i < input.purchase.length; i++) {\n              var exist = await res.entries.purchase.find(x => x._id == input.purchase[i]._id);\n\n              if (exist) {\n                exist.set(input.purchase[i]);\n                await res.update(res).then(console.log('ok set entries purchase'));\n              } else {\n                await res.entries.purchase.push(input.purchase[i]);\n                await res.update(res).then(console.log('ok push entries purchase'));\n              }\n\n              res = await Collector.findById(_id);\n              /* gerando checkPoint */\n\n              var checkpoint = await CheckPoint.findOne({\n                _idCorporation: _id\n              });\n              var element = await new Promise((resolve, reject) => {\n                if (input.purchase !== undefined && input.purchase.length > 0) {\n                  var existQr = undefined;\n\n                  for (y = 0; y < checkpoint.collectionperformed.qrCode.length; y++) {\n                    if (checkpoint.collectionperformed.qrCode[y].code === input.purchase[i].qrCode.code) {\n                      existQr = checkpoint.collectionperformed.qrCode[y];\n                    }\n                  }\n\n                  if (existQr) {\n                    existQr.set(input.purchase[i].qrCode);\n                  } else {\n                    checkpoint.collectionperformed.qrCode.push(input.purchase[i].qrCode);\n                  }\n                }\n\n                CheckPoint.findOne({\n                  _idCorporation: _id\n                }, function (err, check) {\n                  if (!check) console.log('ERE009');else {\n                    check.collectionperformed = checkpoint.collectionperformed;\n                    check.update(check).then(x => {\n                      resolve();\n                    });\n                  }\n                });\n              });\n              /* gerando histórico de alterações */\n\n              res = await Collector.findById(_id);\n              var transaction = await TransactionHistory.findOne();\n              var element = await new Promise((resolve, reject) => {\n                if (input.purchase !== undefined && input.purchase.length > 0) {\n                  transaction.checkPoints.collectionperformed.qrCode.push(input.purchase[i].qrCode);\n                }\n\n                TransactionHistory.findOne({\n                  _idCorporation: _id\n                }, function (err, trans) {\n                  if (!trans) console.log('ERE009');else {\n                    trans.checkPoints.collectionperformed = transaction.checkPoints.collectionperformed;\n                    trans.update(trans).then(x => {\n                      resolve();\n                    });\n                  }\n                });\n              });\n              res = await Collector.findById(_id);\n            }\n          }\n        }\n\n        await session.commitTransaction();\n        await session.endSession();\n        console.log('resolved');\n        var res = await Collector.findById(_id);\n        return res.entries;\n      } catch (error) {\n        await session.abortTransaction();\n        await session.endSession();\n        console.log(error);\n        console.log('aborting');\n        return new Error('ERE009');\n      }\n    },\n\n    async createorUpdateResidueArrived(root, {\n      _id,\n      input\n    }) {},\n\n    async createorUpdateDocument(root, {\n      _id,\n      input\n    }) {\n      try {\n        var element = await new Promise((resolve, reject) => {\n          var res = Collector.findById(_id, function (err, corp) {\n            if (err) {\n              reject(next(new Error('ERE009')));\n            } else {\n              for (var i = 0; input.length > i; i++) {\n                if (input[i]._id) {\n                  index = corp.documents.findIndex(x => x._id == input[i]._id);\n                  corp.documents[index] = input[i];\n                } else {\n                  corp.documents.push(input[i]);\n                }\n              }\n\n              corp.save();\n              resolve(corp);\n            }\n          });\n        });\n        var res = await Collector.findById(_id);\n        return res.documents;\n      } catch (error) {\n        throw new Error('ERE009');\n      }\n    }\n\n  }\n};\n\nasync function addID(_id, id, typeCorporation) {\n  var object = {\n    unitsId: id\n  };\n\n  if (typeCorporation === Classification.Collector) {\n    var collector = await Collector.findById(_id);\n\n    if (collector.units === undefined || collector.units.length <= 0) {\n      collector['units'] = [object];\n    } else {\n      collector.units.push(object);\n    }\n\n    Collector.findOne(_id, function (err, coll) {\n      if (!coll) console.log('ERE009');else {\n        coll.units = collector.units;\n        coll.update(coll).then(x => {});\n      }\n    });\n  } else if (typeCorporation === Classification.Provider) {\n    var provider = await Provider.findById(_id);\n\n    if (provider.units === undefined || provider.units.length <= 0) {\n      provider['units'] = [object];\n    } else {\n      provider.units.push(object);\n    }\n\n    Provider.findOne(_id, function (err, prov) {\n      if (!prov) console.log('ERE009');else {\n        prov.units = provider.units;\n        prov.update(prov).then(x => {});\n      }\n    });\n  } else {\n    var corporation = await Corporation.findById(_id);\n\n    if (corporation.units === undefined || corporation.units.length <= 0) {\n      corporation['units'] = [object];\n    } else {\n      corporation.units.push(object);\n    }\n\n    await Corporation.findById(_id, function (err, corp) {\n      if (!corp) console.log('ERE009');else {\n        corp.units = corporation.units;\n        corp.update(corp).then(x => {});\n      }\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbGxlY3Rvci5qcyJdLCJuYW1lcyI6WyJDb2xsZWN0b3IiLCJyZXF1aXJlIiwiQ29ycG9yYXRpb24iLCJQcm92aWRlciIsIkNoZWNrUG9pbnQiLCJUcmFuc2FjdGlvbkhpc3RvcnkiLCJtb25nb29zZSIsIkNsYXNzaWZpY2F0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbGxlY3RvciIsIlF1ZXJ5IiwiZ2V0Q29sbGVjdG9yIiwicm9vdCIsIl9pZCIsImZpbmRCeUlkIiwiZ2V0Q29sbGVjdG9yQnlVc2VyIiwicmVzIiwiZmluZE9uZSIsImFsbENvbGxlY3RvcnMiLCJmaW5kIiwiYWxsVW5pdHMiLCJ1bml0IiwidW5pdHMiLCJpIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicHVzaCIsImFsbENsaWVudHNUb0NvbGxlY3RvciIsImNsaWVudHMiLCJjb3Jwb3JhdGlvbiIsInByb3ZpZGVyIiwiZW50cmllcyIsInNhbGUiLCJmb3JFYWNoIiwiaW5kZXgiLCJfaWRDb2xlY3RvciIsInNhbGVzIiwic3BsaWNlIiwiYWxsRG9jdW1lbnRzIiwiZG9jdW1lbnRzIiwiYWxsRGVwYXJ0bWVudHMiLCJkZXBhcnRtZW50cyIsImFsbFJlc2lkdWVzUmVnaXN0ZXIiLCJyZXNpZHVlc1JlZ2lzdGVyIiwiYWxsUmVzaWR1ZUFycml2ZWQiLCJyZXNpZHVlc1BlcmZvcm1lZCIsImFsbFNjaGVkdWxpbmdzIiwic2NoZWR1bGluZyIsImFsbEVudHJpZXMiLCJhbGxQcm92aWRlcnNJZCIsIm15UHJvdmlkZXJzIiwiTXV0YXRpb24iLCJjcmVhdGVDb2xsZWN0b3IiLCJpbnB1dCIsInVzZXJzIiwiZW1haWwiLCJFcnJvciIsImNyZWF0ZSIsImNyZWF0ZUNvbGxlY3RvclVuaXQiLCJ0eXBlQ29ycG9yYXRpb24iLCJ4Iiwic2Vzc2lvbiIsInN0YXJ0U2Vzc2lvbiIsInN0YXJ0VHJhbnNhY3Rpb24iLCJpZCIsInJldHVybmVkIiwidGhlbiIsImFkZElEIiwiY29tbWl0VHJhbnNhY3Rpb24iLCJlbmRTZXNzaW9uIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiYWJvcnRUcmFuc2FjdGlvbiIsInVwZGF0ZUNvbGxlY3RvciIsImZpbmRPbmVBbmRVcGRhdGUiLCJuZXciLCJkZWxldGVDb2xsZWN0b3IiLCJjcmVhdGVvclVwZGF0ZURlcGFydG1lbnQiLCJlcnIiLCJjb3JwIiwibmV4dCIsImZpbmRJbmRleCIsInNhdmUiLCJjcmVhdGVvclVwZGF0ZVJlc2lkdWVzUmVnaXN0ZXIiLCJyZXR1cm5FbGVtZW50IiwiZWxlbWVudFNhdmVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJkZXBhcnRtZW50IiwiT2JqZWN0IiwiZGVwYXJ0IiwibmFtZSIsImlzQ2hhbmdlZCIsImRlc2NyaXB0aW9uIiwiYWN0aXZlIiwicXJDb2RlIiwiZXhpc3QiLCJkZXBhcnRtZW50REIiLCJ1cGRhdGUiLCJjaGVja3BvaW50IiwiX2lkQ29ycG9yYXRpb24iLCJpc05ldyIsImNoZWNrcG9pbiIsInZhbHVlIiwiY29kZSIsIm1hdGVyaWFsIiwid2FzdGVnZW5lcmF0ZWQiLCJjaGVjayIsInRyYW5zYWN0aW9uIiwiaGlzdG9yeSIsImRhdGUiLCJEYXRlIiwiY2hlY2tQb2ludHMiLCJ0cmFucyIsInJlbW92ZWQiLCJleGlzdFJlbW92ZWQiLCJ5IiwiaW5kZXhRckNvZGUiLCJlbGVtZW50IiwicSIsImlzVXBkYXRlZCIsInNldCIsImlzUHVzaGVkIiwiY3JlYXRlb3JVcGRhdGVTY2hlZHVsaW5nIiwiY29sbGVjdGlvbnJlcXVlc3RlZCIsImV4aXN0UXIiLCJjcmVhdGVvclVwZGF0ZUVudHJpZXMiLCJjb2xsZWN0aW9ucGVyZm9ybWVkIiwicHVyY2hhc2UiLCJjcmVhdGVvclVwZGF0ZVJlc2lkdWVBcnJpdmVkIiwiY3JlYXRlb3JVcGRhdGVEb2N1bWVudCIsIm9iamVjdCIsInVuaXRzSWQiLCJjb2xsIiwicHJvdiJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsU0FBUyxHQUFHQyxPQUFPLENBQUMsaUNBQUQsQ0FBdkI7O0FBQ0EsSUFBSUMsV0FBVyxHQUFHRCxPQUFPLENBQUMsbUNBQUQsQ0FBekI7O0FBQ0EsSUFBSUUsUUFBUSxHQUFHRixPQUFPLENBQUMsZ0NBQUQsQ0FBdEI7O0FBQ0EsSUFBSUcsVUFBVSxHQUFHSCxPQUFPLENBQUMsa0NBQUQsQ0FBeEI7O0FBQ0EsSUFBSUksa0JBQWtCLEdBQUdKLE9BQU8sQ0FBQywwQ0FBRCxDQUFoQzs7QUFDQUssUUFBUSxHQUFHTCxPQUFPLENBQUMsVUFBRCxDQUFsQjtBQUVBLElBQUlNLGNBQWMsR0FBRztBQUNwQkosRUFBQUEsUUFBUSxFQUFFLFlBRFU7QUFFcEJILEVBQUFBLFNBQVMsRUFBRTtBQUZTLENBQXJCO0FBS0FRLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkMsU0FBUyxHQUFHO0FBQzVCQyxFQUFBQSxLQUFLLEVBQUU7QUFDTixVQUFNQyxZQUFOLENBQW1CQyxJQUFuQixFQUF5QjtBQUFFQyxNQUFBQTtBQUFGLEtBQXpCLEVBQWtDO0FBQ2pDLGFBQU8sTUFBTWQsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFiO0FBQ0EsS0FISzs7QUFJTixVQUFNRSxrQkFBTixDQUF5QkgsSUFBekIsRUFBK0I7QUFBRUMsTUFBQUE7QUFBRixLQUEvQixFQUF3QztBQUN2QyxVQUFJRyxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2tCLE9BQVYsQ0FBa0I7QUFBRSxxQkFBYUo7QUFBZixPQUFsQixDQUFoQjs7QUFDQSxVQUFJLENBQUNHLEdBQUwsRUFBVTtBQUNULGVBQU8sSUFBUDtBQUNBLE9BRkQsTUFFTztBQUNOLGVBQU9BLEdBQVA7QUFDQTtBQUNELEtBWEs7O0FBWU4sVUFBTUUsYUFBTixDQUFvQk4sSUFBcEIsRUFBMEI7QUFBRUMsTUFBQUE7QUFBRixLQUExQixFQUFtQztBQUNsQyxhQUFPLE1BQU1kLFNBQVMsQ0FBQ29CLElBQVYsRUFBYjtBQUNBLEtBZEs7O0FBZU4sVUFBTUMsUUFBTixDQUFlUixJQUFmLEVBQXFCO0FBQUVDLE1BQUFBO0FBQUYsS0FBckIsRUFBOEI7QUFDN0IsVUFBSUcsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQWhCOztBQUNBLFVBQUlHLEdBQUosRUFBUztBQUNSLFlBQUlLLElBQUo7QUFDQSxZQUFJQyxLQUFLLEdBQUcsRUFBWjs7QUFDQSxhQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCUCxHQUFHLENBQUNNLEtBQUosQ0FBVUUsTUFBVixHQUFtQkQsQ0FBbkMsRUFBc0NBLENBQUMsRUFBdkMsRUFBMkM7QUFDMUNGLFVBQUFBLElBQUksR0FBR0ksU0FBUDtBQUNBSixVQUFBQSxJQUFJLEdBQUcsTUFBTXRCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkUsR0FBRyxDQUFDTSxLQUFKLENBQVVDLENBQVYsRUFBYVYsR0FBaEMsQ0FBYjs7QUFDQSxjQUFJLENBQUNRLElBQUwsRUFBVztBQUNWQSxZQUFBQSxJQUFJLEdBQUcsTUFBTXBCLFdBQVcsQ0FBQ2EsUUFBWixDQUFxQkUsR0FBRyxDQUFDTSxLQUFKLENBQVVDLENBQVYsRUFBYVYsR0FBbEMsQ0FBYjtBQUNBOztBQUNELGNBQUksQ0FBQ1EsSUFBTCxFQUFXO0FBQ1ZBLFlBQUFBLElBQUksR0FBRyxNQUFNbkIsUUFBUSxDQUFDWSxRQUFULENBQWtCRSxHQUFHLENBQUNNLEtBQUosQ0FBVUMsQ0FBVixFQUFhVixHQUEvQixDQUFiO0FBQ0E7O0FBRURTLFVBQUFBLEtBQUssQ0FBQ0ksSUFBTixDQUFXTCxJQUFYO0FBQ0E7O0FBQ0QsZUFBT0MsS0FBUDtBQUNBLE9BaEJELE1BZ0JPO0FBQ04sZUFBT0csU0FBUDtBQUNBO0FBQ0QsS0FwQ0s7O0FBcUNOLFVBQU1FLHFCQUFOLENBQTRCZixJQUE1QixFQUFrQztBQUFFQyxNQUFBQTtBQUFGLEtBQWxDLEVBQTJDO0FBQzFDLFVBQUllLE9BQU8sR0FBRyxFQUFkO0FBQ0EsVUFBSUMsV0FBVyxHQUFHLE1BQU01QixXQUFXLENBQUNnQixPQUFaLENBQW9CO0FBQUUsb0NBQTRCSjtBQUE5QixPQUFwQixDQUF4QjtBQUNBLFVBQUlpQixRQUFRLEdBQUcsTUFBTTVCLFFBQVEsQ0FBQ2UsT0FBVCxDQUFpQjtBQUFFLG9DQUE0Qko7QUFBOUIsT0FBakIsQ0FBckI7O0FBQ0EsVUFBSWdCLFdBQUosRUFBaUI7QUFDaEJBLFFBQUFBLFdBQVcsQ0FBQ0UsT0FBWixDQUFvQkMsSUFBcEIsQ0FBeUJDLE9BQXpCLENBQWlDLENBQUNELElBQUQsRUFBT0UsS0FBUCxLQUFpQjtBQUNqRCxjQUFJRixJQUFJLENBQUNHLFdBQUwsS0FBcUJ0QixHQUF6QixFQUE4QjtBQUM3QnVCLFlBQUFBLEtBQUssQ0FBQ0MsTUFBTixDQUFhSCxLQUFiLEVBQW9CLENBQXBCO0FBQ0E7QUFDRCxTQUpEO0FBS0FOLFFBQUFBLE9BQU8sQ0FBQ0YsSUFBUixDQUFhRyxXQUFiO0FBQ0E7O0FBQ0QsVUFBSUMsUUFBSixFQUFjO0FBQ2JBLFFBQUFBLFFBQVEsQ0FBQ0MsT0FBVCxDQUFpQkMsSUFBakIsQ0FBc0JDLE9BQXRCLENBQThCLENBQUNELElBQUQsRUFBT0UsS0FBUCxLQUFpQjtBQUM5QyxjQUFJRixJQUFJLENBQUNHLFdBQUwsS0FBcUJ0QixHQUF6QixFQUE4QjtBQUM3QnVCLFlBQUFBLEtBQUssQ0FBQ0MsTUFBTixDQUFhSCxLQUFiLEVBQW9CLENBQXBCO0FBQ0E7QUFDRCxTQUpEO0FBS0FOLFFBQUFBLE9BQU8sQ0FBQ0YsSUFBUixDQUFhSSxRQUFiO0FBQ0E7O0FBQ0QsYUFBT0YsT0FBUDtBQUNBLEtBMURLOztBQTJETixVQUFNVSxZQUFOLENBQW1CMUIsSUFBbkIsRUFBeUI7QUFBRUMsTUFBQUE7QUFBRixLQUF6QixFQUFrQztBQUNqQyxVQUFJRyxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBaEI7O0FBQ0EsVUFBSUcsR0FBSixFQUFTO0FBQ1IsZUFBT0EsR0FBRyxDQUFDdUIsU0FBWDtBQUNBLE9BRkQsTUFFTztBQUNOLGVBQU9kLFNBQVA7QUFDQTtBQUNELEtBbEVLOztBQW1FTixVQUFNZSxjQUFOLENBQXFCNUIsSUFBckIsRUFBMkI7QUFBRUMsTUFBQUE7QUFBRixLQUEzQixFQUFvQztBQUNuQyxVQUFJRyxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBaEI7O0FBQ0EsVUFBSUcsR0FBSixFQUFTO0FBQ1IsZUFBT0EsR0FBRyxDQUFDeUIsV0FBWDtBQUNBLE9BRkQsTUFFTztBQUNOLGVBQU9oQixTQUFQO0FBQ0E7QUFDRCxLQTFFSzs7QUEyRU4sVUFBTWlCLG1CQUFOLENBQTBCOUIsSUFBMUIsRUFBZ0M7QUFBRUMsTUFBQUE7QUFBRixLQUFoQyxFQUF5QztBQUN4QyxVQUFJRyxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBaEI7O0FBQ0EsVUFBSUcsR0FBSixFQUFTO0FBQ1IsZUFBT0EsR0FBRyxDQUFDMkIsZ0JBQVg7QUFDQSxPQUZELE1BRU87QUFDTixlQUFPbEIsU0FBUDtBQUNBO0FBQ0QsS0FsRks7O0FBbUZOLFVBQU1tQixpQkFBTixDQUF3QmhDLElBQXhCLEVBQThCO0FBQUVDLE1BQUFBO0FBQUYsS0FBOUIsRUFBdUM7QUFDdEMsVUFBSUcsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQWhCOztBQUNBLFVBQUlHLEdBQUosRUFBUztBQUNSLGVBQU9BLEdBQUcsQ0FBQzZCLGlCQUFYO0FBQ0EsT0FGRCxNQUVPO0FBQ04sZUFBT3BCLFNBQVA7QUFDQTtBQUNELEtBMUZLOztBQTJGTixVQUFNcUIsY0FBTixDQUFxQmxDLElBQXJCLEVBQTJCO0FBQUVDLE1BQUFBO0FBQUYsS0FBM0IsRUFBb0M7QUFDbkMsVUFBSUcsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQWhCOztBQUNBLFVBQUlHLEdBQUosRUFBUztBQUNSLGVBQU9BLEdBQUcsQ0FBQytCLFVBQVg7QUFDQSxPQUZELE1BRU87QUFDTixlQUFPdEIsU0FBUDtBQUNBO0FBQ0QsS0FsR0s7O0FBbUdOLFVBQU11QixVQUFOLENBQWlCcEMsSUFBakIsRUFBdUI7QUFBRUMsTUFBQUE7QUFBRixLQUF2QixFQUFnQztBQUMvQixVQUFJRyxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBaEI7O0FBQ0EsVUFBSUcsR0FBSixFQUFTO0FBQ1IsZUFBT0EsR0FBRyxDQUFDZSxPQUFYO0FBQ0EsT0FGRCxNQUVPO0FBQ04sZUFBT04sU0FBUDtBQUNBO0FBQ0QsS0ExR0s7O0FBMkdOLFVBQU13QixjQUFOLENBQXFCckMsSUFBckIsRUFBMkI7QUFBRUMsTUFBQUE7QUFBRixLQUEzQixFQUFvQztBQUNuQyxVQUFJRyxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBaEI7O0FBQ0EsVUFBSUcsR0FBSixFQUFTO0FBQ1IsZUFBT0EsR0FBRyxDQUFDa0MsV0FBWDtBQUNBLE9BRkQsTUFFTztBQUNOLGVBQU96QixTQUFQO0FBQ0E7QUFDRDs7QUFsSEssR0FEcUI7QUFxSDVCMEIsRUFBQUEsUUFBUSxFQUFFO0FBQ1QsVUFBTUMsZUFBTixDQUFzQnhDLElBQXRCLEVBQTRCO0FBQUV5QyxNQUFBQTtBQUFGLEtBQTVCLEVBQXVDO0FBQ3RDLFVBQUlyQyxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2tCLE9BQVYsQ0FBa0I7QUFBRSx1QkFBZW9DLEtBQUssQ0FBQ0MsS0FBTixDQUFZLENBQVosRUFBZUM7QUFBaEMsT0FBbEIsQ0FBaEI7O0FBQ0EsVUFBSXZDLEdBQUosRUFBUztBQUNSLGNBQU0sSUFBSXdDLEtBQUosQ0FBVSxRQUFWLENBQU47QUFDQSxPQUZELE1BRU87QUFDTixlQUFPLE1BQU16RCxTQUFTLENBQUMwRCxNQUFWLENBQWlCSixLQUFqQixDQUFiO0FBQ0E7QUFDRCxLQVJROztBQVNULFVBQU1LLG1CQUFOLENBQTBCOUMsSUFBMUIsRUFBZ0M7QUFBRUMsTUFBQUEsR0FBRjtBQUFPOEMsTUFBQUEsZUFBUDtBQUF3Qk4sTUFBQUE7QUFBeEIsS0FBaEMsRUFBaUU7QUFDaEUsVUFBSXJDLEdBQUcsR0FBRyxNQUFNakIsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFoQjs7QUFDQSxXQUFLLElBQUlVLENBQUMsR0FBRyxDQUFiLEVBQWdCOEIsS0FBSyxDQUFDN0IsTUFBTixHQUFlRCxDQUEvQixFQUFrQ0EsQ0FBQyxFQUFuQyxFQUF1QztBQUN0QyxhQUFLLElBQUlxQyxDQUFDLEdBQUcsQ0FBYixFQUFnQjVDLEdBQUcsQ0FBQ00sS0FBSixDQUFVRSxNQUFWLEdBQW1Cb0MsQ0FBbkMsRUFBc0NBLENBQUMsRUFBdkMsRUFBMkM7QUFDMUMsY0FBSVAsS0FBSyxDQUFDOUIsQ0FBRCxDQUFMLENBQVMrQixLQUFULENBQWUsQ0FBZixFQUFrQkMsS0FBbEIsS0FBNEJ2QyxHQUFHLENBQUNNLEtBQUosQ0FBVXNDLENBQVYsRUFBYUwsS0FBN0MsRUFBb0Q7QUFDbkQsa0JBQU0sSUFBSUMsS0FBSixDQUFVLFFBQVYsQ0FBTjtBQUNBO0FBQ0Q7QUFDRDs7QUFFRCxZQUFNSyxPQUFPLEdBQUcsTUFBTXhELFFBQVEsQ0FBQ3lELFlBQVQsRUFBdEI7O0FBQ0EsVUFBSTtBQUNIRCxRQUFBQSxPQUFPLENBQUNFLGdCQUFSOztBQUNBLGFBQUssSUFBSXhDLENBQUMsR0FBRyxDQUFiLEVBQWdCOEIsS0FBSyxDQUFDN0IsTUFBTixHQUFlRCxDQUEvQixFQUFrQ0EsQ0FBQyxFQUFuQyxFQUF1QztBQUN0QyxjQUFJeUMsRUFBRSxHQUFHdkMsU0FBVDtBQUNBLGNBQUl3QyxRQUFRLEdBQUcsTUFBTWhFLFdBQVcsQ0FBQ3dELE1BQVosQ0FBbUJKLEtBQUssQ0FBQzlCLENBQUQsQ0FBeEIsRUFBNkIyQyxJQUE3QixDQUFtQ04sQ0FBRCxJQUFPO0FBQzdESSxZQUFBQSxFQUFFLEdBQUdKLENBQUMsQ0FBQy9DLEdBQVA7QUFDQSxXQUZvQixDQUFyQjtBQUdBc0QsVUFBQUEsS0FBSyxDQUFDdEQsR0FBRCxFQUFNbUQsRUFBTixFQUFVTCxlQUFWLENBQUw7QUFDQTs7QUFFRCxjQUFNRSxPQUFPLENBQUNPLGlCQUFSLEVBQU47QUFDQSxjQUFNUCxPQUFPLENBQUNRLFVBQVIsRUFBTjtBQUNBQyxRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaO0FBQ0EsZUFBTyxNQUFNeEUsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFiO0FBQ0EsT0FkRCxDQWNFLE9BQU8yRCxLQUFQLEVBQWM7QUFDZixjQUFNWCxPQUFPLENBQUNZLGdCQUFSLEVBQU47QUFDQSxjQUFNWixPQUFPLENBQUNRLFVBQVIsRUFBTjtBQUNBQyxRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsS0FBWjtBQUNBRixRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaO0FBQ0EsZUFBTyxJQUFJZixLQUFKLENBQVUsUUFBVixDQUFQO0FBQ0E7QUFDRCxLQXpDUTs7QUEyQ1QsVUFBTWtCLGVBQU4sQ0FBc0I5RCxJQUF0QixFQUE0QjtBQUFFQyxNQUFBQSxHQUFGO0FBQU93QyxNQUFBQTtBQUFQLEtBQTVCLEVBQTRDO0FBQzNDLGFBQU8sTUFBTXRELFNBQVMsQ0FBQzRFLGdCQUFWLENBQ1o7QUFDQzlELFFBQUFBO0FBREQsT0FEWSxFQUlad0MsS0FKWSxFQUtaO0FBQ0N1QixRQUFBQSxHQUFHLEVBQUU7QUFETixPQUxZLENBQWI7QUFTQSxLQXJEUTs7QUFzRFQsVUFBTUMsZUFBTixDQUFzQmpFLElBQXRCLEVBQTRCO0FBQUVDLE1BQUFBO0FBQUYsS0FBNUIsRUFBcUMsQ0FDcEM7QUFDQTtBQUNBO0FBQ0EsS0ExRFE7O0FBNERULFVBQU1pRSx3QkFBTixDQUErQmxFLElBQS9CLEVBQXFDO0FBQUVDLE1BQUFBLEdBQUY7QUFBT3dDLE1BQUFBO0FBQVAsS0FBckMsRUFBcUQ7QUFDcEQsVUFBSTtBQUNIckMsUUFBQUEsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLEVBQXdCLFVBQVNrRSxHQUFULEVBQWNDLElBQWQsRUFBb0I7QUFDdkQsY0FBSUQsR0FBSixFQUFTO0FBQ1IsbUJBQU9FLElBQUksQ0FBQyxJQUFJekIsS0FBSixDQUFVLFFBQVYsQ0FBRCxDQUFYO0FBQ0EsV0FGRCxNQUVPO0FBQ04saUJBQUssSUFBSWpDLENBQUMsR0FBRyxDQUFiLEVBQWdCOEIsS0FBSyxDQUFDN0IsTUFBTixHQUFlRCxDQUEvQixFQUFrQ0EsQ0FBQyxFQUFuQyxFQUF1QztBQUN0QyxrQkFBSThCLEtBQUssQ0FBQzlCLENBQUQsQ0FBTCxDQUFTVixHQUFiLEVBQWtCO0FBQ2pCcUIsZ0JBQUFBLEtBQUssR0FBRzhDLElBQUksQ0FBQ3ZDLFdBQUwsQ0FBaUJ5QyxTQUFqQixDQUE0QnRCLENBQUQsSUFBT0EsQ0FBQyxDQUFDL0MsR0FBRixJQUFTd0MsS0FBSyxDQUFDOUIsQ0FBRCxDQUFMLENBQVNWLEdBQXBELENBQVI7O0FBQ0Esb0JBQUlxQixLQUFKLEVBQVc7QUFDVjhDLGtCQUFBQSxJQUFJLENBQUN2QyxXQUFMLENBQWlCUCxLQUFqQixJQUEwQm1CLEtBQUssQ0FBQzlCLENBQUQsQ0FBL0I7QUFDQSxpQkFGRCxNQUVPLElBQUksQ0FBQ3lELElBQUksQ0FBQ3ZDLFdBQU4sSUFBcUJ1QyxJQUFJLENBQUN2QyxXQUFMLENBQWlCakIsTUFBakIsSUFBMkIsQ0FBcEQsRUFBdUQ7QUFDN0R3RCxrQkFBQUEsSUFBSSxDQUFDdkMsV0FBTCxHQUFtQixDQUFFWSxLQUFLLENBQUM5QixDQUFELENBQVAsQ0FBbkI7QUFDQTtBQUNELGVBUEQsTUFPTztBQUNOLG9CQUFJLENBQUN5RCxJQUFJLENBQUN2QyxXQUFOLElBQXFCdUMsSUFBSSxDQUFDdkMsV0FBTCxDQUFpQmpCLE1BQWpCLElBQTJCLENBQXBELEVBQXVEO0FBQ3REd0Qsa0JBQUFBLElBQUksQ0FBQ3ZDLFdBQUwsR0FBbUIsQ0FBRVksS0FBSyxDQUFDOUIsQ0FBRCxDQUFQLENBQW5CO0FBQ0EsaUJBRkQsTUFFTztBQUNOeUQsa0JBQUFBLElBQUksQ0FBQ3ZDLFdBQUwsQ0FBaUJmLElBQWpCLENBQXNCMkIsS0FBSyxDQUFDOUIsQ0FBRCxDQUEzQjtBQUNBO0FBQ0Q7QUFDRDs7QUFDRHlELFlBQUFBLElBQUksQ0FBQ0csSUFBTDtBQUNBO0FBQ0E7QUFDRCxTQXZCVyxDQUFaO0FBeUJBLFlBQUluRSxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBaEI7QUFDQSxlQUFPRyxHQUFHLENBQUN5QixXQUFYO0FBQ0EsT0E1QkQsQ0E0QkUsT0FBTytCLEtBQVAsRUFBYztBQUNmLGNBQU0sSUFBSWhCLEtBQUosQ0FBVSxRQUFWLENBQU47QUFDQTtBQUNELEtBNUZROztBQThGVCxVQUFNNEIsOEJBQU4sQ0FBcUN4RSxJQUFyQyxFQUEyQztBQUFFQyxNQUFBQSxHQUFGO0FBQU93QyxNQUFBQTtBQUFQLEtBQTNDLEVBQTJEO0FBQzFELFlBQU1RLE9BQU8sR0FBRyxNQUFNeEQsUUFBUSxDQUFDeUQsWUFBVCxFQUF0Qjs7QUFDQSxVQUFJO0FBQ0hELFFBQUFBLE9BQU8sQ0FBQ0UsZ0JBQVI7QUFDQSxZQUFJL0MsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQWhCO0FBQ0EsWUFBSXdFLGFBQUo7O0FBQ0EsWUFDQyxDQUFDckUsR0FBRyxDQUFDMkIsZ0JBQUwsSUFDQSxDQUFDM0IsR0FBRyxDQUFDMkIsZ0JBQUosQ0FBcUJGLFdBRHRCLElBRUF6QixHQUFHLENBQUMyQixnQkFBSixDQUFxQkYsV0FBckIsQ0FBaUNqQixNQUFqQyxJQUEyQyxDQUg1QyxFQUlFO0FBQ0QsY0FBSThELFlBQUo7QUFDQUQsVUFBQUEsYUFBYSxHQUFHLE1BQU0sSUFBSUUsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0RDFGLFlBQUFBLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsRUFBd0IsVUFBU2tFLEdBQVQsRUFBY0MsSUFBZCxFQUFvQjtBQUMzQyxrQkFBSSxDQUFDQSxJQUFMLEVBQVdWLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBWCxLQUNLO0FBQ0psQixnQkFBQUEsS0FBSyxDQUFDWixXQUFOLENBQWtCUixPQUFsQixDQUEyQnlELFVBQUQsSUFBZ0I7QUFDekMsc0JBQ0MsQ0FBQzFFLEdBQUcsQ0FBQzJCLGdCQUFMLElBQ0EsQ0FBQzNCLEdBQUcsQ0FBQzJCLGdCQUFKLENBQXFCRixXQUR0QixJQUVBekIsR0FBRyxDQUFDMkIsZ0JBQUosQ0FBcUJGLFdBQXJCLENBQWlDakIsTUFBakMsSUFBMkMsQ0FINUMsRUFJRTtBQUNEUixvQkFBQUEsR0FBRyxDQUFDLGtCQUFELENBQUgsR0FBMEIsSUFBSTJFLE1BQUosRUFBMUI7QUFDQSx3QkFBSUMsTUFBTSxHQUFHO0FBQ1ovRSxzQkFBQUEsR0FBRyxFQUFFNkUsVUFBVSxDQUFDN0UsR0FESjtBQUVaZ0Ysc0JBQUFBLElBQUksRUFBRUgsVUFBVSxDQUFDRyxJQUZMO0FBR1pDLHNCQUFBQSxTQUFTLEVBQUUsS0FIQztBQUlaQyxzQkFBQUEsV0FBVyxFQUFFTCxVQUFVLENBQUNLLFdBSlo7QUFLWkMsc0JBQUFBLE1BQU0sRUFBRU4sVUFBVSxDQUFDTSxNQUxQO0FBTVpDLHNCQUFBQSxNQUFNLEVBQUU7QUFOSSxxQkFBYjtBQVFBakYsb0JBQUFBLEdBQUcsQ0FBQyxrQkFBRCxDQUFILENBQXdCLGFBQXhCLElBQXlDLENBQUU0RSxNQUFGLENBQXpDO0FBQ0EsbUJBZkQsTUFlTztBQUNOLHdCQUFJQSxNQUFNLEdBQUc7QUFDWi9FLHNCQUFBQSxHQUFHLEVBQUU2RSxVQUFVLENBQUM3RSxHQURKO0FBRVpnRixzQkFBQUEsSUFBSSxFQUFFSCxVQUFVLENBQUNHLElBRkw7QUFHWkMsc0JBQUFBLFNBQVMsRUFBRSxLQUhDO0FBSVpDLHNCQUFBQSxXQUFXLEVBQUVMLFVBQVUsQ0FBQ0ssV0FKWjtBQUtaQyxzQkFBQUEsTUFBTSxFQUFFTixVQUFVLENBQUNNLE1BTFA7QUFNWkMsc0JBQUFBLE1BQU0sRUFBRTtBQU5JLHFCQUFiO0FBUUEsd0JBQUlDLEtBQUssR0FBR2xGLEdBQUcsQ0FBQzJCLGdCQUFKLENBQXFCRixXQUFyQixDQUFpQ3RCLElBQWpDLENBQ1Z5QyxDQUFELElBQU9BLENBQUMsQ0FBQ2lDLElBQUYsS0FBV0QsTUFBTSxDQUFDQyxJQURkLENBQVo7O0FBR0Esd0JBQUksQ0FBQ0ssS0FBTCxFQUFZO0FBQ1hsRixzQkFBQUEsR0FBRyxDQUFDMkIsZ0JBQUosQ0FBcUJGLFdBQXJCLENBQWlDZixJQUFqQyxDQUFzQ2tFLE1BQXRDO0FBQ0E7QUFDRDtBQUNELGlCQWhDRDtBQWtDQXZDLGdCQUFBQSxLQUFLLENBQUNaLFdBQU4sQ0FBa0JSLE9BQWxCLENBQTJCeUQsVUFBRCxJQUFnQjtBQUN6Q0Esa0JBQUFBLFVBQVUsQ0FBQ08sTUFBWCxDQUFrQmhFLE9BQWxCLENBQTJCZ0UsTUFBRCxJQUFZO0FBQ3JDakYsb0JBQUFBLEdBQUcsQ0FBQzJCLGdCQUFKLENBQXFCRixXQUFyQixDQUFpQ1IsT0FBakMsQ0FBMENrRSxZQUFELElBQWtCO0FBQzFELDBCQUFJVCxVQUFVLENBQUNHLElBQVgsS0FBb0JNLFlBQVksQ0FBQ04sSUFBckMsRUFBMkM7QUFDMUNNLHdCQUFBQSxZQUFZLENBQUNGLE1BQWIsQ0FBb0J2RSxJQUFwQixDQUF5QnVFLE1BQXpCO0FBQ0E7QUFDRCxxQkFKRDtBQUtBLG1CQU5EO0FBT0EsaUJBUkQ7QUFVQWpCLGdCQUFBQSxJQUFJLENBQUNyQyxnQkFBTCxHQUF3QjNCLEdBQUcsQ0FBQzJCLGdCQUE1QjtBQUNBcUMsZ0JBQUFBLElBQUksQ0FBQ29CLE1BQUwsQ0FBWXBCLElBQVosRUFBa0JkLElBQWxCLENBQXdCTixDQUFELElBQU87QUFDN0I0QixrQkFBQUEsT0FBTyxDQUFDUixJQUFELENBQVA7QUFDQSxpQkFGRDtBQUdBO0FBQ0QsYUFwREQ7QUFxREEsV0F0RHFCLENBQXRCO0FBd0RBOztBQUNBLGNBQUlxQixVQUFVLEdBQUcsTUFBTWxHLFVBQVUsQ0FBQ2MsT0FBWCxDQUFtQjtBQUFFcUYsWUFBQUEsY0FBYyxFQUFFekY7QUFBbEIsV0FBbkIsQ0FBdkI7QUFDQSxjQUFJMEYsS0FBSyxHQUFHLEtBQVo7QUFDQXZGLFVBQUFBLEdBQUcsR0FBRyxNQUFNakIsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFaO0FBQ0EsY0FBSTJGLFNBQVMsR0FBRyxNQUFNLElBQUlqQixPQUFKLENBQVksT0FBT0MsT0FBUCxFQUFnQkMsTUFBaEIsS0FBMkI7QUFDNUR6RSxZQUFBQSxHQUFHLENBQUMyQixnQkFBSixDQUFxQkYsV0FBckIsQ0FBaUNSLE9BQWpDLENBQTBDeUQsVUFBRCxJQUFnQjtBQUN4REEsY0FBQUEsVUFBVSxDQUFDTyxNQUFYLENBQWtCaEUsT0FBbEIsQ0FBMkJnRSxNQUFELElBQVk7QUFDckMsb0JBQUksQ0FBQ0ksVUFBTCxFQUFpQjtBQUNoQixzQkFBSUksS0FBSyxHQUFHO0FBQ1hDLG9CQUFBQSxJQUFJLEVBQUVULE1BQU0sQ0FBQ1MsSUFERjtBQUVYQyxvQkFBQUEsUUFBUSxFQUFFVixNQUFNLENBQUNVO0FBRk4sbUJBQVo7QUFLQU4sa0JBQUFBLFVBQVUsR0FBRyxJQUFJVixNQUFKLENBQVc7QUFDdkJXLG9CQUFBQSxjQUFjLEVBQUV6RixHQURPO0FBRXZCK0Ysb0JBQUFBLGNBQWMsRUFBRSxJQUFJakIsTUFBSixDQUFXO0FBQzFCTSxzQkFBQUEsTUFBTSxFQUFFLENBQUVRLEtBQUY7QUFEa0IscUJBQVg7QUFGTyxtQkFBWCxDQUFiO0FBTUFGLGtCQUFBQSxLQUFLLEdBQUcsSUFBUjtBQUNBLGlCQWJELE1BYU87QUFDTixzQkFBSUUsS0FBSyxHQUFHO0FBQ1hDLG9CQUFBQSxJQUFJLEVBQUVULE1BQU0sQ0FBQ1MsSUFERjtBQUVYQyxvQkFBQUEsUUFBUSxFQUFFVixNQUFNLENBQUNVO0FBRk4sbUJBQVo7O0FBS0Esc0JBQUksQ0FBQ04sVUFBVSxDQUFDTyxjQUFaLElBQThCUCxVQUFVLENBQUNPLGNBQVgsQ0FBMEJwRixNQUExQixJQUFvQyxDQUF0RSxFQUF5RTtBQUN4RTZFLG9CQUFBQSxVQUFVLEdBQUcsSUFBSVYsTUFBSixDQUFXO0FBQ3ZCVyxzQkFBQUEsY0FBYyxFQUFFekYsR0FETztBQUV2QitGLHNCQUFBQSxjQUFjLEVBQUUsSUFBSWpCLE1BQUosQ0FBVztBQUMxQk0sd0JBQUFBLE1BQU0sRUFBRSxDQUFFUSxLQUFGO0FBRGtCLHVCQUFYO0FBRk8scUJBQVgsQ0FBYjtBQU1BLG1CQVBELE1BT087QUFDTkosb0JBQUFBLFVBQVUsQ0FBQ08sY0FBWCxDQUEwQlgsTUFBMUIsQ0FBaUN2RSxJQUFqQyxDQUFzQytFLEtBQXRDO0FBQ0E7QUFDRDtBQUNELGVBL0JEO0FBZ0NBLGFBakNEOztBQWtDQSxnQkFBSUYsS0FBSixFQUFXO0FBQ1Ysa0JBQUl0QyxRQUFRLEdBQUcsTUFBTTlELFVBQVUsQ0FBQ3NELE1BQVgsQ0FBa0I0QyxVQUFsQixDQUFyQjtBQUNBLGFBRkQsTUFFTztBQUNObEcsY0FBQUEsVUFBVSxDQUFDYyxPQUFYLENBQW1CLFVBQVM4RCxHQUFULEVBQWM4QixLQUFkLEVBQXFCO0FBQ3ZDLG9CQUFJLENBQUNBLEtBQUwsRUFBWXZDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBWixLQUNLO0FBQ0osc0JBQUksQ0FBQ3NDLEtBQUQsSUFBVUEsS0FBSyxDQUFDckYsTUFBTixJQUFnQixDQUE5QixFQUFpQztBQUNoQ3FGLG9CQUFBQSxLQUFLLEdBQUdBLEtBQVI7QUFDQSxtQkFGRCxNQUVPO0FBQ05BLG9CQUFBQSxLQUFLLENBQUNELGNBQU4sR0FBdUJQLFVBQVUsQ0FBQ08sY0FBbEM7QUFDQTs7QUFDREMsa0JBQUFBLEtBQUssQ0FBQ1QsTUFBTixDQUFhUyxLQUFiLEVBQW9CM0MsSUFBcEIsQ0FBMEJOLENBQUQsSUFBTyxDQUFFLENBQWxDO0FBQ0E7QUFDRCxlQVZEO0FBV0E7O0FBQ0Q0QixZQUFBQSxPQUFPO0FBQ1AsV0FuRHFCLENBQXRCO0FBcURBOztBQUNBLGNBQUlzQixXQUFXLEdBQUcsTUFBTTFHLGtCQUFrQixDQUFDYSxPQUFuQixDQUEyQjtBQUFFcUYsWUFBQUEsY0FBYyxFQUFFekY7QUFBbEIsV0FBM0IsQ0FBeEI7QUFDQSxjQUFJMEYsS0FBSyxHQUFHLEtBQVo7QUFDQXZGLFVBQUFBLEdBQUcsR0FBRyxNQUFNakIsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFaO0FBQ0EsY0FBSWtHLE9BQU8sR0FBRyxNQUFNLElBQUl4QixPQUFKLENBQVksT0FBT0MsT0FBUCxFQUFnQkMsTUFBaEIsS0FBMkI7QUFDMUR6RSxZQUFBQSxHQUFHLENBQUMyQixnQkFBSixDQUFxQkYsV0FBckIsQ0FBaUNSLE9BQWpDLENBQTBDeUQsVUFBRCxJQUFnQjtBQUN4REEsY0FBQUEsVUFBVSxDQUFDTyxNQUFYLENBQWtCaEUsT0FBbEIsQ0FBMkJnRSxNQUFELElBQVk7QUFDckMsb0JBQUksQ0FBQ2EsV0FBTCxFQUFrQjtBQUNqQixzQkFBSUwsS0FBSyxHQUFHO0FBQ1hPLG9CQUFBQSxJQUFJLEVBQUUsSUFBSUMsSUFBSixFQURLO0FBRVhQLG9CQUFBQSxJQUFJLEVBQUVULE1BQU0sQ0FBQ1MsSUFGRjtBQUdYQyxvQkFBQUEsUUFBUSxFQUFFVixNQUFNLENBQUNVO0FBSE4sbUJBQVo7QUFNQUcsa0JBQUFBLFdBQVcsR0FBRyxJQUFJbkIsTUFBSixDQUFXO0FBQ3hCVyxvQkFBQUEsY0FBYyxFQUFFekYsR0FEUTtBQUV4QnFHLG9CQUFBQSxXQUFXLEVBQUUsSUFBSXZCLE1BQUosQ0FBVztBQUN2QmlCLHNCQUFBQSxjQUFjLEVBQUUsSUFBSWpCLE1BQUosQ0FBVztBQUMxQk0sd0JBQUFBLE1BQU0sRUFBRSxDQUFFUSxLQUFGO0FBRGtCLHVCQUFYO0FBRE8scUJBQVg7QUFGVyxtQkFBWCxDQUFkO0FBUUFGLGtCQUFBQSxLQUFLLEdBQUcsSUFBUjtBQUNBLGlCQWhCRCxNQWdCTztBQUNOLHNCQUFJRSxLQUFLLEdBQUc7QUFDWE8sb0JBQUFBLElBQUksRUFBRSxJQUFJQyxJQUFKLEVBREs7QUFFWFAsb0JBQUFBLElBQUksRUFBRVQsTUFBTSxDQUFDUyxJQUZGO0FBR1hDLG9CQUFBQSxRQUFRLEVBQUVWLE1BQU0sQ0FBQ1U7QUFITixtQkFBWjs7QUFNQSxzQkFDQ0csV0FBVyxDQUFDSSxXQUFaLENBQXdCTixjQUF4QixLQUEyQ25GLFNBQTNDLElBQ0FxRixXQUFXLENBQUNJLFdBQVosQ0FBd0JOLGNBQXhCLENBQXVDcEYsTUFBdkMsSUFBaUQsQ0FGbEQsRUFHRTtBQUNEc0Ysb0JBQUFBLFdBQVcsR0FBRyxJQUFJbkIsTUFBSixDQUFXO0FBQ3hCVyxzQkFBQUEsY0FBYyxFQUFFekYsR0FEUTtBQUV4QnFHLHNCQUFBQSxXQUFXLEVBQUUsSUFBSXZCLE1BQUosQ0FBVztBQUN2QmlCLHdCQUFBQSxjQUFjLEVBQUUsSUFBSWpCLE1BQUosQ0FBVztBQUMxQk0sMEJBQUFBLE1BQU0sRUFBRSxDQUFFUSxLQUFGO0FBRGtCLHlCQUFYO0FBRE8sdUJBQVg7QUFGVyxxQkFBWCxDQUFkO0FBUUEsbUJBWkQsTUFZTztBQUNOSyxvQkFBQUEsV0FBVyxDQUFDSSxXQUFaLENBQXdCTixjQUF4QixDQUF1Q1gsTUFBdkMsQ0FBOEN2RSxJQUE5QyxDQUFtRCtFLEtBQW5EO0FBQ0E7QUFDRDtBQUNELGVBeENEO0FBeUNBLGFBMUNEOztBQTJDQSxnQkFBSUYsS0FBSixFQUFXO0FBQ1Ysa0JBQUl0QyxRQUFRLEdBQUcsTUFBTTdELGtCQUFrQixDQUFDcUQsTUFBbkIsQ0FBMEJxRCxXQUExQixDQUFyQjtBQUNBLGFBRkQsTUFFTztBQUNOMUcsY0FBQUEsa0JBQWtCLENBQUNhLE9BQW5CLENBQTJCLFVBQVM4RCxHQUFULEVBQWNvQyxLQUFkLEVBQXFCO0FBQy9DLG9CQUFJLENBQUNBLEtBQUwsRUFBWTdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBWixLQUNLO0FBQ0osc0JBQUk0QyxLQUFLLEtBQUsxRixTQUFWLElBQXVCMEYsS0FBSyxDQUFDM0YsTUFBTixJQUFnQixDQUEzQyxFQUE4QztBQUM3QzJGLG9CQUFBQSxLQUFLLEdBQUdMLFdBQVI7QUFDQSxtQkFGRCxNQUVPO0FBQ05LLG9CQUFBQSxLQUFLLENBQUNELFdBQU4sQ0FBa0JOLGNBQWxCLEdBQW1DRSxXQUFXLENBQUNJLFdBQVosQ0FBd0JOLGNBQTNEO0FBQ0E7O0FBQ0RPLGtCQUFBQSxLQUFLLENBQUNmLE1BQU4sQ0FBYWUsS0FBYixFQUFvQmpELElBQXBCLENBQTBCTixDQUFELElBQU8sQ0FBRSxDQUFsQztBQUNBO0FBQ0QsZUFWRDtBQVdBOztBQUNENEIsWUFBQUEsT0FBTztBQUNQLFdBNURtQixDQUFwQjtBQTZEQSxTQXhMRCxNQXdMTztBQUNOLGNBQUk0QixPQUFPLEdBQUcsS0FBZDs7QUFDQSxlQUFLN0YsQ0FBQyxHQUFHLENBQVQsRUFBWThCLEtBQUssQ0FBQ1osV0FBTixDQUFrQmpCLE1BQWxCLEdBQTJCRCxDQUF2QyxFQUEwQ0EsQ0FBQyxFQUEzQyxFQUErQztBQUM5QyxnQkFBSThCLEtBQUssQ0FBQ1osV0FBTixDQUFrQmxCLENBQWxCLEVBQXFCdUUsU0FBekIsRUFBb0M7QUFDbkMsa0JBQUl1QixZQUFZLEdBQUcsS0FBbkI7QUFDQTs7OztBQUdBLG1CQUFLQyxDQUFDLEdBQUcsQ0FBVCxFQUFZQSxDQUFDLEdBQUdqRSxLQUFLLENBQUNaLFdBQU4sQ0FBa0JsQixDQUFsQixFQUFxQjBFLE1BQXJCLENBQTRCekUsTUFBNUMsRUFBb0Q4RixDQUFDLEVBQXJELEVBQXlEO0FBQ3hEdEcsZ0JBQUFBLEdBQUcsQ0FBQzJCLGdCQUFKLENBQXFCRixXQUFyQixDQUFpQ1IsT0FBakMsQ0FBeUMsQ0FBQ3lELFVBQUQsRUFBYXhELEtBQWIsS0FBdUI7QUFDL0R3RCxrQkFBQUEsVUFBVSxDQUFDTyxNQUFYLENBQWtCaEUsT0FBbEIsQ0FBMEIsQ0FBQ2dFLE1BQUQsRUFBU3NCLFdBQVQsS0FBeUI7QUFDbEQsd0JBQUlsRSxLQUFLLENBQUNaLFdBQU4sQ0FBa0JsQixDQUFsQixFQUFxQlYsR0FBckIsS0FBNkI2RSxVQUFVLENBQUM3RSxHQUE1QyxFQUFpRDtBQUNoRCwwQkFBSW9GLE1BQU0sQ0FBQ1MsSUFBUCxLQUFnQnJELEtBQUssQ0FBQ1osV0FBTixDQUFrQmxCLENBQWxCLEVBQXFCMEUsTUFBckIsQ0FBNEJxQixDQUE1QixFQUErQlosSUFBbkQsRUFBeUQ7QUFDeERoQix3QkFBQUEsVUFBVSxDQUFDTyxNQUFYLENBQWtCNUQsTUFBbEIsQ0FBeUJrRixXQUF6QixFQUFzQyxDQUF0QztBQUNBO0FBQ0Q7QUFDRCxtQkFORDtBQU9BLGlCQVJELEVBRHdELENBVXhEOztBQUNBdkcsZ0JBQUFBLEdBQUcsQ0FBQzJCLGdCQUFKLENBQXFCRixXQUFyQixDQUFpQ1IsT0FBakMsQ0FBeUMsQ0FBQ3lELFVBQUQsRUFBYXhELEtBQWIsS0FBdUI7QUFDL0Qsc0JBQUksQ0FBQ3dELFVBQUQsSUFBZSxDQUFDQSxVQUFVLENBQUNPLE1BQTNCLElBQXFDUCxVQUFVLENBQUNPLE1BQVgsQ0FBa0J6RSxNQUFsQixJQUE0QixDQUFyRSxFQUF3RTtBQUN2RVIsb0JBQUFBLEdBQUcsQ0FBQzJCLGdCQUFKLENBQXFCRixXQUFyQixDQUFpQ0osTUFBakMsQ0FBd0NILEtBQXhDLEVBQStDLENBQS9DO0FBQ0E7QUFDRCxpQkFKRDtBQUtBOztBQUNEbUIsY0FBQUEsS0FBSyxDQUFDWixXQUFOLENBQWtCbEIsQ0FBbEIsRUFBcUJ1RSxTQUFyQixHQUFpQyxLQUFqQztBQUNBc0IsY0FBQUEsT0FBTyxHQUFHLElBQVY7QUFDQTtBQUNEOztBQUVELGdCQUFNcEcsR0FBRyxDQUFDb0YsTUFBSixDQUFXcEYsR0FBWCxFQUFnQmtELElBQWhCLENBQXFCSSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxxQkFBWixDQUFyQixDQUFOO0FBQ0F2RCxVQUFBQSxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBWjs7QUFFQSxlQUFLVSxDQUFDLEdBQUcsQ0FBVCxFQUFZOEIsS0FBSyxDQUFDWixXQUFOLENBQWtCakIsTUFBbEIsR0FBMkJELENBQXZDLEVBQTBDQSxDQUFDLEVBQTNDLEVBQStDO0FBQzlDUCxZQUFBQSxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBWjtBQUNBLGdCQUFJcUYsS0FBSyxHQUFHLE1BQU1sRixHQUFHLENBQUMyQixnQkFBSixDQUFxQkYsV0FBckIsQ0FBaUN0QixJQUFqQyxDQUNoQnlDLENBQUQsSUFBT0EsQ0FBQyxDQUFDL0MsR0FBRixJQUFTd0MsS0FBSyxDQUFDWixXQUFOLENBQWtCbEIsQ0FBbEIsRUFBcUJWLEdBRHBCLENBQWxCOztBQUlBLGdCQUFJcUYsS0FBSyxLQUFLekUsU0FBVixJQUF1QnlFLEtBQUssQ0FBQzFFLE1BQU4sSUFBZ0IsQ0FBM0MsRUFBOEM7QUFDN0Msb0JBQU1SLEdBQUcsQ0FBQzJCLGdCQUFKLENBQXFCRixXQUFyQixDQUFpQ2YsSUFBakMsQ0FBc0MyQixLQUFLLENBQUNaLFdBQU4sQ0FBa0JsQixDQUFsQixDQUF0QyxDQUFOO0FBQ0Esb0JBQU1QLEdBQUcsQ0FBQ29GLE1BQUosQ0FBV3BGLEdBQVgsRUFBZ0JrRCxJQUFoQixDQUFxQkksT0FBTyxDQUFDQyxHQUFSLENBQVksdUJBQVosQ0FBckIsQ0FBTjtBQUNBdkQsY0FBQUEsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQVo7QUFFQTs7QUFDQSxrQkFBSXdGLFVBQVUsR0FBRyxNQUFNbEcsVUFBVSxDQUFDYyxPQUFYLENBQW1CO0FBQUVxRixnQkFBQUEsY0FBYyxFQUFFekY7QUFBbEIsZUFBbkIsQ0FBdkI7QUFDQSxrQkFBSTJHLE9BQU8sR0FBRyxNQUFNLElBQUlqQyxPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3BEekUsZ0JBQUFBLEdBQUcsQ0FBQzJCLGdCQUFKLENBQXFCRixXQUFyQixDQUFpQ1IsT0FBakMsQ0FBMEN5RCxVQUFELElBQWdCO0FBQ3hEQSxrQkFBQUEsVUFBVSxDQUFDTyxNQUFYLENBQWtCaEUsT0FBbEIsQ0FBMkJnRSxNQUFELElBQVk7QUFDckMsd0JBQUk1QyxLQUFLLENBQUNaLFdBQU4sQ0FBa0JsQixDQUFsQixFQUFxQnNFLElBQXJCLEtBQThCSCxVQUFVLENBQUNHLElBQTdDLEVBQW1EO0FBQ2xEUSxzQkFBQUEsVUFBVSxDQUFDTyxjQUFYLENBQTBCWCxNQUExQixDQUFpQ3ZFLElBQWpDLENBQXNDdUUsTUFBdEM7QUFDQTtBQUNELG1CQUpEO0FBS0EsaUJBTkQ7QUFPQTlGLGdCQUFBQSxVQUFVLENBQUNjLE9BQVgsQ0FBbUI7QUFBRXFGLGtCQUFBQSxjQUFjLEVBQUV6RjtBQUFsQixpQkFBbkIsRUFBNEMsVUFBU2tFLEdBQVQsRUFBYzhCLEtBQWQsRUFBcUI7QUFDaEUsc0JBQUksQ0FBQ0EsS0FBTCxFQUFZdkMsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWixFQUFaLEtBQ0s7QUFDSnNDLG9CQUFBQSxLQUFLLENBQUNELGNBQU4sR0FBdUJQLFVBQVUsQ0FBQ08sY0FBbEM7QUFDQUMsb0JBQUFBLEtBQUssQ0FBQ1QsTUFBTixDQUFhUyxLQUFiLEVBQW9CM0MsSUFBcEIsQ0FBMEJOLENBQUQsSUFBTyxDQUFFLENBQWxDO0FBQ0E7QUFDRCxpQkFORDtBQU9BNEIsZ0JBQUFBLE9BQU87QUFDUCxlQWhCbUIsQ0FBcEI7QUFrQkE7O0FBQ0F4RSxjQUFBQSxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBWjtBQUNBLGtCQUFJaUcsV0FBVyxHQUFHMUcsa0JBQWtCLENBQUNhLE9BQW5CLENBQTJCO0FBQUVxRixnQkFBQUEsY0FBYyxFQUFFekY7QUFBbEIsZUFBM0IsQ0FBbEI7QUFDQSxrQkFBSWtHLE9BQU8sR0FBRyxNQUFNLElBQUl4QixPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3BEekUsZ0JBQUFBLEdBQUcsQ0FBQzJCLGdCQUFKLENBQXFCRixXQUFyQixDQUFpQ1IsT0FBakMsQ0FBMEN5RCxVQUFELElBQWdCO0FBQ3hEQSxrQkFBQUEsVUFBVSxDQUFDTyxNQUFYLENBQWtCaEUsT0FBbEIsQ0FBMkJnRSxNQUFELElBQVk7QUFDckMsd0JBQUk1QyxLQUFLLENBQUNaLFdBQU4sQ0FBa0JsQixDQUFsQixFQUFxQnNFLElBQXJCLEtBQThCSCxVQUFVLENBQUNHLElBQTdDLEVBQW1EO0FBQ2xELDBCQUFJWSxLQUFLLEdBQUc7QUFDWE8sd0JBQUFBLElBQUksRUFBRSxJQUFJQyxJQUFKLEVBREs7QUFFWFAsd0JBQUFBLElBQUksRUFBRVQsTUFBTSxDQUFDUyxJQUZGO0FBR1hDLHdCQUFBQSxRQUFRLEVBQUVWLE1BQU0sQ0FBQ1U7QUFITix1QkFBWjtBQUtBdkcsc0JBQUFBLGtCQUFrQixDQUFDYSxPQUFuQixDQUEyQjtBQUFFcUYsd0JBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLHVCQUEzQixFQUFvRCxVQUFTa0UsR0FBVCxFQUFjb0MsS0FBZCxFQUFxQjtBQUN4RSw0QkFBSSxDQUFDQSxLQUFMLEVBQVk3QyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQVosS0FDSztBQUNKNEMsMEJBQUFBLEtBQUssQ0FBQ0QsV0FBTixDQUFrQk4sY0FBbEIsQ0FBaUNYLE1BQWpDLENBQXdDdkUsSUFBeEMsQ0FBNkMrRSxLQUE3QztBQUNBVSwwQkFBQUEsS0FBSyxDQUFDZixNQUFOLENBQWFlLEtBQWIsRUFBb0JqRCxJQUFwQixDQUEwQk4sQ0FBRCxJQUFPLENBQUUsQ0FBbEM7QUFDQTtBQUNELHVCQU5EO0FBT0E7QUFDRCxtQkFmRDtBQWdCQSxpQkFqQkQ7QUFrQkE0QixnQkFBQUEsT0FBTztBQUNQLGVBcEJtQixDQUFwQjtBQXFCQXhFLGNBQUFBLEdBQUcsR0FBRyxNQUFNakIsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFaO0FBQ0EsYUFsREQsTUFrRE87QUFDTixtQkFBSzRHLENBQUMsR0FBRyxDQUFULEVBQVlwRSxLQUFLLENBQUNaLFdBQU4sQ0FBa0JsQixDQUFsQixFQUFxQjBFLE1BQXJCLENBQTRCekUsTUFBNUIsR0FBcUNpRyxDQUFqRCxFQUFvREEsQ0FBQyxFQUFyRCxFQUF5RDtBQUN4RCxvQkFBSUMsU0FBUyxHQUFHLEtBQWhCO0FBQ0ExRyxnQkFBQUEsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQVo7O0FBQ0Esb0JBQUl3QyxLQUFLLENBQUNaLFdBQU4sQ0FBa0JsQixDQUFsQixFQUFxQjBFLE1BQXJCLENBQTRCd0IsQ0FBNUIsRUFBK0I1RyxHQUFuQyxFQUF3QztBQUN2Q0csa0JBQUFBLEdBQUcsQ0FBQzJCLGdCQUFKLENBQXFCRixXQUFyQixDQUFpQ1IsT0FBakMsQ0FBMEN5RCxVQUFELElBQWdCO0FBQ3hEQSxvQkFBQUEsVUFBVSxDQUFDTyxNQUFYLENBQWtCaEUsT0FBbEIsQ0FBMkJnRSxNQUFELElBQVk7QUFDckMsMEJBQUlBLE1BQU0sQ0FBQ1MsSUFBUCxJQUFlckQsS0FBSyxDQUFDWixXQUFOLENBQWtCbEIsQ0FBbEIsRUFBcUIwRSxNQUFyQixDQUE0QndCLENBQTVCLEVBQStCZixJQUFsRCxFQUF3RDtBQUN2RFQsd0JBQUFBLE1BQU0sQ0FBQzBCLEdBQVAsQ0FBV3RFLEtBQUssQ0FBQ1osV0FBTixDQUFrQmxCLENBQWxCLEVBQXFCMEUsTUFBckIsQ0FBNEJ3QixDQUE1QixDQUFYO0FBQ0FDLHdCQUFBQSxTQUFTLEdBQUcsSUFBWjtBQUNBO0FBQ0QscUJBTEQ7QUFNQSxtQkFQRDs7QUFRQSxzQkFBSUEsU0FBSixFQUFlO0FBQ2QsMEJBQU0xRyxHQUFHLENBQUNvRixNQUFKLENBQVdwRixHQUFYLEVBQWdCa0QsSUFBaEIsQ0FBcUJJLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaLENBQXJCLENBQU47QUFDQXZELG9CQUFBQSxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBWjtBQUNBNkcsb0JBQUFBLFNBQVMsR0FBRyxLQUFaO0FBRUE7O0FBQ0Esd0JBQUlyQixVQUFVLEdBQUcsTUFBTWxHLFVBQVUsQ0FBQ2MsT0FBWCxDQUFtQjtBQUFFcUYsc0JBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLHFCQUFuQixDQUF2QjtBQUNBLHdCQUFJMkcsT0FBTyxHQUFHLE1BQU0sSUFBSWpDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDcERZLHNCQUFBQSxVQUFVLENBQUNPLGNBQVgsQ0FBMEJYLE1BQTFCLENBQWlDaEUsT0FBakMsQ0FBMENnRSxNQUFELElBQVk7QUFDcEQsNEJBQUlBLE1BQU0sQ0FBQ1MsSUFBUCxJQUFlckQsS0FBSyxDQUFDWixXQUFOLENBQWtCbEIsQ0FBbEIsRUFBcUIwRSxNQUFyQixDQUE0QndCLENBQTVCLEVBQStCZixJQUFsRCxFQUF3RDtBQUN2RFQsMEJBQUFBLE1BQU0sQ0FBQzBCLEdBQVAsQ0FBV3RFLEtBQUssQ0FBQ1osV0FBTixDQUFrQmxCLENBQWxCLEVBQXFCMEUsTUFBckIsQ0FBNEJ3QixDQUE1QixDQUFYO0FBQ0E7QUFDRCx1QkFKRDtBQUtBdEgsc0JBQUFBLFVBQVUsQ0FBQ2MsT0FBWCxDQUFtQjtBQUFFcUYsd0JBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLHVCQUFuQixFQUE0QyxVQUFTa0UsR0FBVCxFQUFjOEIsS0FBZCxFQUFxQjtBQUNoRSw0QkFBSSxDQUFDQSxLQUFMLEVBQVl2QyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQVosS0FDSztBQUNKc0MsMEJBQUFBLEtBQUssQ0FBQ0QsY0FBTixHQUF1QlAsVUFBVSxDQUFDTyxjQUFsQztBQUNBQywwQkFBQUEsS0FBSyxDQUFDVCxNQUFOLENBQWFTLEtBQWIsRUFBb0IzQyxJQUFwQixDQUEwQk4sQ0FBRCxJQUFPO0FBQy9CNEIsNEJBQUFBLE9BQU87QUFDUCwyQkFGRDtBQUdBO0FBQ0QsdUJBUkQ7QUFTQSxxQkFmbUIsQ0FBcEI7QUFpQkE7O0FBQ0Esd0JBQUlzQixXQUFXLEdBQUcsTUFBTTFHLGtCQUFrQixDQUFDYSxPQUFuQixDQUEyQjtBQUFFcUYsc0JBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLHFCQUEzQixDQUF4QjtBQUNBRyxvQkFBQUEsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQVo7QUFDQSx3QkFBSWtHLE9BQU8sR0FBRyxNQUFNLElBQUl4QixPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3BELDBCQUFJZ0IsS0FBSyxHQUFHO0FBQ1hPLHdCQUFBQSxJQUFJLEVBQUUsSUFBSUMsSUFBSixFQURLO0FBRVhQLHdCQUFBQSxJQUFJLEVBQUVyRCxLQUFLLENBQUNaLFdBQU4sQ0FBa0JsQixDQUFsQixFQUFxQjBFLE1BQXJCLENBQTRCd0IsQ0FBNUIsRUFBK0JmLElBRjFCO0FBR1hDLHdCQUFBQSxRQUFRLEVBQUV0RCxLQUFLLENBQUNaLFdBQU4sQ0FBa0JsQixDQUFsQixFQUFxQjBFLE1BQXJCLENBQTRCd0IsQ0FBNUIsRUFBK0JkO0FBSDlCLHVCQUFaO0FBS0F2RyxzQkFBQUEsa0JBQWtCLENBQUNhLE9BQW5CLENBQTJCO0FBQUVxRix3QkFBQUEsY0FBYyxFQUFFekY7QUFBbEIsdUJBQTNCLEVBQW9ELFVBQVNrRSxHQUFULEVBQWNvQyxLQUFkLEVBQXFCO0FBQ3hFLDRCQUFJLENBQUNBLEtBQUwsRUFBWTdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBWixLQUNLO0FBQ0o0QywwQkFBQUEsS0FBSyxDQUFDRCxXQUFOLENBQWtCTixjQUFsQixDQUFpQ1gsTUFBakMsQ0FBd0N2RSxJQUF4QyxDQUE2QytFLEtBQTdDO0FBQ0FVLDBCQUFBQSxLQUFLLENBQUNmLE1BQU4sQ0FBYWUsS0FBYixFQUFvQmpELElBQXBCLENBQTBCTixDQUFELElBQU8sQ0FBRSxDQUFsQztBQUNBO0FBQ0QsdUJBTkQ7QUFPQTRCLHNCQUFBQSxPQUFPO0FBQ1AscUJBZG1CLENBQXBCO0FBZUF4RSxvQkFBQUEsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQVo7QUFDQTtBQUNELGlCQXJERCxNQXFETztBQUNORyxrQkFBQUEsR0FBRyxDQUFDMkIsZ0JBQUosQ0FBcUJGLFdBQXJCLENBQWlDUixPQUFqQyxDQUEwQ3lELFVBQUQsSUFBZ0I7QUFDeEQsd0JBQUlyQyxLQUFLLENBQUNaLFdBQU4sQ0FBa0JsQixDQUFsQixFQUFxQlYsR0FBckIsSUFBNEI2RSxVQUFVLENBQUM3RSxHQUEzQyxFQUFnRDtBQUMvQzZFLHNCQUFBQSxVQUFVLENBQUNPLE1BQVgsQ0FBa0J2RSxJQUFsQixDQUF1QjJCLEtBQUssQ0FBQ1osV0FBTixDQUFrQmxCLENBQWxCLEVBQXFCMEUsTUFBckIsQ0FBNEJ3QixDQUE1QixDQUF2QjtBQUNBO0FBQ0QsbUJBSkQ7QUFLQSx3QkFBTXpHLEdBQUcsQ0FBQ29GLE1BQUosQ0FBV3BGLEdBQVgsRUFBZ0JrRCxJQUFoQixDQUFxQkksT0FBTyxDQUFDQyxHQUFSLENBQVksNkJBQVosQ0FBckIsQ0FBTjtBQUNBdkQsa0JBQUFBLEdBQUcsR0FBRyxNQUFNakIsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFaO0FBRUE7O0FBQ0Esc0JBQUl3RixVQUFVLEdBQUcsTUFBTWxHLFVBQVUsQ0FBQ2MsT0FBWCxDQUFtQjtBQUFFcUYsb0JBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLG1CQUFuQixDQUF2QjtBQUNBLHNCQUFJK0csUUFBUSxHQUFHLEtBQWY7QUFDQSxzQkFBSUosT0FBTyxHQUFHLE1BQU0sSUFBSWpDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDcERZLG9CQUFBQSxVQUFVLENBQUNPLGNBQVgsQ0FBMEJYLE1BQTFCLENBQWlDaEUsT0FBakMsQ0FBeUMsQ0FBQ2dFLE1BQUQsRUFBUy9ELEtBQVQsS0FBbUI7QUFDM0QsMEJBQUksQ0FBQzBGLFFBQUwsRUFBZTtBQUNkdkIsd0JBQUFBLFVBQVUsQ0FBQ08sY0FBWCxDQUEwQlgsTUFBMUIsQ0FBaUN2RSxJQUFqQyxDQUFzQzJCLEtBQUssQ0FBQ1osV0FBTixDQUFrQmxCLENBQWxCLEVBQXFCMEUsTUFBckIsQ0FBNEJ3QixDQUE1QixDQUF0QztBQUNBRyx3QkFBQUEsUUFBUSxHQUFHLElBQVg7QUFDQTtBQUNELHFCQUxEO0FBTUF6SCxvQkFBQUEsVUFBVSxDQUFDYyxPQUFYLENBQW1CO0FBQUVxRixzQkFBQUEsY0FBYyxFQUFFekY7QUFBbEIscUJBQW5CLEVBQTRDLFVBQVNrRSxHQUFULEVBQWM4QixLQUFkLEVBQXFCO0FBQ2hFLDBCQUFJLENBQUNBLEtBQUwsRUFBWXZDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBWixLQUNLO0FBQ0pzQyx3QkFBQUEsS0FBSyxDQUFDRCxjQUFOLEdBQXVCUCxVQUFVLENBQUNPLGNBQWxDO0FBQ0FDLHdCQUFBQSxLQUFLLENBQUNULE1BQU4sQ0FBYVMsS0FBYixFQUFvQjNDLElBQXBCLENBQTBCTixDQUFELElBQU87QUFDL0I0QiwwQkFBQUEsT0FBTztBQUNQLHlCQUZEO0FBR0E7QUFDRCxxQkFSRDtBQVNBLG1CQWhCbUIsQ0FBcEI7QUFrQkE7O0FBQ0F4RSxrQkFBQUEsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQVo7QUFDQSxzQkFBSWlHLFdBQVcsR0FBRyxNQUFNMUcsa0JBQWtCLENBQUNhLE9BQW5CLENBQTJCO0FBQUVxRixvQkFBQUEsY0FBYyxFQUFFekY7QUFBbEIsbUJBQTNCLENBQXhCO0FBQ0Esc0JBQUlrRyxPQUFPLEdBQUcsTUFBTSxJQUFJeEIsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUNwRCx3QkFBSWdCLEtBQUssR0FBRztBQUNYTyxzQkFBQUEsSUFBSSxFQUFFLElBQUlDLElBQUosRUFESztBQUVYUCxzQkFBQUEsSUFBSSxFQUFFckQsS0FBSyxDQUFDWixXQUFOLENBQWtCbEIsQ0FBbEIsRUFBcUIwRSxNQUFyQixDQUE0QndCLENBQTVCLEVBQStCZixJQUYxQjtBQUdYQyxzQkFBQUEsUUFBUSxFQUFFdEQsS0FBSyxDQUFDWixXQUFOLENBQWtCbEIsQ0FBbEIsRUFBcUIwRSxNQUFyQixDQUE0QndCLENBQTVCLEVBQStCZDtBQUg5QixxQkFBWjtBQUtBdkcsb0JBQUFBLGtCQUFrQixDQUFDYSxPQUFuQixDQUEyQjtBQUFFcUYsc0JBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLHFCQUEzQixFQUFvRCxVQUFTa0UsR0FBVCxFQUFjb0MsS0FBZCxFQUFxQjtBQUN4RSwwQkFBSSxDQUFDQSxLQUFMLEVBQVk3QyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQVosS0FDSztBQUNKNEMsd0JBQUFBLEtBQUssQ0FBQ0QsV0FBTixDQUFrQk4sY0FBbEIsQ0FBaUNYLE1BQWpDLENBQXdDdkUsSUFBeEMsQ0FBNkMrRSxLQUE3QztBQUNBVSx3QkFBQUEsS0FBSyxDQUFDZixNQUFOLENBQWFlLEtBQWIsRUFBb0JqRCxJQUFwQixDQUEwQk4sQ0FBRCxJQUFPLENBQUUsQ0FBbEM7QUFDQTRCLHdCQUFBQSxPQUFPO0FBQ1A7QUFDRCxxQkFQRDtBQVFBLG1CQWRtQixDQUFwQjtBQWVBeEUsa0JBQUFBLEdBQUcsR0FBRyxNQUFNakIsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFaO0FBQ0E7QUFDRDtBQUNEO0FBQ0Q7QUFDRDs7QUFFRCxjQUFNZ0QsT0FBTyxDQUFDTyxpQkFBUixFQUFOO0FBQ0EsY0FBTVAsT0FBTyxDQUFDUSxVQUFSLEVBQU47QUFDQUMsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksVUFBWjtBQUVBLFlBQUl2RCxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBaEI7QUFDQSxlQUFPRyxHQUFHLENBQUMyQixnQkFBWDtBQUNBLE9BM1lELENBMllFLE9BQU82QixLQUFQLEVBQWM7QUFDZixjQUFNWCxPQUFPLENBQUNZLGdCQUFSLEVBQU47QUFDQSxjQUFNWixPQUFPLENBQUNRLFVBQVIsRUFBTjtBQUNBQyxRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsS0FBWjtBQUNBRixRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaO0FBQ0EsZUFBTyxJQUFJZixLQUFKLENBQVUsUUFBVixDQUFQO0FBQ0E7QUFDRCxLQWxmUTs7QUFvZlQsVUFBTXFFLHdCQUFOLENBQStCakgsSUFBL0IsRUFBcUM7QUFBRUMsTUFBQUEsR0FBRjtBQUFPd0MsTUFBQUE7QUFBUCxLQUFyQyxFQUFxRDtBQUNwRCxZQUFNUSxPQUFPLEdBQUcsTUFBTXhELFFBQVEsQ0FBQ3lELFlBQVQsRUFBdEI7O0FBQ0EsVUFBSTtBQUNIRCxRQUFBQSxPQUFPLENBQUNFLGdCQUFSO0FBQ0EsWUFBSS9DLEdBQUcsR0FBRyxNQUFNakIsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFoQjs7QUFFQSxZQUFJLENBQUNHLEdBQUcsQ0FBQytCLFVBQUwsSUFBbUIvQixHQUFHLENBQUMrQixVQUFKLENBQWV2QixNQUFmLElBQXlCLENBQWhELEVBQW1EO0FBQ2xENkQsVUFBQUEsYUFBYSxHQUFHLE1BQU0sSUFBSUUsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0RDFGLFlBQUFBLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsRUFBd0IsVUFBU2tFLEdBQVQsRUFBY0MsSUFBZCxFQUFvQjtBQUMzQyxrQkFBSSxDQUFDQSxJQUFMLEVBQVdWLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBWCxLQUNLO0FBQ0psQixnQkFBQUEsS0FBSyxDQUFDcEIsT0FBTixDQUFlYyxVQUFELElBQWdCO0FBQzdCLHNCQUFJL0IsR0FBRyxDQUFDK0IsVUFBSixLQUFtQnRCLFNBQW5CLElBQWdDVCxHQUFHLENBQUMrQixVQUFKLENBQWV2QixNQUFmLElBQXlCLENBQTdELEVBQWdFO0FBQy9EUixvQkFBQUEsR0FBRyxDQUFDK0IsVUFBSixHQUFpQixDQUFFQSxVQUFGLENBQWpCO0FBQ0EsbUJBRkQsTUFFTztBQUNOL0Isb0JBQUFBLEdBQUcsQ0FBQytCLFVBQUosQ0FBZXJCLElBQWYsQ0FBb0JxQixVQUFwQjtBQUNBO0FBQ0QsaUJBTkQ7QUFPQTtBQUVEaUMsY0FBQUEsSUFBSSxDQUFDakMsVUFBTCxHQUFrQi9CLEdBQUcsQ0FBQytCLFVBQXRCO0FBQ0FpQyxjQUFBQSxJQUFJLENBQUNvQixNQUFMLENBQVlwQixJQUFaLEVBQWtCZCxJQUFsQixDQUF3Qk4sQ0FBRCxJQUFPO0FBQzdCNEIsZ0JBQUFBLE9BQU8sQ0FBQ1IsSUFBRCxDQUFQO0FBQ0EsZUFGRDtBQUdBLGFBaEJEO0FBaUJBLFdBbEJxQixDQUF0QjtBQW9CQTs7QUFDQSxjQUFJcUIsVUFBVSxHQUFHLE1BQU1sRyxVQUFVLENBQUNjLE9BQVgsQ0FBbUI7QUFBRXFGLFlBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLFdBQW5CLENBQXZCO0FBQ0FHLFVBQUFBLEdBQUcsR0FBRyxNQUFNakIsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFaO0FBQ0EsY0FBSTBGLEtBQUssR0FBRyxLQUFaO0FBQ0EsY0FBSUMsU0FBUyxHQUFHLE1BQU0sSUFBSWpCLE9BQUosQ0FBWSxPQUFPQyxPQUFQLEVBQWdCQyxNQUFoQixLQUEyQjtBQUM1RHpFLFlBQUFBLEdBQUcsQ0FBQytCLFVBQUosQ0FBZWQsT0FBZixDQUF3QmMsVUFBRCxJQUFnQjtBQUN0Q0EsY0FBQUEsVUFBVSxDQUFDa0QsTUFBWCxDQUFrQmhFLE9BQWxCLENBQTJCZ0UsTUFBRCxJQUFZO0FBQ3JDLG9CQUFJLENBQUNJLFVBQUwsRUFBaUI7QUFDaEIsc0JBQUlJLEtBQUssR0FBRztBQUNYQyxvQkFBQUEsSUFBSSxFQUFFVCxNQUFNLENBQUNTLElBREY7QUFFWEMsb0JBQUFBLFFBQVEsRUFBRVYsTUFBTSxDQUFDVTtBQUZOLG1CQUFaO0FBS0FOLGtCQUFBQSxVQUFVLEdBQUcsSUFBSVYsTUFBSixDQUFXO0FBQ3ZCbUMsb0JBQUFBLG1CQUFtQixFQUFFLElBQUluQyxNQUFKLENBQVc7QUFDL0JNLHNCQUFBQSxNQUFNLEVBQUUsQ0FBRVEsS0FBRjtBQUR1QixxQkFBWDtBQURFLG1CQUFYLENBQWI7QUFLQUYsa0JBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0EsaUJBWkQsTUFZTztBQUNOLHNCQUFJRSxLQUFLLEdBQUc7QUFDWEMsb0JBQUFBLElBQUksRUFBRVQsTUFBTSxDQUFDUyxJQURGO0FBRVhDLG9CQUFBQSxRQUFRLEVBQUVWLE1BQU0sQ0FBQ1U7QUFGTixtQkFBWjs7QUFLQSxzQkFBSSxDQUFDTixVQUFVLENBQUN5QixtQkFBWixJQUFtQ3pCLFVBQVUsQ0FBQ3lCLG1CQUFYLENBQStCdEcsTUFBL0IsSUFBeUMsQ0FBaEYsRUFBbUY7QUFDbEY2RSxvQkFBQUEsVUFBVSxHQUFHLElBQUlWLE1BQUosQ0FBVztBQUN2Qm1DLHNCQUFBQSxtQkFBbUIsRUFBRSxJQUFJbkMsTUFBSixDQUFXO0FBQy9CTSx3QkFBQUEsTUFBTSxFQUFFLENBQUVRLEtBQUY7QUFEdUIsdUJBQVg7QUFERSxxQkFBWCxDQUFiO0FBS0EsbUJBTkQsTUFNTztBQUNOSixvQkFBQUEsVUFBVSxDQUFDeUIsbUJBQVgsQ0FBK0I3QixNQUEvQixDQUFzQ3ZFLElBQXRDLENBQTJDK0UsS0FBM0M7QUFDQTtBQUNEO0FBQ0QsZUE3QkQ7QUE4QkEsYUEvQkQ7O0FBZ0NBLGdCQUFJRixLQUFKLEVBQVc7QUFDVixrQkFBSXRDLFFBQVEsR0FBRyxNQUFNOUQsVUFBVSxDQUFDc0QsTUFBWCxDQUFrQjRDLFVBQWxCLENBQXJCO0FBQ0EsYUFGRCxNQUVPO0FBQ05sRyxjQUFBQSxVQUFVLENBQUNjLE9BQVgsQ0FBbUI7QUFBRXFGLGdCQUFBQSxjQUFjLEVBQUV6RjtBQUFsQixlQUFuQixFQUE0QyxVQUFTa0UsR0FBVCxFQUFjOEIsS0FBZCxFQUFxQjtBQUNoRSxvQkFBSSxDQUFDQSxLQUFMLEVBQVl2QyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQVosS0FDSztBQUNKLHNCQUFJLENBQUNzQyxLQUFELElBQVVBLEtBQUssQ0FBQ3JGLE1BQU4sSUFBZ0IsQ0FBOUIsRUFBaUM7QUFDaENxRixvQkFBQUEsS0FBSyxHQUFHQSxLQUFSO0FBQ0EsbUJBRkQsTUFFTztBQUNOQSxvQkFBQUEsS0FBSyxDQUFDaUIsbUJBQU4sR0FBNEJ6QixVQUFVLENBQUN5QixtQkFBdkM7QUFDQTs7QUFDRGpCLGtCQUFBQSxLQUFLLENBQUNULE1BQU4sQ0FBYVMsS0FBYixFQUFvQjNDLElBQXBCLENBQTBCTixDQUFELElBQU8sQ0FBRSxDQUFsQztBQUNBO0FBQ0QsZUFWRDtBQVdBOztBQUNENEIsWUFBQUEsT0FBTztBQUNQLFdBakRxQixDQUF0QjtBQW1EQTs7QUFDQSxjQUFJc0IsV0FBVyxHQUFHLE1BQU0xRyxrQkFBa0IsQ0FBQ2EsT0FBbkIsQ0FBMkI7QUFBRXFGLFlBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLFdBQTNCLENBQXhCO0FBQ0FHLFVBQUFBLEdBQUcsR0FBRyxNQUFNakIsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFaO0FBQ0EsY0FBSTBGLEtBQUssR0FBRyxLQUFaO0FBQ0EsY0FBSVEsT0FBTyxHQUFHLE1BQU0sSUFBSXhCLE9BQUosQ0FBWSxPQUFPQyxPQUFQLEVBQWdCQyxNQUFoQixLQUEyQjtBQUMxRHpFLFlBQUFBLEdBQUcsQ0FBQytCLFVBQUosQ0FBZWQsT0FBZixDQUF3QmMsVUFBRCxJQUFnQjtBQUN0Q0EsY0FBQUEsVUFBVSxDQUFDa0QsTUFBWCxDQUFrQmhFLE9BQWxCLENBQTJCZ0UsTUFBRCxJQUFZO0FBQ3JDLG9CQUFJLENBQUNhLFdBQUwsRUFBa0I7QUFDakIsc0JBQUlMLEtBQUssR0FBRztBQUNYTyxvQkFBQUEsSUFBSSxFQUFFLElBQUlDLElBQUosRUFESztBQUVYUCxvQkFBQUEsSUFBSSxFQUFFVCxNQUFNLENBQUNTLElBRkY7QUFHWEMsb0JBQUFBLFFBQVEsRUFBRVYsTUFBTSxDQUFDVTtBQUhOLG1CQUFaO0FBTUFHLGtCQUFBQSxXQUFXLEdBQUcsSUFBSW5CLE1BQUosQ0FBVztBQUN4QnVCLG9CQUFBQSxXQUFXLEVBQUUsSUFBSXZCLE1BQUosQ0FBVztBQUN2Qm1DLHNCQUFBQSxtQkFBbUIsRUFBRSxJQUFJbkMsTUFBSixDQUFXO0FBQy9CTSx3QkFBQUEsTUFBTSxFQUFFLENBQUVRLEtBQUY7QUFEdUIsdUJBQVg7QUFERSxxQkFBWDtBQURXLG1CQUFYLENBQWQ7QUFPQUYsa0JBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0EsaUJBZkQsTUFlTztBQUNOLHNCQUFJRSxLQUFLLEdBQUc7QUFDWE8sb0JBQUFBLElBQUksRUFBRSxJQUFJQyxJQUFKLEVBREs7QUFFWFAsb0JBQUFBLElBQUksRUFBRVQsTUFBTSxDQUFDUyxJQUZGO0FBR1hDLG9CQUFBQSxRQUFRLEVBQUVWLE1BQU0sQ0FBQ1U7QUFITixtQkFBWjs7QUFNQSxzQkFDQyxDQUFDRyxXQUFXLENBQUNJLFdBQWIsSUFDQSxDQUFDSixXQUFXLENBQUNJLFdBQVosQ0FBd0JZLG1CQUR6QixJQUVBaEIsV0FBVyxDQUFDSSxXQUFaLENBQXdCWSxtQkFBeEIsQ0FBNEN0RyxNQUE1QyxJQUFzRCxDQUh2RCxFQUlFO0FBQ0RzRixvQkFBQUEsV0FBVyxHQUFHLElBQUluQixNQUFKLENBQVc7QUFDeEJ1QixzQkFBQUEsV0FBVyxFQUFFLElBQUl2QixNQUFKLENBQVc7QUFDdkJtQyx3QkFBQUEsbUJBQW1CLEVBQUUsSUFBSW5DLE1BQUosQ0FBVztBQUMvQk0sMEJBQUFBLE1BQU0sRUFBRSxDQUFFUSxLQUFGO0FBRHVCLHlCQUFYO0FBREUsdUJBQVg7QUFEVyxxQkFBWCxDQUFkO0FBT0EsbUJBWkQsTUFZTztBQUNOSyxvQkFBQUEsV0FBVyxDQUFDSSxXQUFaLENBQXdCWSxtQkFBeEIsQ0FBNEM3QixNQUE1QyxDQUFtRHZFLElBQW5ELENBQXdEK0UsS0FBeEQ7QUFDQTtBQUNEO0FBQ0QsZUF2Q0Q7QUF3Q0EsYUF6Q0Q7O0FBMENBLGdCQUFJRixLQUFKLEVBQVc7QUFDVixrQkFBSXRDLFFBQVEsR0FBRyxNQUFNN0Qsa0JBQWtCLENBQUNxRCxNQUFuQixDQUEwQnFELFdBQTFCLENBQXJCO0FBQ0EsYUFGRCxNQUVPO0FBQ04xRyxjQUFBQSxrQkFBa0IsQ0FBQ2EsT0FBbkIsQ0FBMkI7QUFBRXFGLGdCQUFBQSxjQUFjLEVBQUV6RjtBQUFsQixlQUEzQixFQUFvRCxVQUFTa0UsR0FBVCxFQUFjb0MsS0FBZCxFQUFxQjtBQUN4RSxvQkFBSSxDQUFDQSxLQUFMLEVBQVk3QyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQVosS0FDSztBQUNKLHNCQUFJLENBQUM0QyxLQUFELElBQVVBLEtBQUssQ0FBQzNGLE1BQU4sSUFBZ0IsQ0FBOUIsRUFBaUM7QUFDaEMyRixvQkFBQUEsS0FBSyxHQUFHTCxXQUFSO0FBQ0EsbUJBRkQsTUFFTztBQUNOSyxvQkFBQUEsS0FBSyxDQUFDRCxXQUFOLENBQWtCWSxtQkFBbEIsR0FDQ2hCLFdBQVcsQ0FBQ0ksV0FBWixDQUF3QlksbUJBRHpCO0FBRUE7O0FBQ0RYLGtCQUFBQSxLQUFLLENBQUNmLE1BQU4sQ0FBYWUsS0FBYixFQUFvQmpELElBQXBCLENBQTBCTixDQUFELElBQU8sQ0FBRSxDQUFsQztBQUNBO0FBQ0QsZUFYRDtBQVlBOztBQUNENEIsWUFBQUEsT0FBTztBQUNQLFdBNURtQixDQUFwQjtBQTZEQSxTQTdJRCxNQTZJTztBQUNOLGVBQUssSUFBSWpFLENBQUMsR0FBRyxDQUFiLEVBQWdCOEIsS0FBSyxDQUFDN0IsTUFBTixHQUFlRCxDQUEvQixFQUFrQ0EsQ0FBQyxFQUFuQyxFQUF1QztBQUN0QyxnQkFBSTJFLEtBQUssR0FBRyxNQUFNbEYsR0FBRyxDQUFDK0IsVUFBSixDQUFlNUIsSUFBZixDQUFxQnlDLENBQUQsSUFBT0EsQ0FBQyxDQUFDL0MsR0FBRixJQUFTd0MsS0FBSyxDQUFDOUIsQ0FBRCxDQUFMLENBQVNWLEdBQTdDLENBQWxCOztBQUVBLGdCQUFJLENBQUNxRixLQUFELElBQVVBLEtBQUssQ0FBQzFFLE1BQU4sSUFBZ0IsQ0FBOUIsRUFBaUM7QUFDaENSLGNBQUFBLEdBQUcsQ0FBQytCLFVBQUosQ0FBZXJCLElBQWYsQ0FBb0IyQixLQUFLLENBQUM5QixDQUFELENBQXpCO0FBQ0Esb0JBQU1QLEdBQUcsQ0FBQ29GLE1BQUosQ0FBV3BGLEdBQVgsRUFBZ0JrRCxJQUFoQixDQUFxQkksT0FBTyxDQUFDQyxHQUFSLENBQVksb0JBQVosQ0FBckIsQ0FBTjtBQUNBLGFBSEQsTUFHTztBQUNOMkIsY0FBQUEsS0FBSyxDQUFDeUIsR0FBTixDQUFVdEUsS0FBSyxDQUFDOUIsQ0FBRCxDQUFmO0FBQ0Esb0JBQU1QLEdBQUcsQ0FBQ29GLE1BQUosQ0FBV3BGLEdBQVgsRUFBZ0JrRCxJQUFoQixDQUFxQkksT0FBTyxDQUFDQyxHQUFSLENBQVksbUJBQVosQ0FBckIsQ0FBTjtBQUNBOztBQUNEdkQsWUFBQUEsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQVo7QUFFQTs7QUFDQSxnQkFBSXdGLFVBQVUsR0FBRyxNQUFNbEcsVUFBVSxDQUFDYyxPQUFYLENBQW1CO0FBQUVxRixjQUFBQSxjQUFjLEVBQUV6RjtBQUFsQixhQUFuQixDQUF2QjtBQUNBLGdCQUFJMkcsT0FBTyxHQUFHLE1BQU0sSUFBSWpDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDcEQsbUJBQUssSUFBSTdCLENBQUMsR0FBRyxDQUFiLEVBQWdCUCxLQUFLLENBQUM5QixDQUFELENBQUwsQ0FBUzBFLE1BQVQsQ0FBZ0J6RSxNQUFoQixHQUF5Qm9DLENBQXpDLEVBQTRDQSxDQUFDLEVBQTdDLEVBQWlEO0FBQ2hELG9CQUFJbUUsT0FBTyxHQUFHdEcsU0FBZDs7QUFDQSxxQkFBSzZGLENBQUMsR0FBRyxDQUFULEVBQVlBLENBQUMsR0FBR2pCLFVBQVUsQ0FBQ3lCLG1CQUFYLENBQStCN0IsTUFBL0IsQ0FBc0N6RSxNQUF0RCxFQUE4RDhGLENBQUMsRUFBL0QsRUFBbUU7QUFDbEUsc0JBQUlqQixVQUFVLENBQUN5QixtQkFBWCxDQUErQjdCLE1BQS9CLENBQXNDcUIsQ0FBdEMsRUFBeUNaLElBQXpDLEtBQWtEckQsS0FBSyxDQUFDOUIsQ0FBRCxDQUFMLENBQVMwRSxNQUFULENBQWdCckMsQ0FBaEIsRUFBbUI4QyxJQUF6RSxFQUErRTtBQUM5RXFCLG9CQUFBQSxPQUFPLEdBQUcxQixVQUFVLENBQUN5QixtQkFBWCxDQUErQjdCLE1BQS9CLENBQXNDcUIsQ0FBdEMsQ0FBVjtBQUNBO0FBQ0Q7O0FBQ0Qsb0JBQUlTLE9BQUosRUFBYTtBQUNaQSxrQkFBQUEsT0FBTyxDQUFDSixHQUFSLENBQVl0RSxLQUFLLENBQUM5QixDQUFELENBQUwsQ0FBUzBFLE1BQVQsQ0FBZ0JyQyxDQUFoQixDQUFaO0FBQ0EsaUJBRkQsTUFFTztBQUNOeUMsa0JBQUFBLFVBQVUsQ0FBQ3lCLG1CQUFYLENBQStCN0IsTUFBL0IsQ0FBc0N2RSxJQUF0QyxDQUEyQzJCLEtBQUssQ0FBQzlCLENBQUQsQ0FBTCxDQUFTMEUsTUFBVCxDQUFnQnJDLENBQWhCLENBQTNDO0FBQ0E7QUFDRDs7QUFFRHpELGNBQUFBLFVBQVUsQ0FBQ2MsT0FBWCxDQUFtQjtBQUFFcUYsZ0JBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLGVBQW5CLEVBQTRDLFVBQVNrRSxHQUFULEVBQWM4QixLQUFkLEVBQXFCO0FBQ2hFLG9CQUFJLENBQUNBLEtBQUwsRUFBWXZDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBWixLQUNLO0FBQ0pzQyxrQkFBQUEsS0FBSyxDQUFDaUIsbUJBQU4sR0FBNEJ6QixVQUFVLENBQUN5QixtQkFBdkM7QUFDQWpCLGtCQUFBQSxLQUFLLENBQUNULE1BQU4sQ0FBYVMsS0FBYixFQUFvQjNDLElBQXBCLENBQTBCTixDQUFELElBQU87QUFDL0I0QixvQkFBQUEsT0FBTztBQUNQLG1CQUZEO0FBR0E7QUFDRCxlQVJEO0FBU0EsYUF4Qm1CLENBQXBCO0FBMEJBOztBQUNBLGdCQUFJc0IsV0FBVyxHQUFHLE1BQU0xRyxrQkFBa0IsQ0FBQ2EsT0FBbkIsQ0FBMkI7QUFBRXFGLGNBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLGFBQTNCLENBQXhCO0FBQ0EsZ0JBQUkyRyxPQUFPLEdBQUcsTUFBTSxJQUFJakMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUNwRCxtQkFBSyxJQUFJN0IsQ0FBQyxHQUFHLENBQWIsRUFBZ0JQLEtBQUssQ0FBQzlCLENBQUQsQ0FBTCxDQUFTMEUsTUFBVCxDQUFnQnpFLE1BQWhCLEdBQXlCb0MsQ0FBekMsRUFBNENBLENBQUMsRUFBN0MsRUFBaUQ7QUFDaERrRCxnQkFBQUEsV0FBVyxDQUFDSSxXQUFaLENBQXdCWSxtQkFBeEIsQ0FBNEM3QixNQUE1QyxDQUFtRHZFLElBQW5ELENBQXdEMkIsS0FBSyxDQUFDOUIsQ0FBRCxDQUFMLENBQVMwRSxNQUFULENBQWdCckMsQ0FBaEIsQ0FBeEQ7QUFDQTs7QUFFRHhELGNBQUFBLGtCQUFrQixDQUFDYSxPQUFuQixDQUEyQjtBQUFFcUYsZ0JBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLGVBQTNCLEVBQW9ELFVBQVNrRSxHQUFULEVBQWNvQyxLQUFkLEVBQXFCO0FBQ3hFLG9CQUFJLENBQUNBLEtBQUwsRUFBWTdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBWixLQUNLO0FBQ0o0QyxrQkFBQUEsS0FBSyxDQUFDRCxXQUFOLENBQWtCWSxtQkFBbEIsR0FBd0NoQixXQUFXLENBQUNJLFdBQVosQ0FBd0JZLG1CQUFoRTtBQUNBWCxrQkFBQUEsS0FBSyxDQUFDZixNQUFOLENBQWFlLEtBQWIsRUFBb0JqRCxJQUFwQixDQUEwQk4sQ0FBRCxJQUFPO0FBQy9CNEIsb0JBQUFBLE9BQU87QUFDUCxtQkFGRDtBQUdBO0FBQ0QsZUFSRDtBQVNBLGFBZG1CLENBQXBCO0FBZUF4RSxZQUFBQSxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBWjtBQUNBO0FBQ0Q7O0FBRUQsY0FBTWdELE9BQU8sQ0FBQ08saUJBQVIsRUFBTjtBQUNBLGNBQU1QLE9BQU8sQ0FBQ1EsVUFBUixFQUFOO0FBQ0FDLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVo7QUFFQSxZQUFJdkQsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQWhCO0FBQ0EsZUFBT0csR0FBRyxDQUFDK0IsVUFBWDtBQUNBLE9Bck5ELENBcU5FLE9BQU95QixLQUFQLEVBQWM7QUFDZixjQUFNWCxPQUFPLENBQUNZLGdCQUFSLEVBQU47QUFDQSxjQUFNWixPQUFPLENBQUNRLFVBQVIsRUFBTjtBQUNBQyxRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsS0FBWjtBQUNBRixRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaO0FBQ0EsZUFBTyxJQUFJZixLQUFKLENBQVUsUUFBVixDQUFQO0FBQ0E7QUFDRCxLQWx0QlE7O0FBb3RCVCxVQUFNd0UscUJBQU4sQ0FBNEJwSCxJQUE1QixFQUFrQztBQUFFQyxNQUFBQSxHQUFGO0FBQU93QyxNQUFBQTtBQUFQLEtBQWxDLEVBQWtEO0FBQ2pELFlBQU1RLE9BQU8sR0FBRyxNQUFNeEQsUUFBUSxDQUFDeUQsWUFBVCxFQUF0Qjs7QUFDQSxVQUFJO0FBQ0hELFFBQUFBLE9BQU8sQ0FBQ0UsZ0JBQVI7QUFDQSxZQUFJL0MsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQWhCOztBQUNBLFlBQUlHLEdBQUcsQ0FBQ2UsT0FBSixLQUFnQk4sU0FBaEIsSUFBNkJULEdBQUcsQ0FBQ2UsT0FBSixLQUFnQixJQUFqRCxFQUF1RDtBQUN0RHNELFVBQUFBLGFBQWEsR0FBRyxNQUFNLElBQUlFLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdEQxRixZQUFBQSxTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLEVBQXdCLFVBQVNrRSxHQUFULEVBQWNDLElBQWQsRUFBb0I7QUFDM0Msa0JBQUksQ0FBQ0EsSUFBTCxFQUFXVixPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQVgsS0FDSztBQUNKLG9CQUFJdkQsR0FBRyxDQUFDZSxPQUFKLEtBQWdCTixTQUFoQixJQUE2QlQsR0FBRyxDQUFDZSxPQUFKLEtBQWdCLElBQWpELEVBQXVEO0FBQ3REZixrQkFBQUEsR0FBRyxDQUFDZSxPQUFKLEdBQWNzQixLQUFkO0FBQ0EsaUJBRkQsTUFFTztBQUNOckMsa0JBQUFBLEdBQUcsQ0FBQ2UsT0FBSixHQUFjc0IsS0FBZDtBQUNBO0FBQ0Q7QUFFRDJCLGNBQUFBLElBQUksQ0FBQ2pELE9BQUwsR0FBZWYsR0FBRyxDQUFDZSxPQUFuQjtBQUNBaUQsY0FBQUEsSUFBSSxDQUFDb0IsTUFBTCxDQUFZcEIsSUFBWixFQUFrQmQsSUFBbEIsQ0FBd0JOLENBQUQsSUFBTztBQUM3QjRCLGdCQUFBQSxPQUFPLENBQUNSLElBQUQsQ0FBUDtBQUNBLGVBRkQ7QUFHQSxhQWREO0FBZUEsV0FoQnFCLENBQXRCO0FBaUJBOztBQUNBLGNBQUlxQixVQUFVLEdBQUcsTUFBTWxHLFVBQVUsQ0FBQ2dCLElBQVgsQ0FBZ0I7QUFBRW1GLFlBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLFdBQWhCLENBQXZCO0FBQ0FHLFVBQUFBLEdBQUcsR0FBRyxNQUFNakIsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFaO0FBQ0EsY0FBSTBGLEtBQUssR0FBRyxLQUFaO0FBQ0EsY0FBSUMsU0FBUyxHQUFHLE1BQU0sSUFBSWpCLE9BQUosQ0FBWSxPQUFPQyxPQUFQLEVBQWdCQyxNQUFoQixLQUEyQjtBQUM1RCxnQkFBSXpFLEdBQUcsQ0FBQ2UsT0FBSixDQUFZQyxJQUFaLElBQW9CaEIsR0FBRyxDQUFDZSxPQUFKLENBQVlDLElBQVosQ0FBaUJSLE1BQWpCLEdBQTBCLENBQWxELEVBQXFEO0FBQ3BEUixjQUFBQSxHQUFHLENBQUNlLE9BQUosQ0FBWUMsSUFBWixDQUFpQkMsT0FBakIsQ0FBMEJELElBQUQsSUFBVTtBQUNsQyxvQkFBSSxDQUFDcUUsVUFBRCxJQUFlQSxVQUFVLENBQUM3RSxNQUFYLElBQXFCLENBQXhDLEVBQTJDO0FBQzFDLHNCQUFJaUYsS0FBSyxHQUFHO0FBQ1hDLG9CQUFBQSxJQUFJLEVBQUUxRSxJQUFJLENBQUNpRSxNQUFMLENBQVlTLElBRFA7QUFFWEMsb0JBQUFBLFFBQVEsRUFBRTNFLElBQUksQ0FBQ2lFLE1BQUwsQ0FBWVU7QUFGWCxtQkFBWjtBQUlBTixrQkFBQUEsVUFBVSxHQUFHLElBQUlWLE1BQUosQ0FBVztBQUN2QnNDLG9CQUFBQSxtQkFBbUIsRUFBRSxJQUFJdEMsTUFBSixDQUFXO0FBQy9CTSxzQkFBQUEsTUFBTSxFQUFFLENBQUVRLEtBQUY7QUFEdUIscUJBQVg7QUFERSxtQkFBWCxDQUFiO0FBS0FGLGtCQUFBQSxLQUFLLEdBQUcsSUFBUjtBQUNBLGlCQVhELE1BV087QUFDTixzQkFBSUUsS0FBSyxHQUFHO0FBQ1hDLG9CQUFBQSxJQUFJLEVBQUUxRSxJQUFJLENBQUNpRSxNQUFMLENBQVlTLElBRFA7QUFFWEMsb0JBQUFBLFFBQVEsRUFBRTNFLElBQUksQ0FBQ2lFLE1BQUwsQ0FBWVU7QUFGWCxtQkFBWjs7QUFLQSxzQkFBSSxDQUFDTixVQUFVLENBQUM0QixtQkFBWixJQUFtQzVCLFVBQVUsQ0FBQzRCLG1CQUFYLENBQStCekcsTUFBL0IsSUFBeUMsQ0FBaEYsRUFBbUY7QUFDbEY2RSxvQkFBQUEsVUFBVSxHQUFHLElBQUlWLE1BQUosQ0FBVztBQUN2QnNDLHNCQUFBQSxtQkFBbUIsRUFBRSxJQUFJdEMsTUFBSixDQUFXO0FBQy9CTSx3QkFBQUEsTUFBTSxFQUFFLENBQUVRLEtBQUY7QUFEdUIsdUJBQVg7QUFERSxxQkFBWCxDQUFiO0FBS0EsbUJBTkQsTUFNTztBQUNOSixvQkFBQUEsVUFBVSxDQUFDNEIsbUJBQVgsQ0FBK0JoQyxNQUEvQixDQUFzQ3ZFLElBQXRDLENBQTJDK0UsS0FBM0M7QUFDQTtBQUNEO0FBQ0QsZUE1QkQ7QUE2QkEsYUE5QkQsTUE4Qk8sSUFBSXpGLEdBQUcsQ0FBQ2UsT0FBSixDQUFZbUcsUUFBWixJQUF3QmxILEdBQUcsQ0FBQ2UsT0FBSixDQUFZbUcsUUFBWixDQUFxQjFHLE1BQXJCLEdBQThCLENBQTFELEVBQTZEO0FBQ25FUixjQUFBQSxHQUFHLENBQUNlLE9BQUosQ0FBWW1HLFFBQVosQ0FBcUJqRyxPQUFyQixDQUE4QmlHLFFBQUQsSUFBYztBQUMxQyxvQkFBSSxDQUFDN0IsVUFBRCxJQUFlQSxVQUFVLENBQUM3RSxNQUFYLElBQXFCLENBQXhDLEVBQTJDO0FBQzFDLHNCQUFJaUYsS0FBSyxHQUFHO0FBQ1hDLG9CQUFBQSxJQUFJLEVBQUV3QixRQUFRLENBQUNqQyxNQUFULENBQWdCUyxJQURYO0FBRVhDLG9CQUFBQSxRQUFRLEVBQUV1QixRQUFRLENBQUNqQyxNQUFULENBQWdCVTtBQUZmLG1CQUFaO0FBS0FOLGtCQUFBQSxVQUFVLEdBQUcsSUFBSVYsTUFBSixDQUFXO0FBQ3ZCc0Msb0JBQUFBLG1CQUFtQixFQUFFLElBQUl0QyxNQUFKLENBQVc7QUFDL0JNLHNCQUFBQSxNQUFNLEVBQUUsQ0FBRVEsS0FBRjtBQUR1QixxQkFBWDtBQURFLG1CQUFYLENBQWI7QUFLQUYsa0JBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0EsaUJBWkQsTUFZTztBQUNOLHNCQUFJRSxLQUFLLEdBQUc7QUFDWEMsb0JBQUFBLElBQUksRUFBRXdCLFFBQVEsQ0FBQ2pDLE1BQVQsQ0FBZ0JTLElBRFg7QUFFWEMsb0JBQUFBLFFBQVEsRUFBRXVCLFFBQVEsQ0FBQ2pDLE1BQVQsQ0FBZ0JVO0FBRmYsbUJBQVo7O0FBS0Esc0JBQUksQ0FBQ04sVUFBVSxDQUFDNEIsbUJBQVosSUFBbUM1QixVQUFVLENBQUM0QixtQkFBWCxDQUErQnpHLE1BQS9CLElBQXlDLENBQWhGLEVBQW1GO0FBQ2xGNkUsb0JBQUFBLFVBQVUsR0FBRyxJQUFJVixNQUFKLENBQVc7QUFDdkJzQyxzQkFBQUEsbUJBQW1CLEVBQUUsSUFBSXRDLE1BQUosQ0FBVztBQUMvQk0sd0JBQUFBLE1BQU0sRUFBRSxDQUFFUSxLQUFGO0FBRHVCLHVCQUFYO0FBREUscUJBQVgsQ0FBYjtBQUtBLG1CQU5ELE1BTU87QUFDTkosb0JBQUFBLFVBQVUsQ0FBQzRCLG1CQUFYLENBQStCaEMsTUFBL0IsQ0FBc0N2RSxJQUF0QyxDQUEyQytFLEtBQTNDO0FBQ0E7QUFDRDtBQUNELGVBN0JEO0FBOEJBOztBQUNELGdCQUFJRixLQUFKLEVBQVc7QUFDVixrQkFBSXRDLFFBQVEsR0FBRyxNQUFNOUQsVUFBVSxDQUFDc0QsTUFBWCxDQUFrQjRDLFVBQWxCLENBQXJCO0FBQ0EsYUFGRCxNQUVPO0FBQ05sRyxjQUFBQSxVQUFVLENBQUNjLE9BQVgsQ0FBbUI7QUFBRXFGLGdCQUFBQSxjQUFjLEVBQUV6RjtBQUFsQixlQUFuQixFQUE0QyxVQUFTa0UsR0FBVCxFQUFjOEIsS0FBZCxFQUFxQjtBQUNoRSxvQkFBSSxDQUFDQSxLQUFMLEVBQVk7QUFDWHZDLGtCQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaO0FBQ0EsaUJBRkQsTUFFTztBQUNOLHNCQUFJLENBQUNzQyxLQUFELElBQVVBLEtBQUssQ0FBQ3JGLE1BQU4sSUFBZ0IsQ0FBOUIsRUFBaUM7QUFDaENxRixvQkFBQUEsS0FBSyxHQUFHUixVQUFSO0FBQ0EsbUJBRkQsTUFFTztBQUNOUSxvQkFBQUEsS0FBSyxDQUFDb0IsbUJBQU4sR0FBNEI1QixVQUFVLENBQUM0QixtQkFBdkM7QUFDQTs7QUFDRHBCLGtCQUFBQSxLQUFLLENBQUNULE1BQU4sQ0FBYVMsS0FBYixFQUFvQjNDLElBQXBCLENBQTBCTixDQUFELElBQU8sQ0FBRSxDQUFsQztBQUNBO0FBQ0QsZUFYRDtBQVlBOztBQUNENEIsWUFBQUEsT0FBTztBQUNQLFdBaEZxQixDQUF0QjtBQWtGQTs7QUFDQSxjQUFJc0IsV0FBVyxHQUFHLE1BQU0xRyxrQkFBa0IsQ0FBQ2UsSUFBbkIsQ0FBd0I7QUFBRW1GLFlBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLFdBQXhCLENBQXhCO0FBQ0FHLFVBQUFBLEdBQUcsR0FBRyxNQUFNakIsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFaO0FBQ0EsY0FBSTBGLEtBQUssR0FBRyxLQUFaO0FBQ0EsY0FBSVEsT0FBTyxHQUFHLE1BQU0sSUFBSXhCLE9BQUosQ0FBWSxPQUFPQyxPQUFQLEVBQWdCQyxNQUFoQixLQUEyQjtBQUMxRCxnQkFBSXpFLEdBQUcsQ0FBQ2UsT0FBSixDQUFZQyxJQUFaLElBQW9CaEIsR0FBRyxDQUFDZSxPQUFKLENBQVlDLElBQVosQ0FBaUJSLE1BQWpCLEdBQTBCLENBQWxELEVBQXFEO0FBQ3BEUixjQUFBQSxHQUFHLENBQUNlLE9BQUosQ0FBWUMsSUFBWixDQUFpQkMsT0FBakIsQ0FBMEJELElBQUQsSUFBVTtBQUNsQyxvQkFBSThFLFdBQVcsS0FBS3JGLFNBQWhCLElBQTZCcUYsV0FBVyxLQUFLLElBQWpELEVBQXVEO0FBQ3RELHNCQUFJTCxLQUFLLEdBQUc7QUFDWE8sb0JBQUFBLElBQUksRUFBRSxJQUFJQyxJQUFKLEVBREs7QUFFWFAsb0JBQUFBLElBQUksRUFBRTFFLElBQUksQ0FBQ2lFLE1BQUwsQ0FBWVMsSUFGUDtBQUdYQyxvQkFBQUEsUUFBUSxFQUFFM0UsSUFBSSxDQUFDaUUsTUFBTCxDQUFZVTtBQUhYLG1CQUFaO0FBTUFHLGtCQUFBQSxXQUFXLEdBQUcsSUFBSW5CLE1BQUosQ0FBVztBQUN4QnVCLG9CQUFBQSxXQUFXLEVBQUUsSUFBSXZCLE1BQUosQ0FBVztBQUN2QnNDLHNCQUFBQSxtQkFBbUIsRUFBRSxJQUFJdEMsTUFBSixDQUFXO0FBQy9CTSx3QkFBQUEsTUFBTSxFQUFFLENBQUVRLEtBQUY7QUFEdUIsdUJBQVg7QUFERSxxQkFBWDtBQURXLG1CQUFYLENBQWQ7QUFPQUYsa0JBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0EsaUJBZkQsTUFlTztBQUNOLHNCQUFJRSxLQUFLLEdBQUc7QUFDWE8sb0JBQUFBLElBQUksRUFBRSxJQUFJQyxJQUFKLEVBREs7QUFFWFAsb0JBQUFBLElBQUksRUFBRTFFLElBQUksQ0FBQ2lFLE1BQUwsQ0FBWVMsSUFGUDtBQUdYQyxvQkFBQUEsUUFBUSxFQUFFM0UsSUFBSSxDQUFDaUUsTUFBTCxDQUFZVTtBQUhYLG1CQUFaOztBQU1BLHNCQUNDLENBQUNHLFdBQVcsQ0FBQ0ksV0FBYixJQUNBLENBQUNKLFdBQVcsQ0FBQ0ksV0FBWixDQUF3QmUsbUJBRHpCLElBRUFuQixXQUFXLENBQUNJLFdBQVosQ0FBd0JlLG1CQUF4QixDQUE0Q3pHLE1BQTVDLElBQXNELENBSHZELEVBSUU7QUFDRHNGLG9CQUFBQSxXQUFXLEdBQUcsSUFBSW5CLE1BQUosQ0FBVztBQUN4QnVCLHNCQUFBQSxXQUFXLEVBQUUsSUFBSXZCLE1BQUosQ0FBVztBQUN2QnNDLHdCQUFBQSxtQkFBbUIsRUFBRSxJQUFJdEMsTUFBSixDQUFXO0FBQy9CTSwwQkFBQUEsTUFBTSxFQUFFLENBQUVRLEtBQUY7QUFEdUIseUJBQVg7QUFERSx1QkFBWDtBQURXLHFCQUFYLENBQWQ7QUFPQSxtQkFaRCxNQVlPO0FBQ05LLG9CQUFBQSxXQUFXLENBQUNJLFdBQVosQ0FBd0JlLG1CQUF4QixDQUE0Q2hDLE1BQTVDLENBQW1EdkUsSUFBbkQsQ0FBd0QrRSxLQUF4RDtBQUNBO0FBQ0Q7QUFDRCxlQXZDRDtBQXdDQSxhQXpDRCxNQXlDTyxJQUFJekYsR0FBRyxDQUFDZSxPQUFKLENBQVltRyxRQUFaLElBQXdCbEgsR0FBRyxDQUFDZSxPQUFKLENBQVltRyxRQUFaLENBQXFCMUcsTUFBckIsR0FBOEIsQ0FBMUQsRUFBNkQ7QUFDbkVSLGNBQUFBLEdBQUcsQ0FBQ2UsT0FBSixDQUFZbUcsUUFBWixDQUFxQmpHLE9BQXJCLENBQThCaUcsUUFBRCxJQUFjO0FBQzFDLG9CQUFJcEIsV0FBVyxLQUFLckYsU0FBaEIsSUFBNkJxRixXQUFXLEtBQUssSUFBakQsRUFBdUQ7QUFDdEQsc0JBQUlMLEtBQUssR0FBRztBQUNYTyxvQkFBQUEsSUFBSSxFQUFFLElBQUlDLElBQUosRUFESztBQUVYUCxvQkFBQUEsSUFBSSxFQUFFd0IsUUFBUSxDQUFDakMsTUFBVCxDQUFnQlMsSUFGWDtBQUdYQyxvQkFBQUEsUUFBUSxFQUFFdUIsUUFBUSxDQUFDakMsTUFBVCxDQUFnQlU7QUFIZixtQkFBWjtBQU1BRyxrQkFBQUEsV0FBVyxHQUFHLElBQUluQixNQUFKLENBQVc7QUFDeEJ1QixvQkFBQUEsV0FBVyxFQUFFLElBQUl2QixNQUFKLENBQVc7QUFDdkJzQyxzQkFBQUEsbUJBQW1CLEVBQUUsSUFBSXRDLE1BQUosQ0FBVztBQUMvQk0sd0JBQUFBLE1BQU0sRUFBRSxDQUFFUSxLQUFGO0FBRHVCLHVCQUFYO0FBREUscUJBQVg7QUFEVyxtQkFBWCxDQUFkO0FBT0FGLGtCQUFBQSxLQUFLLEdBQUcsSUFBUjtBQUNBLGlCQWZELE1BZU87QUFDTixzQkFBSUUsS0FBSyxHQUFHO0FBQ1hPLG9CQUFBQSxJQUFJLEVBQUUsSUFBSUMsSUFBSixFQURLO0FBRVhQLG9CQUFBQSxJQUFJLEVBQUV3QixRQUFRLENBQUNqQyxNQUFULENBQWdCUyxJQUZYO0FBR1hDLG9CQUFBQSxRQUFRLEVBQUV1QixRQUFRLENBQUNqQyxNQUFULENBQWdCVTtBQUhmLG1CQUFaOztBQU1BLHNCQUNDLENBQUNHLFdBQVcsQ0FBQ0ksV0FBYixJQUNBLENBQUNKLFdBQVcsQ0FBQ0ksV0FBWixDQUF3QmUsbUJBRHpCLElBRUFuQixXQUFXLENBQUNJLFdBQVosQ0FBd0JlLG1CQUF4QixDQUE0Q3pHLE1BQTVDLElBQXNELENBSHZELEVBSUU7QUFDRHNGLG9CQUFBQSxXQUFXLEdBQUcsSUFBSW5CLE1BQUosQ0FBVztBQUN4QnVCLHNCQUFBQSxXQUFXLEVBQUUsSUFBSXZCLE1BQUosQ0FBVztBQUN2QnNDLHdCQUFBQSxtQkFBbUIsRUFBRSxJQUFJdEMsTUFBSixDQUFXO0FBQy9CTSwwQkFBQUEsTUFBTSxFQUFFLENBQUVRLEtBQUY7QUFEdUIseUJBQVg7QUFERSx1QkFBWDtBQURXLHFCQUFYLENBQWQ7QUFPQSxtQkFaRCxNQVlPO0FBQ05LLG9CQUFBQSxXQUFXLENBQUNJLFdBQVosQ0FBd0JlLG1CQUF4QixDQUE0Q2hDLE1BQTVDLENBQW1EdkUsSUFBbkQsQ0FBd0QrRSxLQUF4RDtBQUNBO0FBQ0Q7QUFDRCxlQXZDRDtBQXdDQTs7QUFDRCxnQkFBSUYsS0FBSixFQUFXO0FBQ1Ysa0JBQUl0QyxRQUFRLEdBQUcsTUFBTTdELGtCQUFrQixDQUFDcUQsTUFBbkIsQ0FBMEJxRCxXQUExQixDQUFyQjtBQUNBLGFBRkQsTUFFTztBQUNOMUcsY0FBQUEsa0JBQWtCLENBQUNhLE9BQW5CLENBQTJCO0FBQUVxRixnQkFBQUEsY0FBYyxFQUFFekY7QUFBbEIsZUFBM0IsRUFBb0QsVUFBU2tFLEdBQVQsRUFBY29DLEtBQWQsRUFBcUI7QUFDeEUsb0JBQUksQ0FBQ0EsS0FBTCxFQUFZN0MsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWixFQUFaLEtBQ0s7QUFDSixzQkFBSTRDLEtBQUssS0FBSzFGLFNBQVYsSUFBdUIwRixLQUFLLEtBQUssSUFBckMsRUFBMkM7QUFDMUNBLG9CQUFBQSxLQUFLLEdBQUdMLFdBQVI7QUFDQSxtQkFGRCxNQUVPO0FBQ05LLG9CQUFBQSxLQUFLLENBQUNELFdBQU4sQ0FBa0JlLG1CQUFsQixHQUNDbkIsV0FBVyxDQUFDSSxXQUFaLENBQXdCZSxtQkFEekI7QUFFQTs7QUFDRGQsa0JBQUFBLEtBQUssQ0FBQ2YsTUFBTixDQUFhZSxLQUFiLEVBQW9CakQsSUFBcEIsQ0FBMEJOLENBQUQsSUFBTyxDQUFFLENBQWxDO0FBQ0E7QUFDRCxlQVhEO0FBWUE7O0FBQ0Q0QixZQUFBQSxPQUFPO0FBQ1AsV0FyR21CLENBQXBCO0FBc0dBLFNBbE5ELE1Ba05PO0FBQ04sY0FBSW5DLEtBQUssQ0FBQ3JCLElBQU4sS0FBZVAsU0FBZixJQUE0QjRCLEtBQUssQ0FBQ3JCLElBQU4sQ0FBV1IsTUFBWCxHQUFvQixDQUFwRCxFQUF1RDtBQUN0RCxpQkFBS0QsQ0FBQyxHQUFHLENBQVQsRUFBWUEsQ0FBQyxHQUFHOEIsS0FBSyxDQUFDckIsSUFBTixDQUFXUixNQUEzQixFQUFtQ0QsQ0FBQyxFQUFwQyxFQUF3QztBQUN2QyxrQkFBSTJFLEtBQUssR0FBRyxNQUFNbEYsR0FBRyxDQUFDZSxPQUFKLENBQVlDLElBQVosQ0FBaUJiLElBQWpCLENBQXVCeUMsQ0FBRCxJQUFPQSxDQUFDLENBQUMvQyxHQUFGLElBQVN3QyxLQUFLLENBQUNyQixJQUFOLENBQVdULENBQVgsRUFBY1YsR0FBcEQsQ0FBbEI7O0FBQ0Esa0JBQUlxRixLQUFKLEVBQVc7QUFDVkEsZ0JBQUFBLEtBQUssQ0FBQ3lCLEdBQU4sQ0FBVXRFLEtBQUssQ0FBQ3JCLElBQU4sQ0FBV1QsQ0FBWCxDQUFWO0FBQ0Esc0JBQU1QLEdBQUcsQ0FBQ29GLE1BQUosQ0FBV3BGLEdBQVgsRUFBZ0JrRCxJQUFoQixDQUFxQkksT0FBTyxDQUFDQyxHQUFSLENBQVkscUJBQVosQ0FBckIsQ0FBTjtBQUNBLGVBSEQsTUFHTztBQUNOLHNCQUFNdkQsR0FBRyxDQUFDZSxPQUFKLENBQVlDLElBQVosQ0FBaUJOLElBQWpCLENBQXNCMkIsS0FBSyxDQUFDckIsSUFBTixDQUFXVCxDQUFYLENBQXRCLENBQU47QUFDQSxzQkFBTVAsR0FBRyxDQUFDb0YsTUFBSixDQUFXcEYsR0FBWCxFQUFnQmtELElBQWhCLENBQXFCSSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzQkFBWixDQUFyQixDQUFOO0FBQ0E7O0FBQ0R2RCxjQUFBQSxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBWjtBQUVBOztBQUNBLGtCQUFJd0YsVUFBVSxHQUFHLE1BQU1sRyxVQUFVLENBQUNjLE9BQVgsQ0FBbUI7QUFBRXFGLGdCQUFBQSxjQUFjLEVBQUV6RjtBQUFsQixlQUFuQixDQUF2QjtBQUNBLGtCQUFJMkcsT0FBTyxHQUFHLE1BQU0sSUFBSWpDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDcEQsb0JBQUlwQyxLQUFLLENBQUNyQixJQUFOLEtBQWVQLFNBQWYsSUFBNEI0QixLQUFLLENBQUNyQixJQUFOLENBQVdSLE1BQVgsR0FBb0IsQ0FBcEQsRUFBdUQ7QUFDdEQsc0JBQUl1RyxPQUFPLEdBQUd0RyxTQUFkOztBQUNBLHVCQUFLNkYsQ0FBQyxHQUFHLENBQVQsRUFBWUEsQ0FBQyxHQUFHakIsVUFBVSxDQUFDNEIsbUJBQVgsQ0FBK0JoQyxNQUEvQixDQUFzQ3pFLE1BQXRELEVBQThEOEYsQ0FBQyxFQUEvRCxFQUFtRTtBQUNsRSx3QkFDQ2pCLFVBQVUsQ0FBQzRCLG1CQUFYLENBQStCaEMsTUFBL0IsQ0FBc0NxQixDQUF0QyxFQUF5Q1osSUFBekMsS0FBa0RyRCxLQUFLLENBQUNyQixJQUFOLENBQVdULENBQVgsRUFBYzBFLE1BQWQsQ0FBcUJTLElBRHhFLEVBRUU7QUFDRHFCLHNCQUFBQSxPQUFPLEdBQUcxQixVQUFVLENBQUM0QixtQkFBWCxDQUErQmhDLE1BQS9CLENBQXNDcUIsQ0FBdEMsQ0FBVjtBQUNBO0FBQ0Q7O0FBQ0Qsc0JBQUlTLE9BQUosRUFBYTtBQUNaQSxvQkFBQUEsT0FBTyxDQUFDSixHQUFSLENBQVl0RSxLQUFLLENBQUNyQixJQUFOLENBQVdULENBQVgsRUFBYzBFLE1BQTFCO0FBQ0EsbUJBRkQsTUFFTztBQUNOSSxvQkFBQUEsVUFBVSxDQUFDNEIsbUJBQVgsQ0FBK0JoQyxNQUEvQixDQUFzQ3ZFLElBQXRDLENBQTJDMkIsS0FBSyxDQUFDckIsSUFBTixDQUFXVCxDQUFYLEVBQWMwRSxNQUF6RDtBQUNBO0FBQ0Q7O0FBQ0Q5RixnQkFBQUEsVUFBVSxDQUFDYyxPQUFYLENBQW1CO0FBQUVxRixrQkFBQUEsY0FBYyxFQUFFekY7QUFBbEIsaUJBQW5CLEVBQTRDLFVBQVNrRSxHQUFULEVBQWM4QixLQUFkLEVBQXFCO0FBQ2hFLHNCQUFJLENBQUNBLEtBQUwsRUFBWXZDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBWixLQUNLO0FBQ0pzQyxvQkFBQUEsS0FBSyxDQUFDb0IsbUJBQU4sR0FBNEI1QixVQUFVLENBQUM0QixtQkFBdkM7QUFDQXBCLG9CQUFBQSxLQUFLLENBQUNULE1BQU4sQ0FBYVMsS0FBYixFQUFvQjNDLElBQXBCLENBQTBCTixDQUFELElBQU87QUFDL0I0QixzQkFBQUEsT0FBTztBQUNQLHFCQUZEO0FBR0E7QUFDRCxpQkFSRDtBQVNBLGVBekJtQixDQUFwQjtBQTJCQTs7QUFDQXhFLGNBQUFBLEdBQUcsR0FBRyxNQUFNakIsU0FBUyxDQUFDZSxRQUFWLENBQW1CRCxHQUFuQixDQUFaO0FBQ0Esa0JBQUlpRyxXQUFXLEdBQUcsTUFBTTFHLGtCQUFrQixDQUFDYSxPQUFuQixDQUEyQjtBQUFFcUYsZ0JBQUFBLGNBQWMsRUFBRXpGO0FBQWxCLGVBQTNCLENBQXhCO0FBQ0Esa0JBQUkyRyxPQUFPLEdBQUcsTUFBTSxJQUFJakMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUNwRCxvQkFBSXBDLEtBQUssQ0FBQ3JCLElBQU4sS0FBZVAsU0FBZixJQUE0QjRCLEtBQUssQ0FBQ3JCLElBQU4sQ0FBV1IsTUFBWCxHQUFvQixDQUFwRCxFQUF1RDtBQUN0RHNGLGtCQUFBQSxXQUFXLENBQUNJLFdBQVosQ0FBd0JlLG1CQUF4QixDQUE0Q2hDLE1BQTVDLENBQW1EdkUsSUFBbkQsQ0FBd0QyQixLQUFLLENBQUNyQixJQUFOLENBQVdULENBQVgsRUFBYzBFLE1BQXRFO0FBQ0E7O0FBQ0Q3RixnQkFBQUEsa0JBQWtCLENBQUNhLE9BQW5CLENBQTJCO0FBQUVxRixrQkFBQUEsY0FBYyxFQUFFekY7QUFBbEIsaUJBQTNCLEVBQW9ELFVBQVNrRSxHQUFULEVBQWNvQyxLQUFkLEVBQXFCO0FBQ3hFLHNCQUFJLENBQUNBLEtBQUwsRUFBWTdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBWixLQUNLO0FBQ0o0QyxvQkFBQUEsS0FBSyxDQUFDRCxXQUFOLENBQWtCZSxtQkFBbEIsR0FDQ25CLFdBQVcsQ0FBQ0ksV0FBWixDQUF3QmUsbUJBRHpCO0FBRUFkLG9CQUFBQSxLQUFLLENBQUNmLE1BQU4sQ0FBYWUsS0FBYixFQUFvQmpELElBQXBCLENBQTBCTixDQUFELElBQU87QUFDL0I0QixzQkFBQUEsT0FBTztBQUNQLHFCQUZEO0FBR0E7QUFDRCxpQkFURDtBQVVBLGVBZG1CLENBQXBCO0FBZUF4RSxjQUFBQSxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBWjtBQUNBO0FBQ0QsV0E3REQsTUE2RE8sSUFBSXdDLEtBQUssQ0FBQzZFLFFBQU4sS0FBbUJ6RyxTQUFuQixJQUFnQzRCLEtBQUssQ0FBQzZFLFFBQU4sQ0FBZTFHLE1BQWYsR0FBd0IsQ0FBNUQsRUFBK0Q7QUFDckUsaUJBQUtELENBQUMsR0FBRyxDQUFULEVBQVlBLENBQUMsR0FBRzhCLEtBQUssQ0FBQzZFLFFBQU4sQ0FBZTFHLE1BQS9CLEVBQXVDRCxDQUFDLEVBQXhDLEVBQTRDO0FBQzNDLGtCQUFJMkUsS0FBSyxHQUFHLE1BQU1sRixHQUFHLENBQUNlLE9BQUosQ0FBWW1HLFFBQVosQ0FBcUIvRyxJQUFyQixDQUEyQnlDLENBQUQsSUFBT0EsQ0FBQyxDQUFDL0MsR0FBRixJQUFTd0MsS0FBSyxDQUFDNkUsUUFBTixDQUFlM0csQ0FBZixFQUFrQlYsR0FBNUQsQ0FBbEI7O0FBQ0Esa0JBQUlxRixLQUFKLEVBQVc7QUFDVkEsZ0JBQUFBLEtBQUssQ0FBQ3lCLEdBQU4sQ0FBVXRFLEtBQUssQ0FBQzZFLFFBQU4sQ0FBZTNHLENBQWYsQ0FBVjtBQUNBLHNCQUFNUCxHQUFHLENBQUNvRixNQUFKLENBQVdwRixHQUFYLEVBQWdCa0QsSUFBaEIsQ0FBcUJJLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHlCQUFaLENBQXJCLENBQU47QUFDQSxlQUhELE1BR087QUFDTixzQkFBTXZELEdBQUcsQ0FBQ2UsT0FBSixDQUFZbUcsUUFBWixDQUFxQnhHLElBQXJCLENBQTBCMkIsS0FBSyxDQUFDNkUsUUFBTixDQUFlM0csQ0FBZixDQUExQixDQUFOO0FBQ0Esc0JBQU1QLEdBQUcsQ0FBQ29GLE1BQUosQ0FBV3BGLEdBQVgsRUFBZ0JrRCxJQUFoQixDQUFxQkksT0FBTyxDQUFDQyxHQUFSLENBQVksMEJBQVosQ0FBckIsQ0FBTjtBQUNBOztBQUNEdkQsY0FBQUEsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQVo7QUFFQTs7QUFDQSxrQkFBSXdGLFVBQVUsR0FBRyxNQUFNbEcsVUFBVSxDQUFDYyxPQUFYLENBQW1CO0FBQUVxRixnQkFBQUEsY0FBYyxFQUFFekY7QUFBbEIsZUFBbkIsQ0FBdkI7QUFDQSxrQkFBSTJHLE9BQU8sR0FBRyxNQUFNLElBQUlqQyxPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3BELG9CQUFJcEMsS0FBSyxDQUFDNkUsUUFBTixLQUFtQnpHLFNBQW5CLElBQWdDNEIsS0FBSyxDQUFDNkUsUUFBTixDQUFlMUcsTUFBZixHQUF3QixDQUE1RCxFQUErRDtBQUM5RCxzQkFBSXVHLE9BQU8sR0FBR3RHLFNBQWQ7O0FBQ0EsdUJBQUs2RixDQUFDLEdBQUcsQ0FBVCxFQUFZQSxDQUFDLEdBQUdqQixVQUFVLENBQUM0QixtQkFBWCxDQUErQmhDLE1BQS9CLENBQXNDekUsTUFBdEQsRUFBOEQ4RixDQUFDLEVBQS9ELEVBQW1FO0FBQ2xFLHdCQUNDakIsVUFBVSxDQUFDNEIsbUJBQVgsQ0FBK0JoQyxNQUEvQixDQUFzQ3FCLENBQXRDLEVBQXlDWixJQUF6QyxLQUNBckQsS0FBSyxDQUFDNkUsUUFBTixDQUFlM0csQ0FBZixFQUFrQjBFLE1BQWxCLENBQXlCUyxJQUYxQixFQUdFO0FBQ0RxQixzQkFBQUEsT0FBTyxHQUFHMUIsVUFBVSxDQUFDNEIsbUJBQVgsQ0FBK0JoQyxNQUEvQixDQUFzQ3FCLENBQXRDLENBQVY7QUFDQTtBQUNEOztBQUNELHNCQUFJUyxPQUFKLEVBQWE7QUFDWkEsb0JBQUFBLE9BQU8sQ0FBQ0osR0FBUixDQUFZdEUsS0FBSyxDQUFDNkUsUUFBTixDQUFlM0csQ0FBZixFQUFrQjBFLE1BQTlCO0FBQ0EsbUJBRkQsTUFFTztBQUNOSSxvQkFBQUEsVUFBVSxDQUFDNEIsbUJBQVgsQ0FBK0JoQyxNQUEvQixDQUFzQ3ZFLElBQXRDLENBQTJDMkIsS0FBSyxDQUFDNkUsUUFBTixDQUFlM0csQ0FBZixFQUFrQjBFLE1BQTdEO0FBQ0E7QUFDRDs7QUFFRDlGLGdCQUFBQSxVQUFVLENBQUNjLE9BQVgsQ0FBbUI7QUFBRXFGLGtCQUFBQSxjQUFjLEVBQUV6RjtBQUFsQixpQkFBbkIsRUFBNEMsVUFBU2tFLEdBQVQsRUFBYzhCLEtBQWQsRUFBcUI7QUFDaEUsc0JBQUksQ0FBQ0EsS0FBTCxFQUFZdkMsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWixFQUFaLEtBQ0s7QUFDSnNDLG9CQUFBQSxLQUFLLENBQUNvQixtQkFBTixHQUE0QjVCLFVBQVUsQ0FBQzRCLG1CQUF2QztBQUNBcEIsb0JBQUFBLEtBQUssQ0FBQ1QsTUFBTixDQUFhUyxLQUFiLEVBQW9CM0MsSUFBcEIsQ0FBMEJOLENBQUQsSUFBTztBQUMvQjRCLHNCQUFBQSxPQUFPO0FBQ1AscUJBRkQ7QUFHQTtBQUNELGlCQVJEO0FBU0EsZUEzQm1CLENBQXBCO0FBNkJBOztBQUNBeEUsY0FBQUEsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQVo7QUFDQSxrQkFBSWlHLFdBQVcsR0FBRyxNQUFNMUcsa0JBQWtCLENBQUNhLE9BQW5CLEVBQXhCO0FBQ0Esa0JBQUl1RyxPQUFPLEdBQUcsTUFBTSxJQUFJakMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUNwRCxvQkFBSXBDLEtBQUssQ0FBQzZFLFFBQU4sS0FBbUJ6RyxTQUFuQixJQUFnQzRCLEtBQUssQ0FBQzZFLFFBQU4sQ0FBZTFHLE1BQWYsR0FBd0IsQ0FBNUQsRUFBK0Q7QUFDOURzRixrQkFBQUEsV0FBVyxDQUFDSSxXQUFaLENBQXdCZSxtQkFBeEIsQ0FBNENoQyxNQUE1QyxDQUFtRHZFLElBQW5ELENBQXdEMkIsS0FBSyxDQUFDNkUsUUFBTixDQUFlM0csQ0FBZixFQUFrQjBFLE1BQTFFO0FBQ0E7O0FBRUQ3RixnQkFBQUEsa0JBQWtCLENBQUNhLE9BQW5CLENBQTJCO0FBQUVxRixrQkFBQUEsY0FBYyxFQUFFekY7QUFBbEIsaUJBQTNCLEVBQW9ELFVBQVNrRSxHQUFULEVBQWNvQyxLQUFkLEVBQXFCO0FBQ3hFLHNCQUFJLENBQUNBLEtBQUwsRUFBWTdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVosRUFBWixLQUNLO0FBQ0o0QyxvQkFBQUEsS0FBSyxDQUFDRCxXQUFOLENBQWtCZSxtQkFBbEIsR0FDQ25CLFdBQVcsQ0FBQ0ksV0FBWixDQUF3QmUsbUJBRHpCO0FBRUFkLG9CQUFBQSxLQUFLLENBQUNmLE1BQU4sQ0FBYWUsS0FBYixFQUFvQmpELElBQXBCLENBQTBCTixDQUFELElBQU87QUFDL0I0QixzQkFBQUEsT0FBTztBQUNQLHFCQUZEO0FBR0E7QUFDRCxpQkFURDtBQVVBLGVBZm1CLENBQXBCO0FBZ0JBeEUsY0FBQUEsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQVo7QUFDQTtBQUNEO0FBQ0Q7O0FBQ0QsY0FBTWdELE9BQU8sQ0FBQ08saUJBQVIsRUFBTjtBQUNBLGNBQU1QLE9BQU8sQ0FBQ1EsVUFBUixFQUFOO0FBQ0FDLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVo7QUFFQSxZQUFJdkQsR0FBRyxHQUFHLE1BQU1qQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLENBQWhCO0FBQ0EsZUFBT0csR0FBRyxDQUFDZSxPQUFYO0FBQ0EsT0EzVkQsQ0EyVkUsT0FBT3lDLEtBQVAsRUFBYztBQUNmLGNBQU1YLE9BQU8sQ0FBQ1ksZ0JBQVIsRUFBTjtBQUNBLGNBQU1aLE9BQU8sQ0FBQ1EsVUFBUixFQUFOO0FBQ0FDLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxLQUFaO0FBQ0FGLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVo7QUFDQSxlQUFPLElBQUlmLEtBQUosQ0FBVSxRQUFWLENBQVA7QUFDQTtBQUNELEtBeGpDUTs7QUF5akNULFVBQU0yRSw0QkFBTixDQUFtQ3ZILElBQW5DLEVBQXlDO0FBQUVDLE1BQUFBLEdBQUY7QUFBT3dDLE1BQUFBO0FBQVAsS0FBekMsRUFBeUQsQ0FBRSxDQXpqQ2xEOztBQTBqQ1QsVUFBTStFLHNCQUFOLENBQTZCeEgsSUFBN0IsRUFBbUM7QUFBRUMsTUFBQUEsR0FBRjtBQUFPd0MsTUFBQUE7QUFBUCxLQUFuQyxFQUFtRDtBQUNsRCxVQUFJO0FBQ0gsWUFBSW1FLE9BQU8sR0FBRyxNQUFNLElBQUlqQyxPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQ3BELGNBQUl6RSxHQUFHLEdBQUdqQixTQUFTLENBQUNlLFFBQVYsQ0FBbUJELEdBQW5CLEVBQXdCLFVBQVNrRSxHQUFULEVBQWNDLElBQWQsRUFBb0I7QUFDckQsZ0JBQUlELEdBQUosRUFBUztBQUNSVSxjQUFBQSxNQUFNLENBQUNSLElBQUksQ0FBQyxJQUFJekIsS0FBSixDQUFVLFFBQVYsQ0FBRCxDQUFMLENBQU47QUFDQSxhQUZELE1BRU87QUFDTixtQkFBSyxJQUFJakMsQ0FBQyxHQUFHLENBQWIsRUFBZ0I4QixLQUFLLENBQUM3QixNQUFOLEdBQWVELENBQS9CLEVBQWtDQSxDQUFDLEVBQW5DLEVBQXVDO0FBQ3RDLG9CQUFJOEIsS0FBSyxDQUFDOUIsQ0FBRCxDQUFMLENBQVNWLEdBQWIsRUFBa0I7QUFDakJxQixrQkFBQUEsS0FBSyxHQUFHOEMsSUFBSSxDQUFDekMsU0FBTCxDQUFlMkMsU0FBZixDQUEwQnRCLENBQUQsSUFBT0EsQ0FBQyxDQUFDL0MsR0FBRixJQUFTd0MsS0FBSyxDQUFDOUIsQ0FBRCxDQUFMLENBQVNWLEdBQWxELENBQVI7QUFDQW1FLGtCQUFBQSxJQUFJLENBQUN6QyxTQUFMLENBQWVMLEtBQWYsSUFBd0JtQixLQUFLLENBQUM5QixDQUFELENBQTdCO0FBQ0EsaUJBSEQsTUFHTztBQUNOeUQsa0JBQUFBLElBQUksQ0FBQ3pDLFNBQUwsQ0FBZWIsSUFBZixDQUFvQjJCLEtBQUssQ0FBQzlCLENBQUQsQ0FBekI7QUFDQTtBQUNEOztBQUNEeUQsY0FBQUEsSUFBSSxDQUFDRyxJQUFMO0FBQ0FLLGNBQUFBLE9BQU8sQ0FBQ1IsSUFBRCxDQUFQO0FBQ0E7QUFDRCxXQWZTLENBQVY7QUFnQkEsU0FqQm1CLENBQXBCO0FBbUJBLFlBQUloRSxHQUFHLEdBQUcsTUFBTWpCLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBaEI7QUFDQSxlQUFPRyxHQUFHLENBQUN1QixTQUFYO0FBQ0EsT0F0QkQsQ0FzQkUsT0FBT2lDLEtBQVAsRUFBYztBQUNmLGNBQU0sSUFBSWhCLEtBQUosQ0FBVSxRQUFWLENBQU47QUFDQTtBQUNEOztBQXBsQ1E7QUFySGtCLENBQTdCOztBQTZzQ0EsZUFBZVcsS0FBZixDQUFxQnRELEdBQXJCLEVBQTBCbUQsRUFBMUIsRUFBOEJMLGVBQTlCLEVBQStDO0FBQzlDLE1BQUkwRSxNQUFNLEdBQUc7QUFDWkMsSUFBQUEsT0FBTyxFQUFFdEU7QUFERyxHQUFiOztBQUdBLE1BQUlMLGVBQWUsS0FBS3JELGNBQWMsQ0FBQ1AsU0FBdkMsRUFBa0Q7QUFDakQsUUFBSVUsU0FBUyxHQUFHLE1BQU1WLFNBQVMsQ0FBQ2UsUUFBVixDQUFtQkQsR0FBbkIsQ0FBdEI7O0FBQ0EsUUFBSUosU0FBUyxDQUFDYSxLQUFWLEtBQW9CRyxTQUFwQixJQUFpQ2hCLFNBQVMsQ0FBQ2EsS0FBVixDQUFnQkUsTUFBaEIsSUFBMEIsQ0FBL0QsRUFBa0U7QUFDakVmLE1BQUFBLFNBQVMsQ0FBQyxPQUFELENBQVQsR0FBcUIsQ0FBRTRILE1BQUYsQ0FBckI7QUFDQSxLQUZELE1BRU87QUFDTjVILE1BQUFBLFNBQVMsQ0FBQ2EsS0FBVixDQUFnQkksSUFBaEIsQ0FBcUIyRyxNQUFyQjtBQUNBOztBQUNEdEksSUFBQUEsU0FBUyxDQUFDa0IsT0FBVixDQUFrQkosR0FBbEIsRUFBdUIsVUFBU2tFLEdBQVQsRUFBY3dELElBQWQsRUFBb0I7QUFDMUMsVUFBSSxDQUFDQSxJQUFMLEVBQVdqRSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQVgsS0FDSztBQUNKZ0UsUUFBQUEsSUFBSSxDQUFDakgsS0FBTCxHQUFhYixTQUFTLENBQUNhLEtBQXZCO0FBQ0FpSCxRQUFBQSxJQUFJLENBQUNuQyxNQUFMLENBQVltQyxJQUFaLEVBQWtCckUsSUFBbEIsQ0FBd0JOLENBQUQsSUFBTyxDQUFFLENBQWhDO0FBQ0E7QUFDRCxLQU5EO0FBT0EsR0FkRCxNQWNPLElBQUlELGVBQWUsS0FBS3JELGNBQWMsQ0FBQ0osUUFBdkMsRUFBaUQ7QUFDdkQsUUFBSTRCLFFBQVEsR0FBRyxNQUFNNUIsUUFBUSxDQUFDWSxRQUFULENBQWtCRCxHQUFsQixDQUFyQjs7QUFDQSxRQUFJaUIsUUFBUSxDQUFDUixLQUFULEtBQW1CRyxTQUFuQixJQUFnQ0ssUUFBUSxDQUFDUixLQUFULENBQWVFLE1BQWYsSUFBeUIsQ0FBN0QsRUFBZ0U7QUFDL0RNLE1BQUFBLFFBQVEsQ0FBQyxPQUFELENBQVIsR0FBb0IsQ0FBRXVHLE1BQUYsQ0FBcEI7QUFDQSxLQUZELE1BRU87QUFDTnZHLE1BQUFBLFFBQVEsQ0FBQ1IsS0FBVCxDQUFlSSxJQUFmLENBQW9CMkcsTUFBcEI7QUFDQTs7QUFDRG5JLElBQUFBLFFBQVEsQ0FBQ2UsT0FBVCxDQUFpQkosR0FBakIsRUFBc0IsVUFBU2tFLEdBQVQsRUFBY3lELElBQWQsRUFBb0I7QUFDekMsVUFBSSxDQUFDQSxJQUFMLEVBQVdsRSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQVgsS0FDSztBQUNKaUUsUUFBQUEsSUFBSSxDQUFDbEgsS0FBTCxHQUFhUSxRQUFRLENBQUNSLEtBQXRCO0FBQ0FrSCxRQUFBQSxJQUFJLENBQUNwQyxNQUFMLENBQVlvQyxJQUFaLEVBQWtCdEUsSUFBbEIsQ0FBd0JOLENBQUQsSUFBTyxDQUFFLENBQWhDO0FBQ0E7QUFDRCxLQU5EO0FBT0EsR0FkTSxNQWNBO0FBQ04sUUFBSS9CLFdBQVcsR0FBRyxNQUFNNUIsV0FBVyxDQUFDYSxRQUFaLENBQXFCRCxHQUFyQixDQUF4Qjs7QUFDQSxRQUFJZ0IsV0FBVyxDQUFDUCxLQUFaLEtBQXNCRyxTQUF0QixJQUFtQ0ksV0FBVyxDQUFDUCxLQUFaLENBQWtCRSxNQUFsQixJQUE0QixDQUFuRSxFQUFzRTtBQUNyRUssTUFBQUEsV0FBVyxDQUFDLE9BQUQsQ0FBWCxHQUF1QixDQUFFd0csTUFBRixDQUF2QjtBQUNBLEtBRkQsTUFFTztBQUNOeEcsTUFBQUEsV0FBVyxDQUFDUCxLQUFaLENBQWtCSSxJQUFsQixDQUF1QjJHLE1BQXZCO0FBQ0E7O0FBQ0QsVUFBTXBJLFdBQVcsQ0FBQ2EsUUFBWixDQUFxQkQsR0FBckIsRUFBMEIsVUFBU2tFLEdBQVQsRUFBY0MsSUFBZCxFQUFvQjtBQUNuRCxVQUFJLENBQUNBLElBQUwsRUFBV1YsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWixFQUFYLEtBQ0s7QUFDSlMsUUFBQUEsSUFBSSxDQUFDMUQsS0FBTCxHQUFhTyxXQUFXLENBQUNQLEtBQXpCO0FBQ0EwRCxRQUFBQSxJQUFJLENBQUNvQixNQUFMLENBQVlwQixJQUFaLEVBQWtCZCxJQUFsQixDQUF3Qk4sQ0FBRCxJQUFPLENBQUUsQ0FBaEM7QUFDQTtBQUNELEtBTkssQ0FBTjtBQU9BO0FBQ0QiLCJzb3VyY2VSb290IjoiQzpcXHJlY29uc2lkZXJlXFxyZWNvbnNpZGVyZS1jb3Jwb3JhdGlvbi1hcGlcXHJlc29sdmVyc1xcY29sbGVjdG9yXFxNdXRhdGlvbiIsInNvdXJjZXNDb250ZW50IjpbInZhciBDb2xsZWN0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9tb2RlbHMvY29sbGVjdG9yLm1vZGVsJyk7XHJcbnZhciBDb3Jwb3JhdGlvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL21vZGVscy9jb3Jwb3JhdGlvbi5tb2RlbCcpO1xyXG52YXIgUHJvdmlkZXIgPSByZXF1aXJlKCcuLi8uLi8uLi9tb2RlbHMvcHJvdmlkZXIubW9kZWwnKTtcclxudmFyIENoZWNrUG9pbnQgPSByZXF1aXJlKCcuLi8uLi8uLi9tb2RlbHMvY2hlY2twb2ludC5tb2RlbCcpO1xyXG52YXIgVHJhbnNhY3Rpb25IaXN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vLi4vbW9kZWxzL3RyYW5zYWN0aW9uaGlzdG9yeS5tb2RlbCcpO1xyXG5tb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcblxyXG52YXIgQ2xhc3NpZmljYXRpb24gPSB7XHJcblx0UHJvdmlkZXI6ICdGb3JuZWNlZG9yJyxcclxuXHRDb2xsZWN0b3I6ICdFbXByZXNhIENvbGV0b3JhJ1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjb2xsZWN0b3IgPSB7XHJcblx0UXVlcnk6IHtcclxuXHRcdGFzeW5jIGdldENvbGxlY3Rvcihyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHJldHVybiBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkKTtcclxuXHRcdH0sXHJcblx0XHRhc3luYyBnZXRDb2xsZWN0b3JCeVVzZXIocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHR2YXIgcmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRPbmUoeyAndXNlcnMuX2lkJzogX2lkIH0pO1xyXG5cdFx0XHRpZiAoIXJlcykge1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiByZXM7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRhc3luYyBhbGxDb2xsZWN0b3JzKHJvb3QsIHsgX2lkIH0pIHtcclxuXHRcdFx0cmV0dXJuIGF3YWl0IENvbGxlY3Rvci5maW5kKCk7XHJcblx0XHR9LFxyXG5cdFx0YXN5bmMgYWxsVW5pdHMocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHR2YXIgcmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdGlmIChyZXMpIHtcclxuXHRcdFx0XHR2YXIgdW5pdDtcclxuXHRcdFx0XHR2YXIgdW5pdHMgPSBbXTtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgcmVzLnVuaXRzLmxlbmd0aCA+IGk7IGkrKykge1xyXG5cdFx0XHRcdFx0dW5pdCA9IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdHVuaXQgPSBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQocmVzLnVuaXRzW2ldLl9pZCk7XHJcblx0XHRcdFx0XHRpZiAoIXVuaXQpIHtcclxuXHRcdFx0XHRcdFx0dW5pdCA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKHJlcy51bml0c1tpXS5faWQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCF1bml0KSB7XHJcblx0XHRcdFx0XHRcdHVuaXQgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChyZXMudW5pdHNbaV0uX2lkKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR1bml0cy5wdXNoKHVuaXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gdW5pdHM7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGFzeW5jIGFsbENsaWVudHNUb0NvbGxlY3Rvcihyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciBjbGllbnRzID0gW107XHJcblx0XHRcdHZhciBjb3Jwb3JhdGlvbiA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRPbmUoeyAnZW50cmllcy5zYWxlLl9pZENvbGVjdG9yJzogX2lkIH0pO1xyXG5cdFx0XHR2YXIgcHJvdmlkZXIgPSBhd2FpdCBQcm92aWRlci5maW5kT25lKHsgJ2VudHJpZXMuc2FsZS5faWRDb2xlY3Rvcic6IF9pZCB9KTtcclxuXHRcdFx0aWYgKGNvcnBvcmF0aW9uKSB7XHJcblx0XHRcdFx0Y29ycG9yYXRpb24uZW50cmllcy5zYWxlLmZvckVhY2goKHNhbGUsIGluZGV4KSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoc2FsZS5faWRDb2xlY3RvciAhPT0gX2lkKSB7XHJcblx0XHRcdFx0XHRcdHNhbGVzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Y2xpZW50cy5wdXNoKGNvcnBvcmF0aW9uKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAocHJvdmlkZXIpIHtcclxuXHRcdFx0XHRwcm92aWRlci5lbnRyaWVzLnNhbGUuZm9yRWFjaCgoc2FsZSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRcdGlmIChzYWxlLl9pZENvbGVjdG9yICE9PSBfaWQpIHtcclxuXHRcdFx0XHRcdFx0c2FsZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRjbGllbnRzLnB1c2gocHJvdmlkZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBjbGllbnRzO1xyXG5cdFx0fSxcclxuXHRcdGFzeW5jIGFsbERvY3VtZW50cyhyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0aWYgKHJlcykge1xyXG5cdFx0XHRcdHJldHVybiByZXMuZG9jdW1lbnRzO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRhc3luYyBhbGxEZXBhcnRtZW50cyhyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0aWYgKHJlcykge1xyXG5cdFx0XHRcdHJldHVybiByZXMuZGVwYXJ0bWVudHM7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGFzeW5jIGFsbFJlc2lkdWVzUmVnaXN0ZXIocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHR2YXIgcmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdGlmIChyZXMpIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLnJlc2lkdWVzUmVnaXN0ZXI7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGFzeW5jIGFsbFJlc2lkdWVBcnJpdmVkKHJvb3QsIHsgX2lkIH0pIHtcclxuXHRcdFx0dmFyIHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRpZiAocmVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5yZXNpZHVlc1BlcmZvcm1lZDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0YXN5bmMgYWxsU2NoZWR1bGluZ3Mocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHR2YXIgcmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdGlmIChyZXMpIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLnNjaGVkdWxpbmc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGFzeW5jIGFsbEVudHJpZXMocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHR2YXIgcmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdGlmIChyZXMpIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmVudHJpZXM7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGFzeW5jIGFsbFByb3ZpZGVyc0lkKHJvb3QsIHsgX2lkIH0pIHtcclxuXHRcdFx0dmFyIHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRpZiAocmVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5teVByb3ZpZGVycztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHRNdXRhdGlvbjoge1xyXG5cdFx0YXN5bmMgY3JlYXRlQ29sbGVjdG9yKHJvb3QsIHsgaW5wdXQgfSkge1xyXG5cdFx0XHR2YXIgcmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRPbmUoeyAndXNlcnMuZW1haWwnOiBpbnB1dC51c2Vyc1swXS5lbWFpbCB9KTtcclxuXHRcdFx0aWYgKHJlcykge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignV1JFMDA1Jyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIGF3YWl0IENvbGxlY3Rvci5jcmVhdGUoaW5wdXQpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0YXN5bmMgY3JlYXRlQ29sbGVjdG9yVW5pdChyb290LCB7IF9pZCwgdHlwZUNvcnBvcmF0aW9uLCBpbnB1dCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGlucHV0Lmxlbmd0aCA+IGk7IGkrKykge1xyXG5cdFx0XHRcdGZvciAodmFyIHggPSAwOyByZXMudW5pdHMubGVuZ3RoID4geDsgeCsrKSB7XHJcblx0XHRcdFx0XHRpZiAoaW5wdXRbaV0udXNlcnNbMF0uZW1haWwgPT09IHJlcy51bml0c1t4XS5lbWFpbCkge1xyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1dSRTAwNScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3Qgc2Vzc2lvbiA9IGF3YWl0IG1vbmdvb3NlLnN0YXJ0U2Vzc2lvbigpO1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHNlc3Npb24uc3RhcnRUcmFuc2FjdGlvbigpO1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpbnB1dC5sZW5ndGggPiBpOyBpKyspIHtcclxuXHRcdFx0XHRcdHZhciBpZCA9IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGF3YWl0IENvcnBvcmF0aW9uLmNyZWF0ZShpbnB1dFtpXSkudGhlbigoeCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZCA9IHguX2lkO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRhZGRJRChfaWQsIGlkLCB0eXBlQ29ycG9yYXRpb24pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YXdhaXQgc2Vzc2lvbi5jb21taXRUcmFuc2FjdGlvbigpO1xyXG5cdFx0XHRcdGF3YWl0IHNlc3Npb24uZW5kU2Vzc2lvbigpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdyZXNvbHZlZCcpO1xyXG5cdFx0XHRcdHJldHVybiBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmFib3J0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Fib3J0aW5nJyk7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0YXN5bmMgdXBkYXRlQ29sbGVjdG9yKHJvb3QsIHsgX2lkLCBpbnB1dCB9KSB7XHJcblx0XHRcdHJldHVybiBhd2FpdCBDb2xsZWN0b3IuZmluZE9uZUFuZFVwZGF0ZShcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRfaWRcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGlucHV0LFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdG5ldzogdHJ1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHRcdH0sXHJcblx0XHRhc3luYyBkZWxldGVDb2xsZWN0b3Iocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHQvLyByZXR1cm4gYXdhaXQgQ29sbGVjdG9yLmZpbmRPbmVBbmRSZW1vdmUoe1xyXG5cdFx0XHQvLyBcdF9pZFxyXG5cdFx0XHQvLyB9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0YXN5bmMgY3JlYXRlb3JVcGRhdGVEZXBhcnRtZW50KHJvb3QsIHsgX2lkLCBpbnB1dCB9KSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0cmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCwgZnVuY3Rpb24oZXJyLCBjb3JwKSB7XHJcblx0XHRcdFx0XHRpZiAoZXJyKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBuZXh0KG5ldyBFcnJvcignRVJFMDA5JykpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGlucHV0Lmxlbmd0aCA+IGk7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChpbnB1dFtpXS5faWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gY29ycC5kZXBhcnRtZW50cy5maW5kSW5kZXgoKHgpID0+IHguX2lkID09IGlucHV0W2ldLl9pZCk7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5kZXgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29ycC5kZXBhcnRtZW50c1tpbmRleF0gPSBpbnB1dFtpXTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIWNvcnAuZGVwYXJ0bWVudHMgfHwgY29ycC5kZXBhcnRtZW50cy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb3JwLmRlcGFydG1lbnRzID0gWyBpbnB1dFtpXSBdO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNvcnAuZGVwYXJ0bWVudHMgfHwgY29ycC5kZXBhcnRtZW50cy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb3JwLmRlcGFydG1lbnRzID0gWyBpbnB1dFtpXSBdO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29ycC5kZXBhcnRtZW50cy5wdXNoKGlucHV0W2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Y29ycC5zYXZlKCk7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0dmFyIHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdHJldHVybiByZXMuZGVwYXJ0bWVudHM7XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFUkUwMDknKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRhc3luYyBjcmVhdGVvclVwZGF0ZVJlc2lkdWVzUmVnaXN0ZXIocm9vdCwgeyBfaWQsIGlucHV0IH0pIHtcclxuXHRcdFx0Y29uc3Qgc2Vzc2lvbiA9IGF3YWl0IG1vbmdvb3NlLnN0YXJ0U2Vzc2lvbigpO1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHNlc3Npb24uc3RhcnRUcmFuc2FjdGlvbigpO1xyXG5cdFx0XHRcdHZhciByZXMgPSBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHR2YXIgcmV0dXJuRWxlbWVudDtcclxuXHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHQhcmVzLnJlc2lkdWVzUmVnaXN0ZXIgfHxcclxuXHRcdFx0XHRcdCFyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cyB8fFxyXG5cdFx0XHRcdFx0cmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMubGVuZ3RoIDw9IDBcclxuXHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdHZhciBlbGVtZW50U2F2ZWQ7XHJcblx0XHRcdFx0XHRyZXR1cm5FbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRDb2xsZWN0b3IuZmluZEJ5SWQoX2lkLCBmdW5jdGlvbihlcnIsIGNvcnApIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIWNvcnApIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlucHV0LmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCFyZXMucmVzaWR1ZXNSZWdpc3RlciB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCFyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cyB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmxlbmd0aCA8PSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlc1sncmVzaWR1ZXNSZWdpc3RlciddID0gbmV3IE9iamVjdCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBkZXBhcnQgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRfaWQ6IGRlcGFydG1lbnQuX2lkLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmFtZTogZGVwYXJ0bWVudC5uYW1lLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aXNDaGFuZ2VkOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBkZXBhcnRtZW50LmRlc2NyaXB0aW9uLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlOiBkZXBhcnRtZW50LmFjdGl2ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogW11cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlc1sncmVzaWR1ZXNSZWdpc3RlciddWydkZXBhcnRtZW50cyddID0gWyBkZXBhcnQgXTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgZGVwYXJ0ID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0X2lkOiBkZXBhcnRtZW50Ll9pZCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5hbWU6IGRlcGFydG1lbnQubmFtZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlzQ2hhbmdlZDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjogZGVwYXJ0bWVudC5kZXNjcmlwdGlvbixcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZTogZGVwYXJ0bWVudC5hY3RpdmUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFtdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgZXhpc3QgPSByZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5maW5kKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KHgpID0+IHgubmFtZSA9PT0gZGVwYXJ0Lm5hbWVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghZXhpc3QpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLnB1c2goZGVwYXJ0KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGlucHV0LmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVwYXJ0bWVudC5xckNvZGUuZm9yRWFjaCgocXJDb2RlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMuZm9yRWFjaCgoZGVwYXJ0bWVudERCKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoZGVwYXJ0bWVudC5uYW1lID09PSBkZXBhcnRtZW50REIubmFtZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXBhcnRtZW50REIucXJDb2RlLnB1c2gocXJDb2RlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRjb3JwLnJlc2lkdWVzUmVnaXN0ZXIgPSByZXMucmVzaWR1ZXNSZWdpc3RlcjtcclxuXHRcdFx0XHRcdFx0XHRcdGNvcnAudXBkYXRlKGNvcnApLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZShjb3JwKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvKiBnZXJhbmRvIGNoZWNrUG9pbnQgKi9cclxuXHRcdFx0XHRcdHZhciBjaGVja3BvaW50ID0gYXdhaXQgQ2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdHZhciBpc05ldyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHR2YXIgY2hlY2twb2luID0gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5mb3JFYWNoKChkZXBhcnRtZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0ZGVwYXJ0bWVudC5xckNvZGUuZm9yRWFjaCgocXJDb2RlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrcG9pbnQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBxckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQgPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRfaWRDb3Jwb3JhdGlvbjogX2lkLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdhc3RlZ2VuZXJhdGVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlzTmV3ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBxckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogcXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrcG9pbnQud2FzdGVnZW5lcmF0ZWQgfHwgY2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZC5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQgPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdF9pZENvcnBvcmF0aW9uOiBfaWQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3YXN0ZWdlbmVyYXRlZDogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQud2FzdGVnZW5lcmF0ZWQucXJDb2RlLnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNOZXcpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBhd2FpdCBDaGVja1BvaW50LmNyZWF0ZShjaGVja3BvaW50KTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRDaGVja1BvaW50LmZpbmRPbmUoZnVuY3Rpb24oZXJyLCBjaGVjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVjaykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2sgfHwgY2hlY2subGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjayA9IGNoZWNrO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLndhc3RlZ2VuZXJhdGVkID0gY2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvKkdlcmFuZG8gaGlzdG9yaWNvICovXHJcblx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHR2YXIgaXNOZXcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0dmFyIGhpc3RvcnkgPSBhd2FpdCBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRkZXBhcnRtZW50LnFyQ29kZS5mb3JFYWNoKChxckNvZGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghdHJhbnNhY3Rpb24pIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24gPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRfaWRDb3Jwb3JhdGlvbjogX2lkLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrUG9pbnRzOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdhc3RlZ2VuZXJhdGVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlzTmV3ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBxckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy53YXN0ZWdlbmVyYXRlZCA9PT0gdW5kZWZpbmVkIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMud2FzdGVnZW5lcmF0ZWQubGVuZ3RoIDw9IDBcclxuXHRcdFx0XHRcdFx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24gPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdF9pZENvcnBvcmF0aW9uOiBfaWQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja1BvaW50czogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdhc3RlZ2VuZXJhdGVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy53YXN0ZWdlbmVyYXRlZC5xckNvZGUucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdGlmIChpc05ldykge1xyXG5cdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGF3YWl0IFRyYW5zYWN0aW9uSGlzdG9yeS5jcmVhdGUodHJhbnNhY3Rpb24pO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKGZ1bmN0aW9uKGVyciwgdHJhbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghdHJhbnMpIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAodHJhbnMgPT09IHVuZGVmaW5lZCB8fCB0cmFucy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zID0gdHJhbnNhY3Rpb247XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMuY2hlY2tQb2ludHMud2FzdGVnZW5lcmF0ZWQgPSB0cmFuc2FjdGlvbi5jaGVja1BvaW50cy53YXN0ZWdlbmVyYXRlZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFucy51cGRhdGUodHJhbnMpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dmFyIHJlbW92ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGZvciAoaSA9IDA7IGlucHV0LmRlcGFydG1lbnRzLmxlbmd0aCA+IGk7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRpZiAoaW5wdXQuZGVwYXJ0bWVudHNbaV0uaXNDaGFuZ2VkKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGV4aXN0UmVtb3ZlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdC8qdmVyaWZpY2Egc2UgZXhpc3RlIG11ZGFuw6dhIGRlIGRlcGFydGFtZW50byBlIGV4Y2x1aSBvIGl0ZW0gcXVlIGVzdGEgc2Fsdm8gbm8gZGVwYXJ0YW1lbnRvIGFudGlnbyBwYXJhIGRlcG9pcyBpbnNlcmlyIG5vIG5vdm9cclxuXHRcdFx0XHRcdFx0U2UgcG9yIGFjYXNvIG8gdXN1w6FyaW8gbW9kaWZpY291LCBtYXMgdm9sdG91IGFvIGFudGlnbyBlbGUgYXBlbmFzIG7Do28gZXhjbHVpIGUgcmV0b3JuXHJcblx0XHRcdFx0XHRcdCovXHJcblx0XHRcdFx0XHRcdFx0Zm9yICh5ID0gMDsgeSA8IGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZS5sZW5ndGg7IHkrKykge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMuZm9yRWFjaCgoZGVwYXJ0bWVudCwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVwYXJ0bWVudC5xckNvZGUuZm9yRWFjaCgocXJDb2RlLCBpbmRleFFyQ29kZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5kZXBhcnRtZW50c1tpXS5faWQgIT09IGRlcGFydG1lbnQuX2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAocXJDb2RlLmNvZGUgPT09IGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZVt5XS5jb2RlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlcGFydG1lbnQucXJDb2RlLnNwbGljZShpbmRleFFyQ29kZSwgMSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly9zZSBuw6NvIHRlbSBtYWlzIHFyY29kZSByZW1vdmUgbyBkZXBhcnRhbWVudG9cclxuXHRcdFx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQsIGluZGV4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghZGVwYXJ0bWVudCB8fCAhZGVwYXJ0bWVudC5xckNvZGUgfHwgZGVwYXJ0bWVudC5xckNvZGUubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0aW5wdXQuZGVwYXJ0bWVudHNbaV0uaXNDaGFuZ2VkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0cmVtb3ZlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRhd2FpdCByZXMudXBkYXRlKHJlcykudGhlbihjb25zb2xlLmxvZygnb2sgcmVtb3ZlZCBmcm9tIG9sZCcpKTtcclxuXHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRcdGZvciAoaSA9IDA7IGlucHV0LmRlcGFydG1lbnRzLmxlbmd0aCA+IGk7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0dmFyIGV4aXN0ID0gYXdhaXQgcmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMuZmluZChcclxuXHRcdFx0XHRcdFx0XHQoeCkgPT4geC5faWQgPT0gaW5wdXQuZGVwYXJ0bWVudHNbaV0uX2lkXHJcblx0XHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoZXhpc3QgPT09IHVuZGVmaW5lZCB8fCBleGlzdC5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLnB1c2goaW5wdXQuZGVwYXJ0bWVudHNbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy51cGRhdGUocmVzKS50aGVuKGNvbnNvbGUubG9nKCdvayBwdXNoIGluIGRlcGFydG1lbnQnKSk7XHJcblx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gY2hlY2tQb2ludCAqL1xyXG5cdFx0XHRcdFx0XHRcdHZhciBjaGVja3BvaW50ID0gYXdhaXQgQ2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZWxlbWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVwYXJ0bWVudC5xckNvZGUuZm9yRWFjaCgocXJDb2RlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGlucHV0LmRlcGFydG1lbnRzW2ldLm5hbWUgPT09IGRlcGFydG1lbnQubmFtZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZC5xckNvZGUucHVzaChxckNvZGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCBjaGVjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLndhc3RlZ2VuZXJhdGVkID0gY2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gaGlzdMOzcmljbyBkZSBhbHRlcmHDp8O1ZXMgKi9cclxuXHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGhpc3RvcnkgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5mb3JFYWNoKChkZXBhcnRtZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGRlcGFydG1lbnQucXJDb2RlLmZvckVhY2goKHFyQ29kZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5kZXBhcnRtZW50c1tpXS5uYW1lID09PSBkZXBhcnRtZW50Lm5hbWUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBxckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCB0cmFucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLndhc3RlZ2VuZXJhdGVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucy51cGRhdGUodHJhbnMpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGZvciAocSA9IDA7IGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZS5sZW5ndGggPiBxOyBxKyspIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciBpc1VwZGF0ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZVtxXS5faWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMuZm9yRWFjaCgoZGVwYXJ0bWVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRlcGFydG1lbnQucXJDb2RlLmZvckVhY2goKHFyQ29kZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHFyQ29kZS5jb2RlID09IGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZVtxXS5jb2RlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZS5zZXQoaW5wdXQuZGVwYXJ0bWVudHNbaV0ucXJDb2RlW3FdKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aXNVcGRhdGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChpc1VwZGF0ZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCByZXMudXBkYXRlKHJlcykudGhlbihjb25zb2xlLmxvZygnb2sgc2V0IHFyIGNvZGVzJykpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlzVXBkYXRlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGNoZWNrUG9pbnQgKi9cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgY2hlY2twb2ludCA9IGF3YWl0IENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50Lndhc3RlZ2VuZXJhdGVkLnFyQ29kZS5mb3JFYWNoKChxckNvZGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHFyQ29kZS5jb2RlID09IGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZVtxXS5jb2RlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlLnNldChpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCBjaGVjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLndhc3RlZ2VuZXJhdGVkID0gY2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gaGlzdMOzcmljbyBkZSBhbHRlcmHDp8O1ZXMgKi9cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGhpc3RvcnkgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZVtxXS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogaW5wdXQuZGVwYXJ0bWVudHNbaV0ucXJDb2RlW3FdLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0VHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0sIGZ1bmN0aW9uKGVyciwgdHJhbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCF0cmFucykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucy5jaGVja1BvaW50cy53YXN0ZWdlbmVyYXRlZC5xckNvZGUucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMudXBkYXRlKHRyYW5zKS50aGVuKCh4KSA9PiB7fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5mb3JFYWNoKChkZXBhcnRtZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGlucHV0LmRlcGFydG1lbnRzW2ldLl9pZCA9PSBkZXBhcnRtZW50Ll9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVwYXJ0bWVudC5xckNvZGUucHVzaChpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy51cGRhdGUocmVzKS50aGVuKGNvbnNvbGUubG9nKCdvayBwdXNoIHRvIGV4aXN0IGRlcGFydG1lbnQnKSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0LyogZ2VyYW5kbyBjaGVja1BvaW50ICovXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBjaGVja3BvaW50ID0gYXdhaXQgQ2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGlzUHVzaGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBlbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQud2FzdGVnZW5lcmF0ZWQucXJDb2RlLmZvckVhY2goKHFyQ29kZSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghaXNQdXNoZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZC5xckNvZGUucHVzaChpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpc1B1c2hlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Q2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LCBmdW5jdGlvbihlcnIsIGNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sud2FzdGVnZW5lcmF0ZWQgPSBjaGVja3BvaW50Lndhc3RlZ2VuZXJhdGVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gaGlzdMOzcmljbyBkZSBhbHRlcmHDp8O1ZXMgKi9cclxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB0cmFuc2FjdGlvbiA9IGF3YWl0IFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGhpc3RvcnkgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZVtxXS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZVtxXS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0VHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0sIGZ1bmN0aW9uKGVyciwgdHJhbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghdHJhbnMpIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucy5jaGVja1BvaW50cy53YXN0ZWdlbmVyYXRlZC5xckNvZGUucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLnVwZGF0ZSh0cmFucykudGhlbigoeCkgPT4ge30pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGF3YWl0IHNlc3Npb24uY29tbWl0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygncmVzb2x2ZWQnKTtcclxuXHJcblx0XHRcdFx0dmFyIHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdHJldHVybiByZXMucmVzaWR1ZXNSZWdpc3RlcjtcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmFib3J0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Fib3J0aW5nJyk7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0YXN5bmMgY3JlYXRlb3JVcGRhdGVTY2hlZHVsaW5nKHJvb3QsIHsgX2lkLCBpbnB1dCB9KSB7XHJcblx0XHRcdGNvbnN0IHNlc3Npb24gPSBhd2FpdCBtb25nb29zZS5zdGFydFNlc3Npb24oKTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRzZXNzaW9uLnN0YXJ0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHR2YXIgcmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblxyXG5cdFx0XHRcdGlmICghcmVzLnNjaGVkdWxpbmcgfHwgcmVzLnNjaGVkdWxpbmcubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdHJldHVybkVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdENvbGxlY3Rvci5maW5kQnlJZChfaWQsIGZ1bmN0aW9uKGVyciwgY29ycCkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICghY29ycCkgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0aW5wdXQuZm9yRWFjaCgoc2NoZWR1bGluZykgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAocmVzLnNjaGVkdWxpbmcgPT09IHVuZGVmaW5lZCB8fCByZXMuc2NoZWR1bGluZy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlcy5zY2hlZHVsaW5nID0gWyBzY2hlZHVsaW5nIF07XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzLnNjaGVkdWxpbmcucHVzaChzY2hlZHVsaW5nKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRjb3JwLnNjaGVkdWxpbmcgPSByZXMuc2NoZWR1bGluZztcclxuXHRcdFx0XHRcdFx0XHRjb3JwLnVwZGF0ZShjb3JwKS50aGVuKCh4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKGNvcnApO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8qIGdlcmFuZG8gY2hlY2tQb2ludCAqL1xyXG5cdFx0XHRcdFx0dmFyIGNoZWNrcG9pbnQgPSBhd2FpdCBDaGVja1BvaW50LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0pO1xyXG5cdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHR2YXIgaXNOZXcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHZhciBjaGVja3BvaW4gPSBhd2FpdCBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdHJlcy5zY2hlZHVsaW5nLmZvckVhY2goKHNjaGVkdWxpbmcpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRzY2hlZHVsaW5nLnFyQ29kZS5mb3JFYWNoKChxckNvZGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2twb2ludCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludCA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25yZXF1ZXN0ZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBxckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2twb2ludC5jb2xsZWN0aW9ucmVxdWVzdGVkIHx8IGNoZWNrcG9pbnQuY29sbGVjdGlvbnJlcXVlc3RlZC5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQgPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25yZXF1ZXN0ZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50LmNvbGxlY3Rpb25yZXF1ZXN0ZWQucXJDb2RlLnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNOZXcpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBhd2FpdCBDaGVja1BvaW50LmNyZWF0ZShjaGVja3BvaW50KTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRDaGVja1BvaW50LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0sIGZ1bmN0aW9uKGVyciwgY2hlY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2spIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrIHx8IGNoZWNrLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sgPSBjaGVjaztcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay5jb2xsZWN0aW9ucmVxdWVzdGVkID0gY2hlY2twb2ludC5jb2xsZWN0aW9ucmVxdWVzdGVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLnVwZGF0ZShjaGVjaykudGhlbigoeCkgPT4ge30pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8qR2VyYW5kbyBoaXN0b3JpY28gKi9cclxuXHRcdFx0XHRcdHZhciB0cmFuc2FjdGlvbiA9IGF3YWl0IFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0dmFyIGlzTmV3ID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2YXIgaGlzdG9yeSA9IGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0cmVzLnNjaGVkdWxpbmcuZm9yRWFjaCgoc2NoZWR1bGluZykgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHNjaGVkdWxpbmcucXJDb2RlLmZvckVhY2goKHFyQ29kZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCF0cmFuc2FjdGlvbikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBxckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogcXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbiA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrUG9pbnRzOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25yZXF1ZXN0ZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCF0cmFuc2FjdGlvbi5jaGVja1BvaW50cyB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCF0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucmVxdWVzdGVkIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnJlcXVlc3RlZC5sZW5ndGggPD0gMFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbiA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tQb2ludHM6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9ucmVxdWVzdGVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucmVxdWVzdGVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0aWYgKGlzTmV3KSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gYXdhaXQgVHJhbnNhY3Rpb25IaXN0b3J5LmNyZWF0ZSh0cmFuc2FjdGlvbik7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0VHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0sIGZ1bmN0aW9uKGVyciwgdHJhbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghdHJhbnMpIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zIHx8IHRyYW5zLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMgPSB0cmFuc2FjdGlvbjtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucy5jaGVja1BvaW50cy5jb2xsZWN0aW9ucmVxdWVzdGVkID1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25yZXF1ZXN0ZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMudXBkYXRlKHRyYW5zKS50aGVuKCh4KSA9PiB7fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpbnB1dC5sZW5ndGggPiBpOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0dmFyIGV4aXN0ID0gYXdhaXQgcmVzLnNjaGVkdWxpbmcuZmluZCgoeCkgPT4geC5faWQgPT0gaW5wdXRbaV0uX2lkKTtcclxuXHJcblx0XHRcdFx0XHRcdGlmICghZXhpc3QgfHwgZXhpc3QubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRyZXMuc2NoZWR1bGluZy5wdXNoKGlucHV0W2ldKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCByZXMudXBkYXRlKHJlcykudGhlbihjb25zb2xlLmxvZygnb2sgcHVzaCBzY2hlZHVsaW5nJykpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGV4aXN0LnNldChpbnB1dFtpXSk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgcmVzLnVwZGF0ZShyZXMpLnRoZW4oY29uc29sZS5sb2coJ29rIHNldCBzY2hlZHVsaW5nJykpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0LyogZ2VyYW5kbyBjaGVja1BvaW50ICovXHJcblx0XHRcdFx0XHRcdHZhciBjaGVja3BvaW50ID0gYXdhaXQgQ2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgeCA9IDA7IGlucHV0W2ldLnFyQ29kZS5sZW5ndGggPiB4OyB4KyspIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciBleGlzdFFyID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0Zm9yICh5ID0gMDsgeSA8IGNoZWNrcG9pbnQuY29sbGVjdGlvbnJlcXVlc3RlZC5xckNvZGUubGVuZ3RoOyB5KyspIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNoZWNrcG9pbnQuY29sbGVjdGlvbnJlcXVlc3RlZC5xckNvZGVbeV0uY29kZSA9PT0gaW5wdXRbaV0ucXJDb2RlW3hdLmNvZGUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRleGlzdFFyID0gY2hlY2twb2ludC5jb2xsZWN0aW9ucmVxdWVzdGVkLnFyQ29kZVt5XTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGV4aXN0UXIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZXhpc3RRci5zZXQoaW5wdXRbaV0ucXJDb2RlW3hdKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQuY29sbGVjdGlvbnJlcXVlc3RlZC5xckNvZGUucHVzaChpbnB1dFtpXS5xckNvZGVbeF0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0Q2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LCBmdW5jdGlvbihlcnIsIGNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2suY29sbGVjdGlvbnJlcXVlc3RlZCA9IGNoZWNrcG9pbnQuY29sbGVjdGlvbnJlcXVlc3RlZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sudXBkYXRlKGNoZWNrKS50aGVuKCh4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGhpc3TDs3JpY28gZGUgYWx0ZXJhw6fDtWVzICovXHJcblx0XHRcdFx0XHRcdHZhciB0cmFuc2FjdGlvbiA9IGF3YWl0IFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgeCA9IDA7IGlucHV0W2ldLnFyQ29kZS5sZW5ndGggPiB4OyB4KyspIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25yZXF1ZXN0ZWQucXJDb2RlLnB1c2goaW5wdXRbaV0ucXJDb2RlW3hdKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LCBmdW5jdGlvbihlcnIsIHRyYW5zKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMuY2hlY2tQb2ludHMuY29sbGVjdGlvbnJlcXVlc3RlZCA9IHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25yZXF1ZXN0ZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLnVwZGF0ZSh0cmFucykudGhlbigoeCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGF3YWl0IHNlc3Npb24uY29tbWl0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygncmVzb2x2ZWQnKTtcclxuXHJcblx0XHRcdFx0dmFyIHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdHJldHVybiByZXMuc2NoZWR1bGluZztcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmFib3J0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Fib3J0aW5nJyk7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0YXN5bmMgY3JlYXRlb3JVcGRhdGVFbnRyaWVzKHJvb3QsIHsgX2lkLCBpbnB1dCB9KSB7XHJcblx0XHRcdGNvbnN0IHNlc3Npb24gPSBhd2FpdCBtb25nb29zZS5zdGFydFNlc3Npb24oKTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRzZXNzaW9uLnN0YXJ0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHR2YXIgcmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0aWYgKHJlcy5lbnRyaWVzID09PSB1bmRlZmluZWQgfHwgcmVzLmVudHJpZXMgPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdHJldHVybkVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdENvbGxlY3Rvci5maW5kQnlJZChfaWQsIGZ1bmN0aW9uKGVyciwgY29ycCkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICghY29ycCkgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHJlcy5lbnRyaWVzID09PSB1bmRlZmluZWQgfHwgcmVzLmVudHJpZXMgPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzLmVudHJpZXMgPSBpbnB1dDtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJlcy5lbnRyaWVzID0gaW5wdXQ7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRjb3JwLmVudHJpZXMgPSByZXMuZW50cmllcztcclxuXHRcdFx0XHRcdFx0XHRjb3JwLnVwZGF0ZShjb3JwKS50aGVuKCh4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKGNvcnApO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0LyogZ2VyYW5kbyBjaGVja1BvaW50ICovXHJcblx0XHRcdFx0XHR2YXIgY2hlY2twb2ludCA9IGF3YWl0IENoZWNrUG9pbnQuZmluZCh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdHZhciBpc05ldyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0dmFyIGNoZWNrcG9pbiA9IGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHJlcy5lbnRyaWVzLnNhbGUgJiYgcmVzLmVudHJpZXMuc2FsZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzLmVudHJpZXMuc2FsZS5mb3JFYWNoKChzYWxlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrcG9pbnQgfHwgY2hlY2twb2ludC5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogc2FsZS5xckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogc2FsZS5xckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludCA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25wZXJmb3JtZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHNhbGUucXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHNhbGUucXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZCB8fCBjaGVja3BvaW50LmNvbGxlY3Rpb25wZXJmb3JtZWQubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50ID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9ucGVyZm9ybWVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHJlcy5lbnRyaWVzLnB1cmNoYXNlICYmIHJlcy5lbnRyaWVzLnB1cmNoYXNlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRyZXMuZW50cmllcy5wdXJjaGFzZS5mb3JFYWNoKChwdXJjaGFzZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVja3BvaW50IHx8IGNoZWNrcG9pbnQubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHB1cmNoYXNlLnFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBwdXJjaGFzZS5xckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQgPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9ucGVyZm9ybWVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlzTmV3ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBwdXJjaGFzZS5xckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogcHVyY2hhc2UucXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZCB8fCBjaGVja3BvaW50LmNvbGxlY3Rpb25wZXJmb3JtZWQubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50ID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9ucGVyZm9ybWVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChpc05ldykge1xyXG5cdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGF3YWl0IENoZWNrUG9pbnQuY3JlYXRlKGNoZWNrcG9pbnQpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCBjaGVjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrIHx8IGNoZWNrLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sgPSBjaGVja3BvaW50O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLmNvbGxlY3Rpb25wZXJmb3JtZWQgPSBjaGVja3BvaW50LmNvbGxlY3Rpb25wZXJmb3JtZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sudXBkYXRlKGNoZWNrKS50aGVuKCh4KSA9PiB7fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0LyogZ2VyYW5kbyBoaXN0w7NyaWNvIGRlIGFsdGVyYcOnw7VlcyAqL1xyXG5cdFx0XHRcdFx0dmFyIHRyYW5zYWN0aW9uID0gYXdhaXQgVHJhbnNhY3Rpb25IaXN0b3J5LmZpbmQoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0pO1xyXG5cdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHR2YXIgaXNOZXcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHZhciBoaXN0b3J5ID0gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAocmVzLmVudHJpZXMuc2FsZSAmJiByZXMuZW50cmllcy5zYWxlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRyZXMuZW50cmllcy5zYWxlLmZvckVhY2goKHNhbGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICh0cmFuc2FjdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHRyYW5zYWN0aW9uID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHNhbGUucXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHNhbGUucXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbiA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrUG9pbnRzOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25wZXJmb3JtZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogc2FsZS5xckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogc2FsZS5xckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQhdHJhbnNhY3Rpb24uY2hlY2tQb2ludHMgfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQhdHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZCB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQubGVuZ3RoIDw9IDBcclxuXHRcdFx0XHRcdFx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24gPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrUG9pbnRzOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29sbGVjdGlvbnBlcmZvcm1lZDogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGUucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChyZXMuZW50cmllcy5wdXJjaGFzZSAmJiByZXMuZW50cmllcy5wdXJjaGFzZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzLmVudHJpZXMucHVyY2hhc2UuZm9yRWFjaCgocHVyY2hhc2UpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICh0cmFuc2FjdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHRyYW5zYWN0aW9uID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHB1cmNoYXNlLnFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBwdXJjaGFzZS5xckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tQb2ludHM6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29sbGVjdGlvbnBlcmZvcm1lZDogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpc05ldyA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBwdXJjaGFzZS5xckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogcHVyY2hhc2UucXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0IXRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0IXRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQgfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkLmxlbmd0aCA8PSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja1BvaW50czogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25wZXJmb3JtZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQucXJDb2RlLnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKGlzTmV3KSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gYXdhaXQgVHJhbnNhY3Rpb25IaXN0b3J5LmNyZWF0ZSh0cmFuc2FjdGlvbik7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0VHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0sIGZ1bmN0aW9uKGVyciwgdHJhbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghdHJhbnMpIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAodHJhbnMgPT09IHVuZGVmaW5lZCB8fCB0cmFucyA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zID0gdHJhbnNhY3Rpb247XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMuY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZCA9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLnVwZGF0ZSh0cmFucykudGhlbigoeCkgPT4ge30pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAoaW5wdXQuc2FsZSAhPT0gdW5kZWZpbmVkIHx8IGlucHV0LnNhbGUubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgaW5wdXQuc2FsZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBleGlzdCA9IGF3YWl0IHJlcy5lbnRyaWVzLnNhbGUuZmluZCgoeCkgPT4geC5faWQgPT0gaW5wdXQuc2FsZVtpXS5faWQpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChleGlzdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZXhpc3Quc2V0KGlucHV0LnNhbGVbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgcmVzLnVwZGF0ZShyZXMpLnRoZW4oY29uc29sZS5sb2coJ29rIHNldCBlbnRyaWVzIHNhbGUnKSk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy5lbnRyaWVzLnNhbGUucHVzaChpbnB1dC5zYWxlW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy51cGRhdGUocmVzKS50aGVuKGNvbnNvbGUubG9nKCdvayBwdXNoIGVudHJpZXMgc2FsZScpKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gY2hlY2tQb2ludCAqL1xyXG5cdFx0XHRcdFx0XHRcdHZhciBjaGVja3BvaW50ID0gYXdhaXQgQ2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZWxlbWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5zYWxlICE9PSB1bmRlZmluZWQgJiYgaW5wdXQuc2FsZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBleGlzdFFyID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IgKHkgPSAwOyB5IDwgY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5sZW5ndGg7IHkrKykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGVbeV0uY29kZSA9PT0gaW5wdXQuc2FsZVtpXS5xckNvZGUuY29kZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXhpc3RRciA9IGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGVbeV07XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChleGlzdFFyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZXhpc3RRci5zZXQoaW5wdXQuc2FsZVtpXS5xckNvZGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGUucHVzaChpbnB1dC5zYWxlW2ldLnFyQ29kZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCBjaGVjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLmNvbGxlY3Rpb25wZXJmb3JtZWQgPSBjaGVja3BvaW50LmNvbGxlY3Rpb25wZXJmb3JtZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sudXBkYXRlKGNoZWNrKS50aGVuKCh4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGhpc3TDs3JpY28gZGUgYWx0ZXJhw6fDtWVzICovXHJcblx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHRyYW5zYWN0aW9uID0gYXdhaXQgVHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0pO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBlbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGlucHV0LnNhbGUgIT09IHVuZGVmaW5lZCAmJiBpbnB1dC5zYWxlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGUucHVzaChpbnB1dC5zYWxlW2ldLnFyQ29kZSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCB0cmFucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQgPVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucy51cGRhdGUodHJhbnMpLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaW5wdXQucHVyY2hhc2UgIT09IHVuZGVmaW5lZCB8fCBpbnB1dC5wdXJjaGFzZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBpbnB1dC5wdXJjaGFzZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBleGlzdCA9IGF3YWl0IHJlcy5lbnRyaWVzLnB1cmNoYXNlLmZpbmQoKHgpID0+IHguX2lkID09IGlucHV0LnB1cmNoYXNlW2ldLl9pZCk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGV4aXN0KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRleGlzdC5zZXQoaW5wdXQucHVyY2hhc2VbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgcmVzLnVwZGF0ZShyZXMpLnRoZW4oY29uc29sZS5sb2coJ29rIHNldCBlbnRyaWVzIHB1cmNoYXNlJykpO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCByZXMuZW50cmllcy5wdXJjaGFzZS5wdXNoKGlucHV0LnB1cmNoYXNlW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy51cGRhdGUocmVzKS50aGVuKGNvbnNvbGUubG9nKCdvayBwdXNoIGVudHJpZXMgcHVyY2hhc2UnKSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGNoZWNrUG9pbnQgKi9cclxuXHRcdFx0XHRcdFx0XHR2YXIgY2hlY2twb2ludCA9IGF3YWl0IENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5wdXQucHVyY2hhc2UgIT09IHVuZGVmaW5lZCAmJiBpbnB1dC5wdXJjaGFzZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBleGlzdFFyID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IgKHkgPSAwOyB5IDwgY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5sZW5ndGg7IHkrKykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGVbeV0uY29kZSA9PT1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlucHV0LnB1cmNoYXNlW2ldLnFyQ29kZS5jb2RlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRleGlzdFFyID0gY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZVt5XTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGV4aXN0UXIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRleGlzdFFyLnNldChpbnB1dC5wdXJjaGFzZVtpXS5xckNvZGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGUucHVzaChpbnB1dC5wdXJjaGFzZVtpXS5xckNvZGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0Q2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LCBmdW5jdGlvbihlcnIsIGNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2spIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2suY29sbGVjdGlvbnBlcmZvcm1lZCA9IGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gaGlzdMOzcmljbyBkZSBhbHRlcmHDp8O1ZXMgKi9cclxuXHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSgpO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBlbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGlucHV0LnB1cmNoYXNlICE9PSB1bmRlZmluZWQgJiYgaW5wdXQucHVyY2hhc2UubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5wdXNoKGlucHV0LnB1cmNoYXNlW2ldLnFyQ29kZSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0VHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0sIGZ1bmN0aW9uKGVyciwgdHJhbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCF0cmFucykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucy5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkID1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMudXBkYXRlKHRyYW5zKS50aGVuKCh4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGF3YWl0IHNlc3Npb24uY29tbWl0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygncmVzb2x2ZWQnKTtcclxuXHJcblx0XHRcdFx0dmFyIHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdHJldHVybiByZXMuZW50cmllcztcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmFib3J0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Fib3J0aW5nJyk7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRhc3luYyBjcmVhdGVvclVwZGF0ZVJlc2lkdWVBcnJpdmVkKHJvb3QsIHsgX2lkLCBpbnB1dCB9KSB7fSxcclxuXHRcdGFzeW5jIGNyZWF0ZW9yVXBkYXRlRG9jdW1lbnQocm9vdCwgeyBfaWQsIGlucHV0IH0pIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHR2YXIgZWxlbWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdHZhciByZXMgPSBDb2xsZWN0b3IuZmluZEJ5SWQoX2lkLCBmdW5jdGlvbihlcnIsIGNvcnApIHtcclxuXHRcdFx0XHRcdFx0aWYgKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdHJlamVjdChuZXh0KG5ldyBFcnJvcignRVJFMDA5JykpKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaW5wdXQubGVuZ3RoID4gaTsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5wdXRbaV0uX2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gY29ycC5kb2N1bWVudHMuZmluZEluZGV4KCh4KSA9PiB4Ll9pZCA9PSBpbnB1dFtpXS5faWQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb3JwLmRvY3VtZW50c1tpbmRleF0gPSBpbnB1dFtpXTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvcnAuZG9jdW1lbnRzLnB1c2goaW5wdXRbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRjb3JwLnNhdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKGNvcnApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0dmFyIHJlcyA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdHJldHVybiByZXMuZG9jdW1lbnRzO1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5hc3luYyBmdW5jdGlvbiBhZGRJRChfaWQsIGlkLCB0eXBlQ29ycG9yYXRpb24pIHtcclxuXHR2YXIgb2JqZWN0ID0ge1xyXG5cdFx0dW5pdHNJZDogaWRcclxuXHR9O1xyXG5cdGlmICh0eXBlQ29ycG9yYXRpb24gPT09IENsYXNzaWZpY2F0aW9uLkNvbGxlY3Rvcikge1xyXG5cdFx0dmFyIGNvbGxlY3RvciA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0aWYgKGNvbGxlY3Rvci51bml0cyA9PT0gdW5kZWZpbmVkIHx8IGNvbGxlY3Rvci51bml0cy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRjb2xsZWN0b3JbJ3VuaXRzJ10gPSBbIG9iamVjdCBdO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29sbGVjdG9yLnVuaXRzLnB1c2gob2JqZWN0KTtcclxuXHRcdH1cclxuXHRcdENvbGxlY3Rvci5maW5kT25lKF9pZCwgZnVuY3Rpb24oZXJyLCBjb2xsKSB7XHJcblx0XHRcdGlmICghY29sbCkgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRjb2xsLnVuaXRzID0gY29sbGVjdG9yLnVuaXRzO1xyXG5cdFx0XHRcdGNvbGwudXBkYXRlKGNvbGwpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSBlbHNlIGlmICh0eXBlQ29ycG9yYXRpb24gPT09IENsYXNzaWZpY2F0aW9uLlByb3ZpZGVyKSB7XHJcblx0XHR2YXIgcHJvdmlkZXIgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0aWYgKHByb3ZpZGVyLnVuaXRzID09PSB1bmRlZmluZWQgfHwgcHJvdmlkZXIudW5pdHMubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0cHJvdmlkZXJbJ3VuaXRzJ10gPSBbIG9iamVjdCBdO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cHJvdmlkZXIudW5pdHMucHVzaChvYmplY3QpO1xyXG5cdFx0fVxyXG5cdFx0UHJvdmlkZXIuZmluZE9uZShfaWQsIGZ1bmN0aW9uKGVyciwgcHJvdikge1xyXG5cdFx0XHRpZiAoIXByb3YpIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0cHJvdi51bml0cyA9IHByb3ZpZGVyLnVuaXRzO1xyXG5cdFx0XHRcdHByb3YudXBkYXRlKHByb3YpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHZhciBjb3Jwb3JhdGlvbiA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRpZiAoY29ycG9yYXRpb24udW5pdHMgPT09IHVuZGVmaW5lZCB8fCBjb3Jwb3JhdGlvbi51bml0cy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRjb3Jwb3JhdGlvblsndW5pdHMnXSA9IFsgb2JqZWN0IF07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb3Jwb3JhdGlvbi51bml0cy5wdXNoKG9iamVjdCk7XHJcblx0XHR9XHJcblx0XHRhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQsIGZ1bmN0aW9uKGVyciwgY29ycCkge1xyXG5cdFx0XHRpZiAoIWNvcnApIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Y29ycC51bml0cyA9IGNvcnBvcmF0aW9uLnVuaXRzO1xyXG5cdFx0XHRcdGNvcnAudXBkYXRlKGNvcnApLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "collector.js"
      ],
      "names": [
        "Collector",
        "require",
        "Corporation",
        "Provider",
        "CheckPoint",
        "TransactionHistory",
        "mongoose",
        "Classification",
        "module",
        "exports",
        "collector",
        "Query",
        "getCollector",
        "root",
        "_id",
        "findById",
        "getCollectorByUser",
        "res",
        "findOne",
        "allCollectors",
        "find",
        "allUnits",
        "unit",
        "units",
        "i",
        "length",
        "undefined",
        "push",
        "allClientsToCollector",
        "clients",
        "corporation",
        "provider",
        "entries",
        "sale",
        "forEach",
        "index",
        "_idColector",
        "sales",
        "splice",
        "allDocuments",
        "documents",
        "allDepartments",
        "departments",
        "allResiduesRegister",
        "residuesRegister",
        "allResidueArrived",
        "residuesPerformed",
        "allSchedulings",
        "scheduling",
        "allEntries",
        "allProvidersId",
        "myProviders",
        "Mutation",
        "createCollector",
        "input",
        "users",
        "email",
        "Error",
        "create",
        "createCollectorUnit",
        "typeCorporation",
        "x",
        "session",
        "startSession",
        "startTransaction",
        "id",
        "returned",
        "then",
        "addID",
        "commitTransaction",
        "endSession",
        "console",
        "log",
        "error",
        "abortTransaction",
        "updateCollector",
        "findOneAndUpdate",
        "new",
        "deleteCollector",
        "createorUpdateDepartment",
        "err",
        "corp",
        "next",
        "findIndex",
        "save",
        "createorUpdateResiduesRegister",
        "returnElement",
        "elementSaved",
        "Promise",
        "resolve",
        "reject",
        "department",
        "Object",
        "depart",
        "name",
        "isChanged",
        "description",
        "active",
        "qrCode",
        "exist",
        "departmentDB",
        "update",
        "checkpoint",
        "_idCorporation",
        "isNew",
        "checkpoin",
        "value",
        "code",
        "material",
        "wastegenerated",
        "check",
        "transaction",
        "history",
        "date",
        "Date",
        "checkPoints",
        "trans",
        "removed",
        "existRemoved",
        "y",
        "indexQrCode",
        "element",
        "q",
        "isUpdated",
        "set",
        "isPushed",
        "createorUpdateScheduling",
        "collectionrequested",
        "existQr",
        "createorUpdateEntries",
        "collectionperformed",
        "purchase",
        "createorUpdateResidueArrived",
        "createorUpdateDocument",
        "object",
        "unitsId",
        "coll",
        "prov"
      ],
      "mappings": "AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,iCAAD,CAAvB;;AACA,IAAIC,WAAW,GAAGD,OAAO,CAAC,mCAAD,CAAzB;;AACA,IAAIE,QAAQ,GAAGF,OAAO,CAAC,gCAAD,CAAtB;;AACA,IAAIG,UAAU,GAAGH,OAAO,CAAC,kCAAD,CAAxB;;AACA,IAAII,kBAAkB,GAAGJ,OAAO,CAAC,0CAAD,CAAhC;;AACAK,QAAQ,GAAGL,OAAO,CAAC,UAAD,CAAlB;AAEA,IAAIM,cAAc,GAAG;AACpBJ,EAAAA,QAAQ,EAAE,YADU;AAEpBH,EAAAA,SAAS,EAAE;AAFS,CAArB;AAKAQ,MAAM,CAACC,OAAP,GAAiBC,SAAS,GAAG;AAC5BC,EAAAA,KAAK,EAAE;AACN,UAAMC,YAAN,CAAmBC,IAAnB,EAAyB;AAAEC,MAAAA;AAAF,KAAzB,EAAkC;AACjC,aAAO,MAAMd,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAb;AACA,KAHK;;AAIN,UAAME,kBAAN,CAAyBH,IAAzB,EAA+B;AAAEC,MAAAA;AAAF,KAA/B,EAAwC;AACvC,UAAIG,GAAG,GAAG,MAAMjB,SAAS,CAACkB,OAAV,CAAkB;AAAE,qBAAaJ;AAAf,OAAlB,CAAhB;;AACA,UAAI,CAACG,GAAL,EAAU;AACT,eAAO,IAAP;AACA,OAFD,MAEO;AACN,eAAOA,GAAP;AACA;AACD,KAXK;;AAYN,UAAME,aAAN,CAAoBN,IAApB,EAA0B;AAAEC,MAAAA;AAAF,KAA1B,EAAmC;AAClC,aAAO,MAAMd,SAAS,CAACoB,IAAV,EAAb;AACA,KAdK;;AAeN,UAAMC,QAAN,CAAeR,IAAf,EAAqB;AAAEC,MAAAA;AAAF,KAArB,EAA8B;AAC7B,UAAIG,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;;AACA,UAAIG,GAAJ,EAAS;AACR,YAAIK,IAAJ;AACA,YAAIC,KAAK,GAAG,EAAZ;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBP,GAAG,CAACM,KAAJ,CAAUE,MAAV,GAAmBD,CAAnC,EAAsCA,CAAC,EAAvC,EAA2C;AAC1CF,UAAAA,IAAI,GAAGI,SAAP;AACAJ,UAAAA,IAAI,GAAG,MAAMtB,SAAS,CAACe,QAAV,CAAmBE,GAAG,CAACM,KAAJ,CAAUC,CAAV,EAAaV,GAAhC,CAAb;;AACA,cAAI,CAACQ,IAAL,EAAW;AACVA,YAAAA,IAAI,GAAG,MAAMpB,WAAW,CAACa,QAAZ,CAAqBE,GAAG,CAACM,KAAJ,CAAUC,CAAV,EAAaV,GAAlC,CAAb;AACA;;AACD,cAAI,CAACQ,IAAL,EAAW;AACVA,YAAAA,IAAI,GAAG,MAAMnB,QAAQ,CAACY,QAAT,CAAkBE,GAAG,CAACM,KAAJ,CAAUC,CAAV,EAAaV,GAA/B,CAAb;AACA;;AAEDS,UAAAA,KAAK,CAACI,IAAN,CAAWL,IAAX;AACA;;AACD,eAAOC,KAAP;AACA,OAhBD,MAgBO;AACN,eAAOG,SAAP;AACA;AACD,KApCK;;AAqCN,UAAME,qBAAN,CAA4Bf,IAA5B,EAAkC;AAAEC,MAAAA;AAAF,KAAlC,EAA2C;AAC1C,UAAIe,OAAO,GAAG,EAAd;AACA,UAAIC,WAAW,GAAG,MAAM5B,WAAW,CAACgB,OAAZ,CAAoB;AAAE,oCAA4BJ;AAA9B,OAApB,CAAxB;AACA,UAAIiB,QAAQ,GAAG,MAAM5B,QAAQ,CAACe,OAAT,CAAiB;AAAE,oCAA4BJ;AAA9B,OAAjB,CAArB;;AACA,UAAIgB,WAAJ,EAAiB;AAChBA,QAAAA,WAAW,CAACE,OAAZ,CAAoBC,IAApB,CAAyBC,OAAzB,CAAiC,CAACD,IAAD,EAAOE,KAAP,KAAiB;AACjD,cAAIF,IAAI,CAACG,WAAL,KAAqBtB,GAAzB,EAA8B;AAC7BuB,YAAAA,KAAK,CAACC,MAAN,CAAaH,KAAb,EAAoB,CAApB;AACA;AACD,SAJD;AAKAN,QAAAA,OAAO,CAACF,IAAR,CAAaG,WAAb;AACA;;AACD,UAAIC,QAAJ,EAAc;AACbA,QAAAA,QAAQ,CAACC,OAAT,CAAiBC,IAAjB,CAAsBC,OAAtB,CAA8B,CAACD,IAAD,EAAOE,KAAP,KAAiB;AAC9C,cAAIF,IAAI,CAACG,WAAL,KAAqBtB,GAAzB,EAA8B;AAC7BuB,YAAAA,KAAK,CAACC,MAAN,CAAaH,KAAb,EAAoB,CAApB;AACA;AACD,SAJD;AAKAN,QAAAA,OAAO,CAACF,IAAR,CAAaI,QAAb;AACA;;AACD,aAAOF,OAAP;AACA,KA1DK;;AA2DN,UAAMU,YAAN,CAAmB1B,IAAnB,EAAyB;AAAEC,MAAAA;AAAF,KAAzB,EAAkC;AACjC,UAAIG,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;;AACA,UAAIG,GAAJ,EAAS;AACR,eAAOA,GAAG,CAACuB,SAAX;AACA,OAFD,MAEO;AACN,eAAOd,SAAP;AACA;AACD,KAlEK;;AAmEN,UAAMe,cAAN,CAAqB5B,IAArB,EAA2B;AAAEC,MAAAA;AAAF,KAA3B,EAAoC;AACnC,UAAIG,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;;AACA,UAAIG,GAAJ,EAAS;AACR,eAAOA,GAAG,CAACyB,WAAX;AACA,OAFD,MAEO;AACN,eAAOhB,SAAP;AACA;AACD,KA1EK;;AA2EN,UAAMiB,mBAAN,CAA0B9B,IAA1B,EAAgC;AAAEC,MAAAA;AAAF,KAAhC,EAAyC;AACxC,UAAIG,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;;AACA,UAAIG,GAAJ,EAAS;AACR,eAAOA,GAAG,CAAC2B,gBAAX;AACA,OAFD,MAEO;AACN,eAAOlB,SAAP;AACA;AACD,KAlFK;;AAmFN,UAAMmB,iBAAN,CAAwBhC,IAAxB,EAA8B;AAAEC,MAAAA;AAAF,KAA9B,EAAuC;AACtC,UAAIG,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;;AACA,UAAIG,GAAJ,EAAS;AACR,eAAOA,GAAG,CAAC6B,iBAAX;AACA,OAFD,MAEO;AACN,eAAOpB,SAAP;AACA;AACD,KA1FK;;AA2FN,UAAMqB,cAAN,CAAqBlC,IAArB,EAA2B;AAAEC,MAAAA;AAAF,KAA3B,EAAoC;AACnC,UAAIG,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;;AACA,UAAIG,GAAJ,EAAS;AACR,eAAOA,GAAG,CAAC+B,UAAX;AACA,OAFD,MAEO;AACN,eAAOtB,SAAP;AACA;AACD,KAlGK;;AAmGN,UAAMuB,UAAN,CAAiBpC,IAAjB,EAAuB;AAAEC,MAAAA;AAAF,KAAvB,EAAgC;AAC/B,UAAIG,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;;AACA,UAAIG,GAAJ,EAAS;AACR,eAAOA,GAAG,CAACe,OAAX;AACA,OAFD,MAEO;AACN,eAAON,SAAP;AACA;AACD,KA1GK;;AA2GN,UAAMwB,cAAN,CAAqBrC,IAArB,EAA2B;AAAEC,MAAAA;AAAF,KAA3B,EAAoC;AACnC,UAAIG,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;;AACA,UAAIG,GAAJ,EAAS;AACR,eAAOA,GAAG,CAACkC,WAAX;AACA,OAFD,MAEO;AACN,eAAOzB,SAAP;AACA;AACD;;AAlHK,GADqB;AAqH5B0B,EAAAA,QAAQ,EAAE;AACT,UAAMC,eAAN,CAAsBxC,IAAtB,EAA4B;AAAEyC,MAAAA;AAAF,KAA5B,EAAuC;AACtC,UAAIrC,GAAG,GAAG,MAAMjB,SAAS,CAACkB,OAAV,CAAkB;AAAE,uBAAeoC,KAAK,CAACC,KAAN,CAAY,CAAZ,EAAeC;AAAhC,OAAlB,CAAhB;;AACA,UAAIvC,GAAJ,EAAS;AACR,cAAM,IAAIwC,KAAJ,CAAU,QAAV,CAAN;AACA,OAFD,MAEO;AACN,eAAO,MAAMzD,SAAS,CAAC0D,MAAV,CAAiBJ,KAAjB,CAAb;AACA;AACD,KARQ;;AAST,UAAMK,mBAAN,CAA0B9C,IAA1B,EAAgC;AAAEC,MAAAA,GAAF;AAAO8C,MAAAA,eAAP;AAAwBN,MAAAA;AAAxB,KAAhC,EAAiE;AAChE,UAAIrC,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;;AACA,WAAK,IAAIU,CAAC,GAAG,CAAb,EAAgB8B,KAAK,CAAC7B,MAAN,GAAeD,CAA/B,EAAkCA,CAAC,EAAnC,EAAuC;AACtC,aAAK,IAAIqC,CAAC,GAAG,CAAb,EAAgB5C,GAAG,CAACM,KAAJ,CAAUE,MAAV,GAAmBoC,CAAnC,EAAsCA,CAAC,EAAvC,EAA2C;AAC1C,cAAIP,KAAK,CAAC9B,CAAD,CAAL,CAAS+B,KAAT,CAAe,CAAf,EAAkBC,KAAlB,KAA4BvC,GAAG,CAACM,KAAJ,CAAUsC,CAAV,EAAaL,KAA7C,EAAoD;AACnD,kBAAM,IAAIC,KAAJ,CAAU,QAAV,CAAN;AACA;AACD;AACD;;AAED,YAAMK,OAAO,GAAG,MAAMxD,QAAQ,CAACyD,YAAT,EAAtB;;AACA,UAAI;AACHD,QAAAA,OAAO,CAACE,gBAAR;;AACA,aAAK,IAAIxC,CAAC,GAAG,CAAb,EAAgB8B,KAAK,CAAC7B,MAAN,GAAeD,CAA/B,EAAkCA,CAAC,EAAnC,EAAuC;AACtC,cAAIyC,EAAE,GAAGvC,SAAT;AACA,cAAIwC,QAAQ,GAAG,MAAMhE,WAAW,CAACwD,MAAZ,CAAmBJ,KAAK,CAAC9B,CAAD,CAAxB,EAA6B2C,IAA7B,CAAmCN,CAAD,IAAO;AAC7DI,YAAAA,EAAE,GAAGJ,CAAC,CAAC/C,GAAP;AACA,WAFoB,CAArB;AAGAsD,UAAAA,KAAK,CAACtD,GAAD,EAAMmD,EAAN,EAAUL,eAAV,CAAL;AACA;;AAED,cAAME,OAAO,CAACO,iBAAR,EAAN;AACA,cAAMP,OAAO,CAACQ,UAAR,EAAN;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,eAAO,MAAMxE,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAb;AACA,OAdD,CAcE,OAAO2D,KAAP,EAAc;AACf,cAAMX,OAAO,CAACY,gBAAR,EAAN;AACA,cAAMZ,OAAO,CAACQ,UAAR,EAAN;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,eAAO,IAAIf,KAAJ,CAAU,QAAV,CAAP;AACA;AACD,KAzCQ;;AA2CT,UAAMkB,eAAN,CAAsB9D,IAAtB,EAA4B;AAAEC,MAAAA,GAAF;AAAOwC,MAAAA;AAAP,KAA5B,EAA4C;AAC3C,aAAO,MAAMtD,SAAS,CAAC4E,gBAAV,CACZ;AACC9D,QAAAA;AADD,OADY,EAIZwC,KAJY,EAKZ;AACCuB,QAAAA,GAAG,EAAE;AADN,OALY,CAAb;AASA,KArDQ;;AAsDT,UAAMC,eAAN,CAAsBjE,IAAtB,EAA4B;AAAEC,MAAAA;AAAF,KAA5B,EAAqC,CACpC;AACA;AACA;AACA,KA1DQ;;AA4DT,UAAMiE,wBAAN,CAA+BlE,IAA/B,EAAqC;AAAEC,MAAAA,GAAF;AAAOwC,MAAAA;AAAP,KAArC,EAAqD;AACpD,UAAI;AACHrC,QAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,EAAwB,UAASkE,GAAT,EAAcC,IAAd,EAAoB;AACvD,cAAID,GAAJ,EAAS;AACR,mBAAOE,IAAI,CAAC,IAAIzB,KAAJ,CAAU,QAAV,CAAD,CAAX;AACA,WAFD,MAEO;AACN,iBAAK,IAAIjC,CAAC,GAAG,CAAb,EAAgB8B,KAAK,CAAC7B,MAAN,GAAeD,CAA/B,EAAkCA,CAAC,EAAnC,EAAuC;AACtC,kBAAI8B,KAAK,CAAC9B,CAAD,CAAL,CAASV,GAAb,EAAkB;AACjBqB,gBAAAA,KAAK,GAAG8C,IAAI,CAACvC,WAAL,CAAiByC,SAAjB,CAA4BtB,CAAD,IAAOA,CAAC,CAAC/C,GAAF,IAASwC,KAAK,CAAC9B,CAAD,CAAL,CAASV,GAApD,CAAR;;AACA,oBAAIqB,KAAJ,EAAW;AACV8C,kBAAAA,IAAI,CAACvC,WAAL,CAAiBP,KAAjB,IAA0BmB,KAAK,CAAC9B,CAAD,CAA/B;AACA,iBAFD,MAEO,IAAI,CAACyD,IAAI,CAACvC,WAAN,IAAqBuC,IAAI,CAACvC,WAAL,CAAiBjB,MAAjB,IAA2B,CAApD,EAAuD;AAC7DwD,kBAAAA,IAAI,CAACvC,WAAL,GAAmB,CAAEY,KAAK,CAAC9B,CAAD,CAAP,CAAnB;AACA;AACD,eAPD,MAOO;AACN,oBAAI,CAACyD,IAAI,CAACvC,WAAN,IAAqBuC,IAAI,CAACvC,WAAL,CAAiBjB,MAAjB,IAA2B,CAApD,EAAuD;AACtDwD,kBAAAA,IAAI,CAACvC,WAAL,GAAmB,CAAEY,KAAK,CAAC9B,CAAD,CAAP,CAAnB;AACA,iBAFD,MAEO;AACNyD,kBAAAA,IAAI,CAACvC,WAAL,CAAiBf,IAAjB,CAAsB2B,KAAK,CAAC9B,CAAD,CAA3B;AACA;AACD;AACD;;AACDyD,YAAAA,IAAI,CAACG,IAAL;AACA;AACA;AACD,SAvBW,CAAZ;AAyBA,YAAInE,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;AACA,eAAOG,GAAG,CAACyB,WAAX;AACA,OA5BD,CA4BE,OAAO+B,KAAP,EAAc;AACf,cAAM,IAAIhB,KAAJ,CAAU,QAAV,CAAN;AACA;AACD,KA5FQ;;AA8FT,UAAM4B,8BAAN,CAAqCxE,IAArC,EAA2C;AAAEC,MAAAA,GAAF;AAAOwC,MAAAA;AAAP,KAA3C,EAA2D;AAC1D,YAAMQ,OAAO,GAAG,MAAMxD,QAAQ,CAACyD,YAAT,EAAtB;;AACA,UAAI;AACHD,QAAAA,OAAO,CAACE,gBAAR;AACA,YAAI/C,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;AACA,YAAIwE,aAAJ;;AACA,YACC,CAACrE,GAAG,CAAC2B,gBAAL,IACA,CAAC3B,GAAG,CAAC2B,gBAAJ,CAAqBF,WADtB,IAEAzB,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCjB,MAAjC,IAA2C,CAH5C,EAIE;AACD,cAAI8D,YAAJ;AACAD,UAAAA,aAAa,GAAG,MAAM,IAAIE,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtD1F,YAAAA,SAAS,CAACe,QAAV,CAAmBD,GAAnB,EAAwB,UAASkE,GAAT,EAAcC,IAAd,EAAoB;AAC3C,kBAAI,CAACA,IAAL,EAAWV,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAX,KACK;AACJlB,gBAAAA,KAAK,CAACZ,WAAN,CAAkBR,OAAlB,CAA2ByD,UAAD,IAAgB;AACzC,sBACC,CAAC1E,GAAG,CAAC2B,gBAAL,IACA,CAAC3B,GAAG,CAAC2B,gBAAJ,CAAqBF,WADtB,IAEAzB,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCjB,MAAjC,IAA2C,CAH5C,EAIE;AACDR,oBAAAA,GAAG,CAAC,kBAAD,CAAH,GAA0B,IAAI2E,MAAJ,EAA1B;AACA,wBAAIC,MAAM,GAAG;AACZ/E,sBAAAA,GAAG,EAAE6E,UAAU,CAAC7E,GADJ;AAEZgF,sBAAAA,IAAI,EAAEH,UAAU,CAACG,IAFL;AAGZC,sBAAAA,SAAS,EAAE,KAHC;AAIZC,sBAAAA,WAAW,EAAEL,UAAU,CAACK,WAJZ;AAKZC,sBAAAA,MAAM,EAAEN,UAAU,CAACM,MALP;AAMZC,sBAAAA,MAAM,EAAE;AANI,qBAAb;AAQAjF,oBAAAA,GAAG,CAAC,kBAAD,CAAH,CAAwB,aAAxB,IAAyC,CAAE4E,MAAF,CAAzC;AACA,mBAfD,MAeO;AACN,wBAAIA,MAAM,GAAG;AACZ/E,sBAAAA,GAAG,EAAE6E,UAAU,CAAC7E,GADJ;AAEZgF,sBAAAA,IAAI,EAAEH,UAAU,CAACG,IAFL;AAGZC,sBAAAA,SAAS,EAAE,KAHC;AAIZC,sBAAAA,WAAW,EAAEL,UAAU,CAACK,WAJZ;AAKZC,sBAAAA,MAAM,EAAEN,UAAU,CAACM,MALP;AAMZC,sBAAAA,MAAM,EAAE;AANI,qBAAb;AAQA,wBAAIC,KAAK,GAAGlF,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCtB,IAAjC,CACVyC,CAAD,IAAOA,CAAC,CAACiC,IAAF,KAAWD,MAAM,CAACC,IADd,CAAZ;;AAGA,wBAAI,CAACK,KAAL,EAAY;AACXlF,sBAAAA,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCf,IAAjC,CAAsCkE,MAAtC;AACA;AACD;AACD,iBAhCD;AAkCAvC,gBAAAA,KAAK,CAACZ,WAAN,CAAkBR,OAAlB,CAA2ByD,UAAD,IAAgB;AACzCA,kBAAAA,UAAU,CAACO,MAAX,CAAkBhE,OAAlB,CAA2BgE,MAAD,IAAY;AACrCjF,oBAAAA,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCR,OAAjC,CAA0CkE,YAAD,IAAkB;AAC1D,0BAAIT,UAAU,CAACG,IAAX,KAAoBM,YAAY,CAACN,IAArC,EAA2C;AAC1CM,wBAAAA,YAAY,CAACF,MAAb,CAAoBvE,IAApB,CAAyBuE,MAAzB;AACA;AACD,qBAJD;AAKA,mBAND;AAOA,iBARD;AAUAjB,gBAAAA,IAAI,CAACrC,gBAAL,GAAwB3B,GAAG,CAAC2B,gBAA5B;AACAqC,gBAAAA,IAAI,CAACoB,MAAL,CAAYpB,IAAZ,EAAkBd,IAAlB,CAAwBN,CAAD,IAAO;AAC7B4B,kBAAAA,OAAO,CAACR,IAAD,CAAP;AACA,iBAFD;AAGA;AACD,aApDD;AAqDA,WAtDqB,CAAtB;AAwDA;;AACA,cAAIqB,UAAU,GAAG,MAAMlG,UAAU,CAACc,OAAX,CAAmB;AAAEqF,YAAAA,cAAc,EAAEzF;AAAlB,WAAnB,CAAvB;AACA,cAAI0F,KAAK,GAAG,KAAZ;AACAvF,UAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,cAAI2F,SAAS,GAAG,MAAM,IAAIjB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC5DzE,YAAAA,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCR,OAAjC,CAA0CyD,UAAD,IAAgB;AACxDA,cAAAA,UAAU,CAACO,MAAX,CAAkBhE,OAAlB,CAA2BgE,MAAD,IAAY;AACrC,oBAAI,CAACI,UAAL,EAAiB;AAChB,sBAAII,KAAK,GAAG;AACXC,oBAAAA,IAAI,EAAET,MAAM,CAACS,IADF;AAEXC,oBAAAA,QAAQ,EAAEV,MAAM,CAACU;AAFN,mBAAZ;AAKAN,kBAAAA,UAAU,GAAG,IAAIV,MAAJ,CAAW;AACvBW,oBAAAA,cAAc,EAAEzF,GADO;AAEvB+F,oBAAAA,cAAc,EAAE,IAAIjB,MAAJ,CAAW;AAC1BM,sBAAAA,MAAM,EAAE,CAAEQ,KAAF;AADkB,qBAAX;AAFO,mBAAX,CAAb;AAMAF,kBAAAA,KAAK,GAAG,IAAR;AACA,iBAbD,MAaO;AACN,sBAAIE,KAAK,GAAG;AACXC,oBAAAA,IAAI,EAAET,MAAM,CAACS,IADF;AAEXC,oBAAAA,QAAQ,EAAEV,MAAM,CAACU;AAFN,mBAAZ;;AAKA,sBAAI,CAACN,UAAU,CAACO,cAAZ,IAA8BP,UAAU,CAACO,cAAX,CAA0BpF,MAA1B,IAAoC,CAAtE,EAAyE;AACxE6E,oBAAAA,UAAU,GAAG,IAAIV,MAAJ,CAAW;AACvBW,sBAAAA,cAAc,EAAEzF,GADO;AAEvB+F,sBAAAA,cAAc,EAAE,IAAIjB,MAAJ,CAAW;AAC1BM,wBAAAA,MAAM,EAAE,CAAEQ,KAAF;AADkB,uBAAX;AAFO,qBAAX,CAAb;AAMA,mBAPD,MAOO;AACNJ,oBAAAA,UAAU,CAACO,cAAX,CAA0BX,MAA1B,CAAiCvE,IAAjC,CAAsC+E,KAAtC;AACA;AACD;AACD,eA/BD;AAgCA,aAjCD;;AAkCA,gBAAIF,KAAJ,EAAW;AACV,kBAAItC,QAAQ,GAAG,MAAM9D,UAAU,CAACsD,MAAX,CAAkB4C,UAAlB,CAArB;AACA,aAFD,MAEO;AACNlG,cAAAA,UAAU,CAACc,OAAX,CAAmB,UAAS8D,GAAT,EAAc8B,KAAd,EAAqB;AACvC,oBAAI,CAACA,KAAL,EAAYvC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJ,sBAAI,CAACsC,KAAD,IAAUA,KAAK,CAACrF,MAAN,IAAgB,CAA9B,EAAiC;AAChCqF,oBAAAA,KAAK,GAAGA,KAAR;AACA,mBAFD,MAEO;AACNA,oBAAAA,KAAK,CAACD,cAAN,GAAuBP,UAAU,CAACO,cAAlC;AACA;;AACDC,kBAAAA,KAAK,CAACT,MAAN,CAAaS,KAAb,EAAoB3C,IAApB,CAA0BN,CAAD,IAAO,CAAE,CAAlC;AACA;AACD,eAVD;AAWA;;AACD4B,YAAAA,OAAO;AACP,WAnDqB,CAAtB;AAqDA;;AACA,cAAIsB,WAAW,GAAG,MAAM1G,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,YAAAA,cAAc,EAAEzF;AAAlB,WAA3B,CAAxB;AACA,cAAI0F,KAAK,GAAG,KAAZ;AACAvF,UAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,cAAIkG,OAAO,GAAG,MAAM,IAAIxB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC1DzE,YAAAA,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCR,OAAjC,CAA0CyD,UAAD,IAAgB;AACxDA,cAAAA,UAAU,CAACO,MAAX,CAAkBhE,OAAlB,CAA2BgE,MAAD,IAAY;AACrC,oBAAI,CAACa,WAAL,EAAkB;AACjB,sBAAIL,KAAK,GAAG;AACXO,oBAAAA,IAAI,EAAE,IAAIC,IAAJ,EADK;AAEXP,oBAAAA,IAAI,EAAET,MAAM,CAACS,IAFF;AAGXC,oBAAAA,QAAQ,EAAEV,MAAM,CAACU;AAHN,mBAAZ;AAMAG,kBAAAA,WAAW,GAAG,IAAInB,MAAJ,CAAW;AACxBW,oBAAAA,cAAc,EAAEzF,GADQ;AAExBqG,oBAAAA,WAAW,EAAE,IAAIvB,MAAJ,CAAW;AACvBiB,sBAAAA,cAAc,EAAE,IAAIjB,MAAJ,CAAW;AAC1BM,wBAAAA,MAAM,EAAE,CAAEQ,KAAF;AADkB,uBAAX;AADO,qBAAX;AAFW,mBAAX,CAAd;AAQAF,kBAAAA,KAAK,GAAG,IAAR;AACA,iBAhBD,MAgBO;AACN,sBAAIE,KAAK,GAAG;AACXO,oBAAAA,IAAI,EAAE,IAAIC,IAAJ,EADK;AAEXP,oBAAAA,IAAI,EAAET,MAAM,CAACS,IAFF;AAGXC,oBAAAA,QAAQ,EAAEV,MAAM,CAACU;AAHN,mBAAZ;;AAMA,sBACCG,WAAW,CAACI,WAAZ,CAAwBN,cAAxB,KAA2CnF,SAA3C,IACAqF,WAAW,CAACI,WAAZ,CAAwBN,cAAxB,CAAuCpF,MAAvC,IAAiD,CAFlD,EAGE;AACDsF,oBAAAA,WAAW,GAAG,IAAInB,MAAJ,CAAW;AACxBW,sBAAAA,cAAc,EAAEzF,GADQ;AAExBqG,sBAAAA,WAAW,EAAE,IAAIvB,MAAJ,CAAW;AACvBiB,wBAAAA,cAAc,EAAE,IAAIjB,MAAJ,CAAW;AAC1BM,0BAAAA,MAAM,EAAE,CAAEQ,KAAF;AADkB,yBAAX;AADO,uBAAX;AAFW,qBAAX,CAAd;AAQA,mBAZD,MAYO;AACNK,oBAAAA,WAAW,CAACI,WAAZ,CAAwBN,cAAxB,CAAuCX,MAAvC,CAA8CvE,IAA9C,CAAmD+E,KAAnD;AACA;AACD;AACD,eAxCD;AAyCA,aA1CD;;AA2CA,gBAAIF,KAAJ,EAAW;AACV,kBAAItC,QAAQ,GAAG,MAAM7D,kBAAkB,CAACqD,MAAnB,CAA0BqD,WAA1B,CAArB;AACA,aAFD,MAEO;AACN1G,cAAAA,kBAAkB,CAACa,OAAnB,CAA2B,UAAS8D,GAAT,EAAcoC,KAAd,EAAqB;AAC/C,oBAAI,CAACA,KAAL,EAAY7C,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJ,sBAAI4C,KAAK,KAAK1F,SAAV,IAAuB0F,KAAK,CAAC3F,MAAN,IAAgB,CAA3C,EAA8C;AAC7C2F,oBAAAA,KAAK,GAAGL,WAAR;AACA,mBAFD,MAEO;AACNK,oBAAAA,KAAK,CAACD,WAAN,CAAkBN,cAAlB,GAAmCE,WAAW,CAACI,WAAZ,CAAwBN,cAA3D;AACA;;AACDO,kBAAAA,KAAK,CAACf,MAAN,CAAae,KAAb,EAAoBjD,IAApB,CAA0BN,CAAD,IAAO,CAAE,CAAlC;AACA;AACD,eAVD;AAWA;;AACD4B,YAAAA,OAAO;AACP,WA5DmB,CAApB;AA6DA,SAxLD,MAwLO;AACN,cAAI4B,OAAO,GAAG,KAAd;;AACA,eAAK7F,CAAC,GAAG,CAAT,EAAY8B,KAAK,CAACZ,WAAN,CAAkBjB,MAAlB,GAA2BD,CAAvC,EAA0CA,CAAC,EAA3C,EAA+C;AAC9C,gBAAI8B,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqBuE,SAAzB,EAAoC;AACnC,kBAAIuB,YAAY,GAAG,KAAnB;AACA;;;;AAGA,mBAAKC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGjE,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BzE,MAA5C,EAAoD8F,CAAC,EAArD,EAAyD;AACxDtG,gBAAAA,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCR,OAAjC,CAAyC,CAACyD,UAAD,EAAaxD,KAAb,KAAuB;AAC/DwD,kBAAAA,UAAU,CAACO,MAAX,CAAkBhE,OAAlB,CAA0B,CAACgE,MAAD,EAASsB,WAAT,KAAyB;AAClD,wBAAIlE,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqBV,GAArB,KAA6B6E,UAAU,CAAC7E,GAA5C,EAAiD;AAChD,0BAAIoF,MAAM,CAACS,IAAP,KAAgBrD,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BqB,CAA5B,EAA+BZ,IAAnD,EAAyD;AACxDhB,wBAAAA,UAAU,CAACO,MAAX,CAAkB5D,MAAlB,CAAyBkF,WAAzB,EAAsC,CAAtC;AACA;AACD;AACD,mBAND;AAOA,iBARD,EADwD,CAUxD;;AACAvG,gBAAAA,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCR,OAAjC,CAAyC,CAACyD,UAAD,EAAaxD,KAAb,KAAuB;AAC/D,sBAAI,CAACwD,UAAD,IAAe,CAACA,UAAU,CAACO,MAA3B,IAAqCP,UAAU,CAACO,MAAX,CAAkBzE,MAAlB,IAA4B,CAArE,EAAwE;AACvER,oBAAAA,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCJ,MAAjC,CAAwCH,KAAxC,EAA+C,CAA/C;AACA;AACD,iBAJD;AAKA;;AACDmB,cAAAA,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqBuE,SAArB,GAAiC,KAAjC;AACAsB,cAAAA,OAAO,GAAG,IAAV;AACA;AACD;;AAED,gBAAMpG,GAAG,CAACoF,MAAJ,CAAWpF,GAAX,EAAgBkD,IAAhB,CAAqBI,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAArB,CAAN;AACAvD,UAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;;AAEA,eAAKU,CAAC,GAAG,CAAT,EAAY8B,KAAK,CAACZ,WAAN,CAAkBjB,MAAlB,GAA2BD,CAAvC,EAA0CA,CAAC,EAA3C,EAA+C;AAC9CP,YAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,gBAAIqF,KAAK,GAAG,MAAMlF,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCtB,IAAjC,CAChByC,CAAD,IAAOA,CAAC,CAAC/C,GAAF,IAASwC,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqBV,GADpB,CAAlB;;AAIA,gBAAIqF,KAAK,KAAKzE,SAAV,IAAuByE,KAAK,CAAC1E,MAAN,IAAgB,CAA3C,EAA8C;AAC7C,oBAAMR,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCf,IAAjC,CAAsC2B,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,CAAtC,CAAN;AACA,oBAAMP,GAAG,CAACoF,MAAJ,CAAWpF,GAAX,EAAgBkD,IAAhB,CAAqBI,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAArB,CAAN;AACAvD,cAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AAEA;;AACA,kBAAIwF,UAAU,GAAG,MAAMlG,UAAU,CAACc,OAAX,CAAmB;AAAEqF,gBAAAA,cAAc,EAAEzF;AAAlB,eAAnB,CAAvB;AACA,kBAAI2G,OAAO,GAAG,MAAM,IAAIjC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpDzE,gBAAAA,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCR,OAAjC,CAA0CyD,UAAD,IAAgB;AACxDA,kBAAAA,UAAU,CAACO,MAAX,CAAkBhE,OAAlB,CAA2BgE,MAAD,IAAY;AACrC,wBAAI5C,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqBsE,IAArB,KAA8BH,UAAU,CAACG,IAA7C,EAAmD;AAClDQ,sBAAAA,UAAU,CAACO,cAAX,CAA0BX,MAA1B,CAAiCvE,IAAjC,CAAsCuE,MAAtC;AACA;AACD,mBAJD;AAKA,iBAND;AAOA9F,gBAAAA,UAAU,CAACc,OAAX,CAAmB;AAAEqF,kBAAAA,cAAc,EAAEzF;AAAlB,iBAAnB,EAA4C,UAASkE,GAAT,EAAc8B,KAAd,EAAqB;AAChE,sBAAI,CAACA,KAAL,EAAYvC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJsC,oBAAAA,KAAK,CAACD,cAAN,GAAuBP,UAAU,CAACO,cAAlC;AACAC,oBAAAA,KAAK,CAACT,MAAN,CAAaS,KAAb,EAAoB3C,IAApB,CAA0BN,CAAD,IAAO,CAAE,CAAlC;AACA;AACD,iBAND;AAOA4B,gBAAAA,OAAO;AACP,eAhBmB,CAApB;AAkBA;;AACAxE,cAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,kBAAIiG,WAAW,GAAG1G,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,gBAAAA,cAAc,EAAEzF;AAAlB,eAA3B,CAAlB;AACA,kBAAIkG,OAAO,GAAG,MAAM,IAAIxB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpDzE,gBAAAA,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCR,OAAjC,CAA0CyD,UAAD,IAAgB;AACxDA,kBAAAA,UAAU,CAACO,MAAX,CAAkBhE,OAAlB,CAA2BgE,MAAD,IAAY;AACrC,wBAAI5C,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqBsE,IAArB,KAA8BH,UAAU,CAACG,IAA7C,EAAmD;AAClD,0BAAIY,KAAK,GAAG;AACXO,wBAAAA,IAAI,EAAE,IAAIC,IAAJ,EADK;AAEXP,wBAAAA,IAAI,EAAET,MAAM,CAACS,IAFF;AAGXC,wBAAAA,QAAQ,EAAEV,MAAM,CAACU;AAHN,uBAAZ;AAKAvG,sBAAAA,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,wBAAAA,cAAc,EAAEzF;AAAlB,uBAA3B,EAAoD,UAASkE,GAAT,EAAcoC,KAAd,EAAqB;AACxE,4BAAI,CAACA,KAAL,EAAY7C,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJ4C,0BAAAA,KAAK,CAACD,WAAN,CAAkBN,cAAlB,CAAiCX,MAAjC,CAAwCvE,IAAxC,CAA6C+E,KAA7C;AACAU,0BAAAA,KAAK,CAACf,MAAN,CAAae,KAAb,EAAoBjD,IAApB,CAA0BN,CAAD,IAAO,CAAE,CAAlC;AACA;AACD,uBAND;AAOA;AACD,mBAfD;AAgBA,iBAjBD;AAkBA4B,gBAAAA,OAAO;AACP,eApBmB,CAApB;AAqBAxE,cAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,aAlDD,MAkDO;AACN,mBAAK4G,CAAC,GAAG,CAAT,EAAYpE,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BzE,MAA5B,GAAqCiG,CAAjD,EAAoDA,CAAC,EAArD,EAAyD;AACxD,oBAAIC,SAAS,GAAG,KAAhB;AACA1G,gBAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;;AACA,oBAAIwC,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BwB,CAA5B,EAA+B5G,GAAnC,EAAwC;AACvCG,kBAAAA,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCR,OAAjC,CAA0CyD,UAAD,IAAgB;AACxDA,oBAAAA,UAAU,CAACO,MAAX,CAAkBhE,OAAlB,CAA2BgE,MAAD,IAAY;AACrC,0BAAIA,MAAM,CAACS,IAAP,IAAerD,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BwB,CAA5B,EAA+Bf,IAAlD,EAAwD;AACvDT,wBAAAA,MAAM,CAAC0B,GAAP,CAAWtE,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BwB,CAA5B,CAAX;AACAC,wBAAAA,SAAS,GAAG,IAAZ;AACA;AACD,qBALD;AAMA,mBAPD;;AAQA,sBAAIA,SAAJ,EAAe;AACd,0BAAM1G,GAAG,CAACoF,MAAJ,CAAWpF,GAAX,EAAgBkD,IAAhB,CAAqBI,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAArB,CAAN;AACAvD,oBAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA6G,oBAAAA,SAAS,GAAG,KAAZ;AAEA;;AACA,wBAAIrB,UAAU,GAAG,MAAMlG,UAAU,CAACc,OAAX,CAAmB;AAAEqF,sBAAAA,cAAc,EAAEzF;AAAlB,qBAAnB,CAAvB;AACA,wBAAI2G,OAAO,GAAG,MAAM,IAAIjC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpDY,sBAAAA,UAAU,CAACO,cAAX,CAA0BX,MAA1B,CAAiChE,OAAjC,CAA0CgE,MAAD,IAAY;AACpD,4BAAIA,MAAM,CAACS,IAAP,IAAerD,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BwB,CAA5B,EAA+Bf,IAAlD,EAAwD;AACvDT,0BAAAA,MAAM,CAAC0B,GAAP,CAAWtE,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BwB,CAA5B,CAAX;AACA;AACD,uBAJD;AAKAtH,sBAAAA,UAAU,CAACc,OAAX,CAAmB;AAAEqF,wBAAAA,cAAc,EAAEzF;AAAlB,uBAAnB,EAA4C,UAASkE,GAAT,EAAc8B,KAAd,EAAqB;AAChE,4BAAI,CAACA,KAAL,EAAYvC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJsC,0BAAAA,KAAK,CAACD,cAAN,GAAuBP,UAAU,CAACO,cAAlC;AACAC,0BAAAA,KAAK,CAACT,MAAN,CAAaS,KAAb,EAAoB3C,IAApB,CAA0BN,CAAD,IAAO;AAC/B4B,4BAAAA,OAAO;AACP,2BAFD;AAGA;AACD,uBARD;AASA,qBAfmB,CAApB;AAiBA;;AACA,wBAAIsB,WAAW,GAAG,MAAM1G,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,sBAAAA,cAAc,EAAEzF;AAAlB,qBAA3B,CAAxB;AACAG,oBAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,wBAAIkG,OAAO,GAAG,MAAM,IAAIxB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpD,0BAAIgB,KAAK,GAAG;AACXO,wBAAAA,IAAI,EAAE,IAAIC,IAAJ,EADK;AAEXP,wBAAAA,IAAI,EAAErD,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BwB,CAA5B,EAA+Bf,IAF1B;AAGXC,wBAAAA,QAAQ,EAAEtD,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BwB,CAA5B,EAA+Bd;AAH9B,uBAAZ;AAKAvG,sBAAAA,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,wBAAAA,cAAc,EAAEzF;AAAlB,uBAA3B,EAAoD,UAASkE,GAAT,EAAcoC,KAAd,EAAqB;AACxE,4BAAI,CAACA,KAAL,EAAY7C,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJ4C,0BAAAA,KAAK,CAACD,WAAN,CAAkBN,cAAlB,CAAiCX,MAAjC,CAAwCvE,IAAxC,CAA6C+E,KAA7C;AACAU,0BAAAA,KAAK,CAACf,MAAN,CAAae,KAAb,EAAoBjD,IAApB,CAA0BN,CAAD,IAAO,CAAE,CAAlC;AACA;AACD,uBAND;AAOA4B,sBAAAA,OAAO;AACP,qBAdmB,CAApB;AAeAxE,oBAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA;AACD,iBArDD,MAqDO;AACNG,kBAAAA,GAAG,CAAC2B,gBAAJ,CAAqBF,WAArB,CAAiCR,OAAjC,CAA0CyD,UAAD,IAAgB;AACxD,wBAAIrC,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqBV,GAArB,IAA4B6E,UAAU,CAAC7E,GAA3C,EAAgD;AAC/C6E,sBAAAA,UAAU,CAACO,MAAX,CAAkBvE,IAAlB,CAAuB2B,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BwB,CAA5B,CAAvB;AACA;AACD,mBAJD;AAKA,wBAAMzG,GAAG,CAACoF,MAAJ,CAAWpF,GAAX,EAAgBkD,IAAhB,CAAqBI,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAArB,CAAN;AACAvD,kBAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AAEA;;AACA,sBAAIwF,UAAU,GAAG,MAAMlG,UAAU,CAACc,OAAX,CAAmB;AAAEqF,oBAAAA,cAAc,EAAEzF;AAAlB,mBAAnB,CAAvB;AACA,sBAAI+G,QAAQ,GAAG,KAAf;AACA,sBAAIJ,OAAO,GAAG,MAAM,IAAIjC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpDY,oBAAAA,UAAU,CAACO,cAAX,CAA0BX,MAA1B,CAAiChE,OAAjC,CAAyC,CAACgE,MAAD,EAAS/D,KAAT,KAAmB;AAC3D,0BAAI,CAAC0F,QAAL,EAAe;AACdvB,wBAAAA,UAAU,CAACO,cAAX,CAA0BX,MAA1B,CAAiCvE,IAAjC,CAAsC2B,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BwB,CAA5B,CAAtC;AACAG,wBAAAA,QAAQ,GAAG,IAAX;AACA;AACD,qBALD;AAMAzH,oBAAAA,UAAU,CAACc,OAAX,CAAmB;AAAEqF,sBAAAA,cAAc,EAAEzF;AAAlB,qBAAnB,EAA4C,UAASkE,GAAT,EAAc8B,KAAd,EAAqB;AAChE,0BAAI,CAACA,KAAL,EAAYvC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJsC,wBAAAA,KAAK,CAACD,cAAN,GAAuBP,UAAU,CAACO,cAAlC;AACAC,wBAAAA,KAAK,CAACT,MAAN,CAAaS,KAAb,EAAoB3C,IAApB,CAA0BN,CAAD,IAAO;AAC/B4B,0BAAAA,OAAO;AACP,yBAFD;AAGA;AACD,qBARD;AASA,mBAhBmB,CAApB;AAkBA;;AACAxE,kBAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,sBAAIiG,WAAW,GAAG,MAAM1G,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,oBAAAA,cAAc,EAAEzF;AAAlB,mBAA3B,CAAxB;AACA,sBAAIkG,OAAO,GAAG,MAAM,IAAIxB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpD,wBAAIgB,KAAK,GAAG;AACXO,sBAAAA,IAAI,EAAE,IAAIC,IAAJ,EADK;AAEXP,sBAAAA,IAAI,EAAErD,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BwB,CAA5B,EAA+Bf,IAF1B;AAGXC,sBAAAA,QAAQ,EAAEtD,KAAK,CAACZ,WAAN,CAAkBlB,CAAlB,EAAqB0E,MAArB,CAA4BwB,CAA5B,EAA+Bd;AAH9B,qBAAZ;AAKAvG,oBAAAA,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,sBAAAA,cAAc,EAAEzF;AAAlB,qBAA3B,EAAoD,UAASkE,GAAT,EAAcoC,KAAd,EAAqB;AACxE,0BAAI,CAACA,KAAL,EAAY7C,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJ4C,wBAAAA,KAAK,CAACD,WAAN,CAAkBN,cAAlB,CAAiCX,MAAjC,CAAwCvE,IAAxC,CAA6C+E,KAA7C;AACAU,wBAAAA,KAAK,CAACf,MAAN,CAAae,KAAb,EAAoBjD,IAApB,CAA0BN,CAAD,IAAO,CAAE,CAAlC;AACA4B,wBAAAA,OAAO;AACP;AACD,qBAPD;AAQA,mBAdmB,CAApB;AAeAxE,kBAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA;AACD;AACD;AACD;AACD;;AAED,cAAMgD,OAAO,CAACO,iBAAR,EAAN;AACA,cAAMP,OAAO,CAACQ,UAAR,EAAN;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AAEA,YAAIvD,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;AACA,eAAOG,GAAG,CAAC2B,gBAAX;AACA,OA3YD,CA2YE,OAAO6B,KAAP,EAAc;AACf,cAAMX,OAAO,CAACY,gBAAR,EAAN;AACA,cAAMZ,OAAO,CAACQ,UAAR,EAAN;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,eAAO,IAAIf,KAAJ,CAAU,QAAV,CAAP;AACA;AACD,KAlfQ;;AAofT,UAAMqE,wBAAN,CAA+BjH,IAA/B,EAAqC;AAAEC,MAAAA,GAAF;AAAOwC,MAAAA;AAAP,KAArC,EAAqD;AACpD,YAAMQ,OAAO,GAAG,MAAMxD,QAAQ,CAACyD,YAAT,EAAtB;;AACA,UAAI;AACHD,QAAAA,OAAO,CAACE,gBAAR;AACA,YAAI/C,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;;AAEA,YAAI,CAACG,GAAG,CAAC+B,UAAL,IAAmB/B,GAAG,CAAC+B,UAAJ,CAAevB,MAAf,IAAyB,CAAhD,EAAmD;AAClD6D,UAAAA,aAAa,GAAG,MAAM,IAAIE,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtD1F,YAAAA,SAAS,CAACe,QAAV,CAAmBD,GAAnB,EAAwB,UAASkE,GAAT,EAAcC,IAAd,EAAoB;AAC3C,kBAAI,CAACA,IAAL,EAAWV,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAX,KACK;AACJlB,gBAAAA,KAAK,CAACpB,OAAN,CAAec,UAAD,IAAgB;AAC7B,sBAAI/B,GAAG,CAAC+B,UAAJ,KAAmBtB,SAAnB,IAAgCT,GAAG,CAAC+B,UAAJ,CAAevB,MAAf,IAAyB,CAA7D,EAAgE;AAC/DR,oBAAAA,GAAG,CAAC+B,UAAJ,GAAiB,CAAEA,UAAF,CAAjB;AACA,mBAFD,MAEO;AACN/B,oBAAAA,GAAG,CAAC+B,UAAJ,CAAerB,IAAf,CAAoBqB,UAApB;AACA;AACD,iBAND;AAOA;AAEDiC,cAAAA,IAAI,CAACjC,UAAL,GAAkB/B,GAAG,CAAC+B,UAAtB;AACAiC,cAAAA,IAAI,CAACoB,MAAL,CAAYpB,IAAZ,EAAkBd,IAAlB,CAAwBN,CAAD,IAAO;AAC7B4B,gBAAAA,OAAO,CAACR,IAAD,CAAP;AACA,eAFD;AAGA,aAhBD;AAiBA,WAlBqB,CAAtB;AAoBA;;AACA,cAAIqB,UAAU,GAAG,MAAMlG,UAAU,CAACc,OAAX,CAAmB;AAAEqF,YAAAA,cAAc,EAAEzF;AAAlB,WAAnB,CAAvB;AACAG,UAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,cAAI0F,KAAK,GAAG,KAAZ;AACA,cAAIC,SAAS,GAAG,MAAM,IAAIjB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC5DzE,YAAAA,GAAG,CAAC+B,UAAJ,CAAed,OAAf,CAAwBc,UAAD,IAAgB;AACtCA,cAAAA,UAAU,CAACkD,MAAX,CAAkBhE,OAAlB,CAA2BgE,MAAD,IAAY;AACrC,oBAAI,CAACI,UAAL,EAAiB;AAChB,sBAAII,KAAK,GAAG;AACXC,oBAAAA,IAAI,EAAET,MAAM,CAACS,IADF;AAEXC,oBAAAA,QAAQ,EAAEV,MAAM,CAACU;AAFN,mBAAZ;AAKAN,kBAAAA,UAAU,GAAG,IAAIV,MAAJ,CAAW;AACvBmC,oBAAAA,mBAAmB,EAAE,IAAInC,MAAJ,CAAW;AAC/BM,sBAAAA,MAAM,EAAE,CAAEQ,KAAF;AADuB,qBAAX;AADE,mBAAX,CAAb;AAKAF,kBAAAA,KAAK,GAAG,IAAR;AACA,iBAZD,MAYO;AACN,sBAAIE,KAAK,GAAG;AACXC,oBAAAA,IAAI,EAAET,MAAM,CAACS,IADF;AAEXC,oBAAAA,QAAQ,EAAEV,MAAM,CAACU;AAFN,mBAAZ;;AAKA,sBAAI,CAACN,UAAU,CAACyB,mBAAZ,IAAmCzB,UAAU,CAACyB,mBAAX,CAA+BtG,MAA/B,IAAyC,CAAhF,EAAmF;AAClF6E,oBAAAA,UAAU,GAAG,IAAIV,MAAJ,CAAW;AACvBmC,sBAAAA,mBAAmB,EAAE,IAAInC,MAAJ,CAAW;AAC/BM,wBAAAA,MAAM,EAAE,CAAEQ,KAAF;AADuB,uBAAX;AADE,qBAAX,CAAb;AAKA,mBAND,MAMO;AACNJ,oBAAAA,UAAU,CAACyB,mBAAX,CAA+B7B,MAA/B,CAAsCvE,IAAtC,CAA2C+E,KAA3C;AACA;AACD;AACD,eA7BD;AA8BA,aA/BD;;AAgCA,gBAAIF,KAAJ,EAAW;AACV,kBAAItC,QAAQ,GAAG,MAAM9D,UAAU,CAACsD,MAAX,CAAkB4C,UAAlB,CAArB;AACA,aAFD,MAEO;AACNlG,cAAAA,UAAU,CAACc,OAAX,CAAmB;AAAEqF,gBAAAA,cAAc,EAAEzF;AAAlB,eAAnB,EAA4C,UAASkE,GAAT,EAAc8B,KAAd,EAAqB;AAChE,oBAAI,CAACA,KAAL,EAAYvC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJ,sBAAI,CAACsC,KAAD,IAAUA,KAAK,CAACrF,MAAN,IAAgB,CAA9B,EAAiC;AAChCqF,oBAAAA,KAAK,GAAGA,KAAR;AACA,mBAFD,MAEO;AACNA,oBAAAA,KAAK,CAACiB,mBAAN,GAA4BzB,UAAU,CAACyB,mBAAvC;AACA;;AACDjB,kBAAAA,KAAK,CAACT,MAAN,CAAaS,KAAb,EAAoB3C,IAApB,CAA0BN,CAAD,IAAO,CAAE,CAAlC;AACA;AACD,eAVD;AAWA;;AACD4B,YAAAA,OAAO;AACP,WAjDqB,CAAtB;AAmDA;;AACA,cAAIsB,WAAW,GAAG,MAAM1G,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,YAAAA,cAAc,EAAEzF;AAAlB,WAA3B,CAAxB;AACAG,UAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,cAAI0F,KAAK,GAAG,KAAZ;AACA,cAAIQ,OAAO,GAAG,MAAM,IAAIxB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC1DzE,YAAAA,GAAG,CAAC+B,UAAJ,CAAed,OAAf,CAAwBc,UAAD,IAAgB;AACtCA,cAAAA,UAAU,CAACkD,MAAX,CAAkBhE,OAAlB,CAA2BgE,MAAD,IAAY;AACrC,oBAAI,CAACa,WAAL,EAAkB;AACjB,sBAAIL,KAAK,GAAG;AACXO,oBAAAA,IAAI,EAAE,IAAIC,IAAJ,EADK;AAEXP,oBAAAA,IAAI,EAAET,MAAM,CAACS,IAFF;AAGXC,oBAAAA,QAAQ,EAAEV,MAAM,CAACU;AAHN,mBAAZ;AAMAG,kBAAAA,WAAW,GAAG,IAAInB,MAAJ,CAAW;AACxBuB,oBAAAA,WAAW,EAAE,IAAIvB,MAAJ,CAAW;AACvBmC,sBAAAA,mBAAmB,EAAE,IAAInC,MAAJ,CAAW;AAC/BM,wBAAAA,MAAM,EAAE,CAAEQ,KAAF;AADuB,uBAAX;AADE,qBAAX;AADW,mBAAX,CAAd;AAOAF,kBAAAA,KAAK,GAAG,IAAR;AACA,iBAfD,MAeO;AACN,sBAAIE,KAAK,GAAG;AACXO,oBAAAA,IAAI,EAAE,IAAIC,IAAJ,EADK;AAEXP,oBAAAA,IAAI,EAAET,MAAM,CAACS,IAFF;AAGXC,oBAAAA,QAAQ,EAAEV,MAAM,CAACU;AAHN,mBAAZ;;AAMA,sBACC,CAACG,WAAW,CAACI,WAAb,IACA,CAACJ,WAAW,CAACI,WAAZ,CAAwBY,mBADzB,IAEAhB,WAAW,CAACI,WAAZ,CAAwBY,mBAAxB,CAA4CtG,MAA5C,IAAsD,CAHvD,EAIE;AACDsF,oBAAAA,WAAW,GAAG,IAAInB,MAAJ,CAAW;AACxBuB,sBAAAA,WAAW,EAAE,IAAIvB,MAAJ,CAAW;AACvBmC,wBAAAA,mBAAmB,EAAE,IAAInC,MAAJ,CAAW;AAC/BM,0BAAAA,MAAM,EAAE,CAAEQ,KAAF;AADuB,yBAAX;AADE,uBAAX;AADW,qBAAX,CAAd;AAOA,mBAZD,MAYO;AACNK,oBAAAA,WAAW,CAACI,WAAZ,CAAwBY,mBAAxB,CAA4C7B,MAA5C,CAAmDvE,IAAnD,CAAwD+E,KAAxD;AACA;AACD;AACD,eAvCD;AAwCA,aAzCD;;AA0CA,gBAAIF,KAAJ,EAAW;AACV,kBAAItC,QAAQ,GAAG,MAAM7D,kBAAkB,CAACqD,MAAnB,CAA0BqD,WAA1B,CAArB;AACA,aAFD,MAEO;AACN1G,cAAAA,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,gBAAAA,cAAc,EAAEzF;AAAlB,eAA3B,EAAoD,UAASkE,GAAT,EAAcoC,KAAd,EAAqB;AACxE,oBAAI,CAACA,KAAL,EAAY7C,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJ,sBAAI,CAAC4C,KAAD,IAAUA,KAAK,CAAC3F,MAAN,IAAgB,CAA9B,EAAiC;AAChC2F,oBAAAA,KAAK,GAAGL,WAAR;AACA,mBAFD,MAEO;AACNK,oBAAAA,KAAK,CAACD,WAAN,CAAkBY,mBAAlB,GACChB,WAAW,CAACI,WAAZ,CAAwBY,mBADzB;AAEA;;AACDX,kBAAAA,KAAK,CAACf,MAAN,CAAae,KAAb,EAAoBjD,IAApB,CAA0BN,CAAD,IAAO,CAAE,CAAlC;AACA;AACD,eAXD;AAYA;;AACD4B,YAAAA,OAAO;AACP,WA5DmB,CAApB;AA6DA,SA7ID,MA6IO;AACN,eAAK,IAAIjE,CAAC,GAAG,CAAb,EAAgB8B,KAAK,CAAC7B,MAAN,GAAeD,CAA/B,EAAkCA,CAAC,EAAnC,EAAuC;AACtC,gBAAI2E,KAAK,GAAG,MAAMlF,GAAG,CAAC+B,UAAJ,CAAe5B,IAAf,CAAqByC,CAAD,IAAOA,CAAC,CAAC/C,GAAF,IAASwC,KAAK,CAAC9B,CAAD,CAAL,CAASV,GAA7C,CAAlB;;AAEA,gBAAI,CAACqF,KAAD,IAAUA,KAAK,CAAC1E,MAAN,IAAgB,CAA9B,EAAiC;AAChCR,cAAAA,GAAG,CAAC+B,UAAJ,CAAerB,IAAf,CAAoB2B,KAAK,CAAC9B,CAAD,CAAzB;AACA,oBAAMP,GAAG,CAACoF,MAAJ,CAAWpF,GAAX,EAAgBkD,IAAhB,CAAqBI,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAArB,CAAN;AACA,aAHD,MAGO;AACN2B,cAAAA,KAAK,CAACyB,GAAN,CAAUtE,KAAK,CAAC9B,CAAD,CAAf;AACA,oBAAMP,GAAG,CAACoF,MAAJ,CAAWpF,GAAX,EAAgBkD,IAAhB,CAAqBI,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAArB,CAAN;AACA;;AACDvD,YAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AAEA;;AACA,gBAAIwF,UAAU,GAAG,MAAMlG,UAAU,CAACc,OAAX,CAAmB;AAAEqF,cAAAA,cAAc,EAAEzF;AAAlB,aAAnB,CAAvB;AACA,gBAAI2G,OAAO,GAAG,MAAM,IAAIjC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpD,mBAAK,IAAI7B,CAAC,GAAG,CAAb,EAAgBP,KAAK,CAAC9B,CAAD,CAAL,CAAS0E,MAAT,CAAgBzE,MAAhB,GAAyBoC,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD;AAChD,oBAAImE,OAAO,GAAGtG,SAAd;;AACA,qBAAK6F,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGjB,UAAU,CAACyB,mBAAX,CAA+B7B,MAA/B,CAAsCzE,MAAtD,EAA8D8F,CAAC,EAA/D,EAAmE;AAClE,sBAAIjB,UAAU,CAACyB,mBAAX,CAA+B7B,MAA/B,CAAsCqB,CAAtC,EAAyCZ,IAAzC,KAAkDrD,KAAK,CAAC9B,CAAD,CAAL,CAAS0E,MAAT,CAAgBrC,CAAhB,EAAmB8C,IAAzE,EAA+E;AAC9EqB,oBAAAA,OAAO,GAAG1B,UAAU,CAACyB,mBAAX,CAA+B7B,MAA/B,CAAsCqB,CAAtC,CAAV;AACA;AACD;;AACD,oBAAIS,OAAJ,EAAa;AACZA,kBAAAA,OAAO,CAACJ,GAAR,CAAYtE,KAAK,CAAC9B,CAAD,CAAL,CAAS0E,MAAT,CAAgBrC,CAAhB,CAAZ;AACA,iBAFD,MAEO;AACNyC,kBAAAA,UAAU,CAACyB,mBAAX,CAA+B7B,MAA/B,CAAsCvE,IAAtC,CAA2C2B,KAAK,CAAC9B,CAAD,CAAL,CAAS0E,MAAT,CAAgBrC,CAAhB,CAA3C;AACA;AACD;;AAEDzD,cAAAA,UAAU,CAACc,OAAX,CAAmB;AAAEqF,gBAAAA,cAAc,EAAEzF;AAAlB,eAAnB,EAA4C,UAASkE,GAAT,EAAc8B,KAAd,EAAqB;AAChE,oBAAI,CAACA,KAAL,EAAYvC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJsC,kBAAAA,KAAK,CAACiB,mBAAN,GAA4BzB,UAAU,CAACyB,mBAAvC;AACAjB,kBAAAA,KAAK,CAACT,MAAN,CAAaS,KAAb,EAAoB3C,IAApB,CAA0BN,CAAD,IAAO;AAC/B4B,oBAAAA,OAAO;AACP,mBAFD;AAGA;AACD,eARD;AASA,aAxBmB,CAApB;AA0BA;;AACA,gBAAIsB,WAAW,GAAG,MAAM1G,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,cAAAA,cAAc,EAAEzF;AAAlB,aAA3B,CAAxB;AACA,gBAAI2G,OAAO,GAAG,MAAM,IAAIjC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpD,mBAAK,IAAI7B,CAAC,GAAG,CAAb,EAAgBP,KAAK,CAAC9B,CAAD,CAAL,CAAS0E,MAAT,CAAgBzE,MAAhB,GAAyBoC,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD;AAChDkD,gBAAAA,WAAW,CAACI,WAAZ,CAAwBY,mBAAxB,CAA4C7B,MAA5C,CAAmDvE,IAAnD,CAAwD2B,KAAK,CAAC9B,CAAD,CAAL,CAAS0E,MAAT,CAAgBrC,CAAhB,CAAxD;AACA;;AAEDxD,cAAAA,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,gBAAAA,cAAc,EAAEzF;AAAlB,eAA3B,EAAoD,UAASkE,GAAT,EAAcoC,KAAd,EAAqB;AACxE,oBAAI,CAACA,KAAL,EAAY7C,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJ4C,kBAAAA,KAAK,CAACD,WAAN,CAAkBY,mBAAlB,GAAwChB,WAAW,CAACI,WAAZ,CAAwBY,mBAAhE;AACAX,kBAAAA,KAAK,CAACf,MAAN,CAAae,KAAb,EAAoBjD,IAApB,CAA0BN,CAAD,IAAO;AAC/B4B,oBAAAA,OAAO;AACP,mBAFD;AAGA;AACD,eARD;AASA,aAdmB,CAApB;AAeAxE,YAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA;AACD;;AAED,cAAMgD,OAAO,CAACO,iBAAR,EAAN;AACA,cAAMP,OAAO,CAACQ,UAAR,EAAN;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AAEA,YAAIvD,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;AACA,eAAOG,GAAG,CAAC+B,UAAX;AACA,OArND,CAqNE,OAAOyB,KAAP,EAAc;AACf,cAAMX,OAAO,CAACY,gBAAR,EAAN;AACA,cAAMZ,OAAO,CAACQ,UAAR,EAAN;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,eAAO,IAAIf,KAAJ,CAAU,QAAV,CAAP;AACA;AACD,KAltBQ;;AAotBT,UAAMwE,qBAAN,CAA4BpH,IAA5B,EAAkC;AAAEC,MAAAA,GAAF;AAAOwC,MAAAA;AAAP,KAAlC,EAAkD;AACjD,YAAMQ,OAAO,GAAG,MAAMxD,QAAQ,CAACyD,YAAT,EAAtB;;AACA,UAAI;AACHD,QAAAA,OAAO,CAACE,gBAAR;AACA,YAAI/C,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;;AACA,YAAIG,GAAG,CAACe,OAAJ,KAAgBN,SAAhB,IAA6BT,GAAG,CAACe,OAAJ,KAAgB,IAAjD,EAAuD;AACtDsD,UAAAA,aAAa,GAAG,MAAM,IAAIE,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtD1F,YAAAA,SAAS,CAACe,QAAV,CAAmBD,GAAnB,EAAwB,UAASkE,GAAT,EAAcC,IAAd,EAAoB;AAC3C,kBAAI,CAACA,IAAL,EAAWV,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAX,KACK;AACJ,oBAAIvD,GAAG,CAACe,OAAJ,KAAgBN,SAAhB,IAA6BT,GAAG,CAACe,OAAJ,KAAgB,IAAjD,EAAuD;AACtDf,kBAAAA,GAAG,CAACe,OAAJ,GAAcsB,KAAd;AACA,iBAFD,MAEO;AACNrC,kBAAAA,GAAG,CAACe,OAAJ,GAAcsB,KAAd;AACA;AACD;AAED2B,cAAAA,IAAI,CAACjD,OAAL,GAAef,GAAG,CAACe,OAAnB;AACAiD,cAAAA,IAAI,CAACoB,MAAL,CAAYpB,IAAZ,EAAkBd,IAAlB,CAAwBN,CAAD,IAAO;AAC7B4B,gBAAAA,OAAO,CAACR,IAAD,CAAP;AACA,eAFD;AAGA,aAdD;AAeA,WAhBqB,CAAtB;AAiBA;;AACA,cAAIqB,UAAU,GAAG,MAAMlG,UAAU,CAACgB,IAAX,CAAgB;AAAEmF,YAAAA,cAAc,EAAEzF;AAAlB,WAAhB,CAAvB;AACAG,UAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,cAAI0F,KAAK,GAAG,KAAZ;AACA,cAAIC,SAAS,GAAG,MAAM,IAAIjB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC5D,gBAAIzE,GAAG,CAACe,OAAJ,CAAYC,IAAZ,IAAoBhB,GAAG,CAACe,OAAJ,CAAYC,IAAZ,CAAiBR,MAAjB,GAA0B,CAAlD,EAAqD;AACpDR,cAAAA,GAAG,CAACe,OAAJ,CAAYC,IAAZ,CAAiBC,OAAjB,CAA0BD,IAAD,IAAU;AAClC,oBAAI,CAACqE,UAAD,IAAeA,UAAU,CAAC7E,MAAX,IAAqB,CAAxC,EAA2C;AAC1C,sBAAIiF,KAAK,GAAG;AACXC,oBAAAA,IAAI,EAAE1E,IAAI,CAACiE,MAAL,CAAYS,IADP;AAEXC,oBAAAA,QAAQ,EAAE3E,IAAI,CAACiE,MAAL,CAAYU;AAFX,mBAAZ;AAIAN,kBAAAA,UAAU,GAAG,IAAIV,MAAJ,CAAW;AACvBsC,oBAAAA,mBAAmB,EAAE,IAAItC,MAAJ,CAAW;AAC/BM,sBAAAA,MAAM,EAAE,CAAEQ,KAAF;AADuB,qBAAX;AADE,mBAAX,CAAb;AAKAF,kBAAAA,KAAK,GAAG,IAAR;AACA,iBAXD,MAWO;AACN,sBAAIE,KAAK,GAAG;AACXC,oBAAAA,IAAI,EAAE1E,IAAI,CAACiE,MAAL,CAAYS,IADP;AAEXC,oBAAAA,QAAQ,EAAE3E,IAAI,CAACiE,MAAL,CAAYU;AAFX,mBAAZ;;AAKA,sBAAI,CAACN,UAAU,CAAC4B,mBAAZ,IAAmC5B,UAAU,CAAC4B,mBAAX,CAA+BzG,MAA/B,IAAyC,CAAhF,EAAmF;AAClF6E,oBAAAA,UAAU,GAAG,IAAIV,MAAJ,CAAW;AACvBsC,sBAAAA,mBAAmB,EAAE,IAAItC,MAAJ,CAAW;AAC/BM,wBAAAA,MAAM,EAAE,CAAEQ,KAAF;AADuB,uBAAX;AADE,qBAAX,CAAb;AAKA,mBAND,MAMO;AACNJ,oBAAAA,UAAU,CAAC4B,mBAAX,CAA+BhC,MAA/B,CAAsCvE,IAAtC,CAA2C+E,KAA3C;AACA;AACD;AACD,eA5BD;AA6BA,aA9BD,MA8BO,IAAIzF,GAAG,CAACe,OAAJ,CAAYmG,QAAZ,IAAwBlH,GAAG,CAACe,OAAJ,CAAYmG,QAAZ,CAAqB1G,MAArB,GAA8B,CAA1D,EAA6D;AACnER,cAAAA,GAAG,CAACe,OAAJ,CAAYmG,QAAZ,CAAqBjG,OAArB,CAA8BiG,QAAD,IAAc;AAC1C,oBAAI,CAAC7B,UAAD,IAAeA,UAAU,CAAC7E,MAAX,IAAqB,CAAxC,EAA2C;AAC1C,sBAAIiF,KAAK,GAAG;AACXC,oBAAAA,IAAI,EAAEwB,QAAQ,CAACjC,MAAT,CAAgBS,IADX;AAEXC,oBAAAA,QAAQ,EAAEuB,QAAQ,CAACjC,MAAT,CAAgBU;AAFf,mBAAZ;AAKAN,kBAAAA,UAAU,GAAG,IAAIV,MAAJ,CAAW;AACvBsC,oBAAAA,mBAAmB,EAAE,IAAItC,MAAJ,CAAW;AAC/BM,sBAAAA,MAAM,EAAE,CAAEQ,KAAF;AADuB,qBAAX;AADE,mBAAX,CAAb;AAKAF,kBAAAA,KAAK,GAAG,IAAR;AACA,iBAZD,MAYO;AACN,sBAAIE,KAAK,GAAG;AACXC,oBAAAA,IAAI,EAAEwB,QAAQ,CAACjC,MAAT,CAAgBS,IADX;AAEXC,oBAAAA,QAAQ,EAAEuB,QAAQ,CAACjC,MAAT,CAAgBU;AAFf,mBAAZ;;AAKA,sBAAI,CAACN,UAAU,CAAC4B,mBAAZ,IAAmC5B,UAAU,CAAC4B,mBAAX,CAA+BzG,MAA/B,IAAyC,CAAhF,EAAmF;AAClF6E,oBAAAA,UAAU,GAAG,IAAIV,MAAJ,CAAW;AACvBsC,sBAAAA,mBAAmB,EAAE,IAAItC,MAAJ,CAAW;AAC/BM,wBAAAA,MAAM,EAAE,CAAEQ,KAAF;AADuB,uBAAX;AADE,qBAAX,CAAb;AAKA,mBAND,MAMO;AACNJ,oBAAAA,UAAU,CAAC4B,mBAAX,CAA+BhC,MAA/B,CAAsCvE,IAAtC,CAA2C+E,KAA3C;AACA;AACD;AACD,eA7BD;AA8BA;;AACD,gBAAIF,KAAJ,EAAW;AACV,kBAAItC,QAAQ,GAAG,MAAM9D,UAAU,CAACsD,MAAX,CAAkB4C,UAAlB,CAArB;AACA,aAFD,MAEO;AACNlG,cAAAA,UAAU,CAACc,OAAX,CAAmB;AAAEqF,gBAAAA,cAAc,EAAEzF;AAAlB,eAAnB,EAA4C,UAASkE,GAAT,EAAc8B,KAAd,EAAqB;AAChE,oBAAI,CAACA,KAAL,EAAY;AACXvC,kBAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,iBAFD,MAEO;AACN,sBAAI,CAACsC,KAAD,IAAUA,KAAK,CAACrF,MAAN,IAAgB,CAA9B,EAAiC;AAChCqF,oBAAAA,KAAK,GAAGR,UAAR;AACA,mBAFD,MAEO;AACNQ,oBAAAA,KAAK,CAACoB,mBAAN,GAA4B5B,UAAU,CAAC4B,mBAAvC;AACA;;AACDpB,kBAAAA,KAAK,CAACT,MAAN,CAAaS,KAAb,EAAoB3C,IAApB,CAA0BN,CAAD,IAAO,CAAE,CAAlC;AACA;AACD,eAXD;AAYA;;AACD4B,YAAAA,OAAO;AACP,WAhFqB,CAAtB;AAkFA;;AACA,cAAIsB,WAAW,GAAG,MAAM1G,kBAAkB,CAACe,IAAnB,CAAwB;AAAEmF,YAAAA,cAAc,EAAEzF;AAAlB,WAAxB,CAAxB;AACAG,UAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,cAAI0F,KAAK,GAAG,KAAZ;AACA,cAAIQ,OAAO,GAAG,MAAM,IAAIxB,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC1D,gBAAIzE,GAAG,CAACe,OAAJ,CAAYC,IAAZ,IAAoBhB,GAAG,CAACe,OAAJ,CAAYC,IAAZ,CAAiBR,MAAjB,GAA0B,CAAlD,EAAqD;AACpDR,cAAAA,GAAG,CAACe,OAAJ,CAAYC,IAAZ,CAAiBC,OAAjB,CAA0BD,IAAD,IAAU;AAClC,oBAAI8E,WAAW,KAAKrF,SAAhB,IAA6BqF,WAAW,KAAK,IAAjD,EAAuD;AACtD,sBAAIL,KAAK,GAAG;AACXO,oBAAAA,IAAI,EAAE,IAAIC,IAAJ,EADK;AAEXP,oBAAAA,IAAI,EAAE1E,IAAI,CAACiE,MAAL,CAAYS,IAFP;AAGXC,oBAAAA,QAAQ,EAAE3E,IAAI,CAACiE,MAAL,CAAYU;AAHX,mBAAZ;AAMAG,kBAAAA,WAAW,GAAG,IAAInB,MAAJ,CAAW;AACxBuB,oBAAAA,WAAW,EAAE,IAAIvB,MAAJ,CAAW;AACvBsC,sBAAAA,mBAAmB,EAAE,IAAItC,MAAJ,CAAW;AAC/BM,wBAAAA,MAAM,EAAE,CAAEQ,KAAF;AADuB,uBAAX;AADE,qBAAX;AADW,mBAAX,CAAd;AAOAF,kBAAAA,KAAK,GAAG,IAAR;AACA,iBAfD,MAeO;AACN,sBAAIE,KAAK,GAAG;AACXO,oBAAAA,IAAI,EAAE,IAAIC,IAAJ,EADK;AAEXP,oBAAAA,IAAI,EAAE1E,IAAI,CAACiE,MAAL,CAAYS,IAFP;AAGXC,oBAAAA,QAAQ,EAAE3E,IAAI,CAACiE,MAAL,CAAYU;AAHX,mBAAZ;;AAMA,sBACC,CAACG,WAAW,CAACI,WAAb,IACA,CAACJ,WAAW,CAACI,WAAZ,CAAwBe,mBADzB,IAEAnB,WAAW,CAACI,WAAZ,CAAwBe,mBAAxB,CAA4CzG,MAA5C,IAAsD,CAHvD,EAIE;AACDsF,oBAAAA,WAAW,GAAG,IAAInB,MAAJ,CAAW;AACxBuB,sBAAAA,WAAW,EAAE,IAAIvB,MAAJ,CAAW;AACvBsC,wBAAAA,mBAAmB,EAAE,IAAItC,MAAJ,CAAW;AAC/BM,0BAAAA,MAAM,EAAE,CAAEQ,KAAF;AADuB,yBAAX;AADE,uBAAX;AADW,qBAAX,CAAd;AAOA,mBAZD,MAYO;AACNK,oBAAAA,WAAW,CAACI,WAAZ,CAAwBe,mBAAxB,CAA4ChC,MAA5C,CAAmDvE,IAAnD,CAAwD+E,KAAxD;AACA;AACD;AACD,eAvCD;AAwCA,aAzCD,MAyCO,IAAIzF,GAAG,CAACe,OAAJ,CAAYmG,QAAZ,IAAwBlH,GAAG,CAACe,OAAJ,CAAYmG,QAAZ,CAAqB1G,MAArB,GAA8B,CAA1D,EAA6D;AACnER,cAAAA,GAAG,CAACe,OAAJ,CAAYmG,QAAZ,CAAqBjG,OAArB,CAA8BiG,QAAD,IAAc;AAC1C,oBAAIpB,WAAW,KAAKrF,SAAhB,IAA6BqF,WAAW,KAAK,IAAjD,EAAuD;AACtD,sBAAIL,KAAK,GAAG;AACXO,oBAAAA,IAAI,EAAE,IAAIC,IAAJ,EADK;AAEXP,oBAAAA,IAAI,EAAEwB,QAAQ,CAACjC,MAAT,CAAgBS,IAFX;AAGXC,oBAAAA,QAAQ,EAAEuB,QAAQ,CAACjC,MAAT,CAAgBU;AAHf,mBAAZ;AAMAG,kBAAAA,WAAW,GAAG,IAAInB,MAAJ,CAAW;AACxBuB,oBAAAA,WAAW,EAAE,IAAIvB,MAAJ,CAAW;AACvBsC,sBAAAA,mBAAmB,EAAE,IAAItC,MAAJ,CAAW;AAC/BM,wBAAAA,MAAM,EAAE,CAAEQ,KAAF;AADuB,uBAAX;AADE,qBAAX;AADW,mBAAX,CAAd;AAOAF,kBAAAA,KAAK,GAAG,IAAR;AACA,iBAfD,MAeO;AACN,sBAAIE,KAAK,GAAG;AACXO,oBAAAA,IAAI,EAAE,IAAIC,IAAJ,EADK;AAEXP,oBAAAA,IAAI,EAAEwB,QAAQ,CAACjC,MAAT,CAAgBS,IAFX;AAGXC,oBAAAA,QAAQ,EAAEuB,QAAQ,CAACjC,MAAT,CAAgBU;AAHf,mBAAZ;;AAMA,sBACC,CAACG,WAAW,CAACI,WAAb,IACA,CAACJ,WAAW,CAACI,WAAZ,CAAwBe,mBADzB,IAEAnB,WAAW,CAACI,WAAZ,CAAwBe,mBAAxB,CAA4CzG,MAA5C,IAAsD,CAHvD,EAIE;AACDsF,oBAAAA,WAAW,GAAG,IAAInB,MAAJ,CAAW;AACxBuB,sBAAAA,WAAW,EAAE,IAAIvB,MAAJ,CAAW;AACvBsC,wBAAAA,mBAAmB,EAAE,IAAItC,MAAJ,CAAW;AAC/BM,0BAAAA,MAAM,EAAE,CAAEQ,KAAF;AADuB,yBAAX;AADE,uBAAX;AADW,qBAAX,CAAd;AAOA,mBAZD,MAYO;AACNK,oBAAAA,WAAW,CAACI,WAAZ,CAAwBe,mBAAxB,CAA4ChC,MAA5C,CAAmDvE,IAAnD,CAAwD+E,KAAxD;AACA;AACD;AACD,eAvCD;AAwCA;;AACD,gBAAIF,KAAJ,EAAW;AACV,kBAAItC,QAAQ,GAAG,MAAM7D,kBAAkB,CAACqD,MAAnB,CAA0BqD,WAA1B,CAArB;AACA,aAFD,MAEO;AACN1G,cAAAA,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,gBAAAA,cAAc,EAAEzF;AAAlB,eAA3B,EAAoD,UAASkE,GAAT,EAAcoC,KAAd,EAAqB;AACxE,oBAAI,CAACA,KAAL,EAAY7C,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJ,sBAAI4C,KAAK,KAAK1F,SAAV,IAAuB0F,KAAK,KAAK,IAArC,EAA2C;AAC1CA,oBAAAA,KAAK,GAAGL,WAAR;AACA,mBAFD,MAEO;AACNK,oBAAAA,KAAK,CAACD,WAAN,CAAkBe,mBAAlB,GACCnB,WAAW,CAACI,WAAZ,CAAwBe,mBADzB;AAEA;;AACDd,kBAAAA,KAAK,CAACf,MAAN,CAAae,KAAb,EAAoBjD,IAApB,CAA0BN,CAAD,IAAO,CAAE,CAAlC;AACA;AACD,eAXD;AAYA;;AACD4B,YAAAA,OAAO;AACP,WArGmB,CAApB;AAsGA,SAlND,MAkNO;AACN,cAAInC,KAAK,CAACrB,IAAN,KAAeP,SAAf,IAA4B4B,KAAK,CAACrB,IAAN,CAAWR,MAAX,GAAoB,CAApD,EAAuD;AACtD,iBAAKD,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG8B,KAAK,CAACrB,IAAN,CAAWR,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACvC,kBAAI2E,KAAK,GAAG,MAAMlF,GAAG,CAACe,OAAJ,CAAYC,IAAZ,CAAiBb,IAAjB,CAAuByC,CAAD,IAAOA,CAAC,CAAC/C,GAAF,IAASwC,KAAK,CAACrB,IAAN,CAAWT,CAAX,EAAcV,GAApD,CAAlB;;AACA,kBAAIqF,KAAJ,EAAW;AACVA,gBAAAA,KAAK,CAACyB,GAAN,CAAUtE,KAAK,CAACrB,IAAN,CAAWT,CAAX,CAAV;AACA,sBAAMP,GAAG,CAACoF,MAAJ,CAAWpF,GAAX,EAAgBkD,IAAhB,CAAqBI,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAArB,CAAN;AACA,eAHD,MAGO;AACN,sBAAMvD,GAAG,CAACe,OAAJ,CAAYC,IAAZ,CAAiBN,IAAjB,CAAsB2B,KAAK,CAACrB,IAAN,CAAWT,CAAX,CAAtB,CAAN;AACA,sBAAMP,GAAG,CAACoF,MAAJ,CAAWpF,GAAX,EAAgBkD,IAAhB,CAAqBI,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAArB,CAAN;AACA;;AACDvD,cAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AAEA;;AACA,kBAAIwF,UAAU,GAAG,MAAMlG,UAAU,CAACc,OAAX,CAAmB;AAAEqF,gBAAAA,cAAc,EAAEzF;AAAlB,eAAnB,CAAvB;AACA,kBAAI2G,OAAO,GAAG,MAAM,IAAIjC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpD,oBAAIpC,KAAK,CAACrB,IAAN,KAAeP,SAAf,IAA4B4B,KAAK,CAACrB,IAAN,CAAWR,MAAX,GAAoB,CAApD,EAAuD;AACtD,sBAAIuG,OAAO,GAAGtG,SAAd;;AACA,uBAAK6F,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGjB,UAAU,CAAC4B,mBAAX,CAA+BhC,MAA/B,CAAsCzE,MAAtD,EAA8D8F,CAAC,EAA/D,EAAmE;AAClE,wBACCjB,UAAU,CAAC4B,mBAAX,CAA+BhC,MAA/B,CAAsCqB,CAAtC,EAAyCZ,IAAzC,KAAkDrD,KAAK,CAACrB,IAAN,CAAWT,CAAX,EAAc0E,MAAd,CAAqBS,IADxE,EAEE;AACDqB,sBAAAA,OAAO,GAAG1B,UAAU,CAAC4B,mBAAX,CAA+BhC,MAA/B,CAAsCqB,CAAtC,CAAV;AACA;AACD;;AACD,sBAAIS,OAAJ,EAAa;AACZA,oBAAAA,OAAO,CAACJ,GAAR,CAAYtE,KAAK,CAACrB,IAAN,CAAWT,CAAX,EAAc0E,MAA1B;AACA,mBAFD,MAEO;AACNI,oBAAAA,UAAU,CAAC4B,mBAAX,CAA+BhC,MAA/B,CAAsCvE,IAAtC,CAA2C2B,KAAK,CAACrB,IAAN,CAAWT,CAAX,EAAc0E,MAAzD;AACA;AACD;;AACD9F,gBAAAA,UAAU,CAACc,OAAX,CAAmB;AAAEqF,kBAAAA,cAAc,EAAEzF;AAAlB,iBAAnB,EAA4C,UAASkE,GAAT,EAAc8B,KAAd,EAAqB;AAChE,sBAAI,CAACA,KAAL,EAAYvC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJsC,oBAAAA,KAAK,CAACoB,mBAAN,GAA4B5B,UAAU,CAAC4B,mBAAvC;AACApB,oBAAAA,KAAK,CAACT,MAAN,CAAaS,KAAb,EAAoB3C,IAApB,CAA0BN,CAAD,IAAO;AAC/B4B,sBAAAA,OAAO;AACP,qBAFD;AAGA;AACD,iBARD;AASA,eAzBmB,CAApB;AA2BA;;AACAxE,cAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,kBAAIiG,WAAW,GAAG,MAAM1G,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,gBAAAA,cAAc,EAAEzF;AAAlB,eAA3B,CAAxB;AACA,kBAAI2G,OAAO,GAAG,MAAM,IAAIjC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpD,oBAAIpC,KAAK,CAACrB,IAAN,KAAeP,SAAf,IAA4B4B,KAAK,CAACrB,IAAN,CAAWR,MAAX,GAAoB,CAApD,EAAuD;AACtDsF,kBAAAA,WAAW,CAACI,WAAZ,CAAwBe,mBAAxB,CAA4ChC,MAA5C,CAAmDvE,IAAnD,CAAwD2B,KAAK,CAACrB,IAAN,CAAWT,CAAX,EAAc0E,MAAtE;AACA;;AACD7F,gBAAAA,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,kBAAAA,cAAc,EAAEzF;AAAlB,iBAA3B,EAAoD,UAASkE,GAAT,EAAcoC,KAAd,EAAqB;AACxE,sBAAI,CAACA,KAAL,EAAY7C,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJ4C,oBAAAA,KAAK,CAACD,WAAN,CAAkBe,mBAAlB,GACCnB,WAAW,CAACI,WAAZ,CAAwBe,mBADzB;AAEAd,oBAAAA,KAAK,CAACf,MAAN,CAAae,KAAb,EAAoBjD,IAApB,CAA0BN,CAAD,IAAO;AAC/B4B,sBAAAA,OAAO;AACP,qBAFD;AAGA;AACD,iBATD;AAUA,eAdmB,CAApB;AAeAxE,cAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA;AACD,WA7DD,MA6DO,IAAIwC,KAAK,CAAC6E,QAAN,KAAmBzG,SAAnB,IAAgC4B,KAAK,CAAC6E,QAAN,CAAe1G,MAAf,GAAwB,CAA5D,EAA+D;AACrE,iBAAKD,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG8B,KAAK,CAAC6E,QAAN,CAAe1G,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AAC3C,kBAAI2E,KAAK,GAAG,MAAMlF,GAAG,CAACe,OAAJ,CAAYmG,QAAZ,CAAqB/G,IAArB,CAA2ByC,CAAD,IAAOA,CAAC,CAAC/C,GAAF,IAASwC,KAAK,CAAC6E,QAAN,CAAe3G,CAAf,EAAkBV,GAA5D,CAAlB;;AACA,kBAAIqF,KAAJ,EAAW;AACVA,gBAAAA,KAAK,CAACyB,GAAN,CAAUtE,KAAK,CAAC6E,QAAN,CAAe3G,CAAf,CAAV;AACA,sBAAMP,GAAG,CAACoF,MAAJ,CAAWpF,GAAX,EAAgBkD,IAAhB,CAAqBI,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAArB,CAAN;AACA,eAHD,MAGO;AACN,sBAAMvD,GAAG,CAACe,OAAJ,CAAYmG,QAAZ,CAAqBxG,IAArB,CAA0B2B,KAAK,CAAC6E,QAAN,CAAe3G,CAAf,CAA1B,CAAN;AACA,sBAAMP,GAAG,CAACoF,MAAJ,CAAWpF,GAAX,EAAgBkD,IAAhB,CAAqBI,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAArB,CAAN;AACA;;AACDvD,cAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AAEA;;AACA,kBAAIwF,UAAU,GAAG,MAAMlG,UAAU,CAACc,OAAX,CAAmB;AAAEqF,gBAAAA,cAAc,EAAEzF;AAAlB,eAAnB,CAAvB;AACA,kBAAI2G,OAAO,GAAG,MAAM,IAAIjC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpD,oBAAIpC,KAAK,CAAC6E,QAAN,KAAmBzG,SAAnB,IAAgC4B,KAAK,CAAC6E,QAAN,CAAe1G,MAAf,GAAwB,CAA5D,EAA+D;AAC9D,sBAAIuG,OAAO,GAAGtG,SAAd;;AACA,uBAAK6F,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGjB,UAAU,CAAC4B,mBAAX,CAA+BhC,MAA/B,CAAsCzE,MAAtD,EAA8D8F,CAAC,EAA/D,EAAmE;AAClE,wBACCjB,UAAU,CAAC4B,mBAAX,CAA+BhC,MAA/B,CAAsCqB,CAAtC,EAAyCZ,IAAzC,KACArD,KAAK,CAAC6E,QAAN,CAAe3G,CAAf,EAAkB0E,MAAlB,CAAyBS,IAF1B,EAGE;AACDqB,sBAAAA,OAAO,GAAG1B,UAAU,CAAC4B,mBAAX,CAA+BhC,MAA/B,CAAsCqB,CAAtC,CAAV;AACA;AACD;;AACD,sBAAIS,OAAJ,EAAa;AACZA,oBAAAA,OAAO,CAACJ,GAAR,CAAYtE,KAAK,CAAC6E,QAAN,CAAe3G,CAAf,EAAkB0E,MAA9B;AACA,mBAFD,MAEO;AACNI,oBAAAA,UAAU,CAAC4B,mBAAX,CAA+BhC,MAA/B,CAAsCvE,IAAtC,CAA2C2B,KAAK,CAAC6E,QAAN,CAAe3G,CAAf,EAAkB0E,MAA7D;AACA;AACD;;AAED9F,gBAAAA,UAAU,CAACc,OAAX,CAAmB;AAAEqF,kBAAAA,cAAc,EAAEzF;AAAlB,iBAAnB,EAA4C,UAASkE,GAAT,EAAc8B,KAAd,EAAqB;AAChE,sBAAI,CAACA,KAAL,EAAYvC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJsC,oBAAAA,KAAK,CAACoB,mBAAN,GAA4B5B,UAAU,CAAC4B,mBAAvC;AACApB,oBAAAA,KAAK,CAACT,MAAN,CAAaS,KAAb,EAAoB3C,IAApB,CAA0BN,CAAD,IAAO;AAC/B4B,sBAAAA,OAAO;AACP,qBAFD;AAGA;AACD,iBARD;AASA,eA3BmB,CAApB;AA6BA;;AACAxE,cAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA,kBAAIiG,WAAW,GAAG,MAAM1G,kBAAkB,CAACa,OAAnB,EAAxB;AACA,kBAAIuG,OAAO,GAAG,MAAM,IAAIjC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpD,oBAAIpC,KAAK,CAAC6E,QAAN,KAAmBzG,SAAnB,IAAgC4B,KAAK,CAAC6E,QAAN,CAAe1G,MAAf,GAAwB,CAA5D,EAA+D;AAC9DsF,kBAAAA,WAAW,CAACI,WAAZ,CAAwBe,mBAAxB,CAA4ChC,MAA5C,CAAmDvE,IAAnD,CAAwD2B,KAAK,CAAC6E,QAAN,CAAe3G,CAAf,EAAkB0E,MAA1E;AACA;;AAED7F,gBAAAA,kBAAkB,CAACa,OAAnB,CAA2B;AAAEqF,kBAAAA,cAAc,EAAEzF;AAAlB,iBAA3B,EAAoD,UAASkE,GAAT,EAAcoC,KAAd,EAAqB;AACxE,sBAAI,CAACA,KAAL,EAAY7C,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAZ,KACK;AACJ4C,oBAAAA,KAAK,CAACD,WAAN,CAAkBe,mBAAlB,GACCnB,WAAW,CAACI,WAAZ,CAAwBe,mBADzB;AAEAd,oBAAAA,KAAK,CAACf,MAAN,CAAae,KAAb,EAAoBjD,IAApB,CAA0BN,CAAD,IAAO;AAC/B4B,sBAAAA,OAAO;AACP,qBAFD;AAGA;AACD,iBATD;AAUA,eAfmB,CAApB;AAgBAxE,cAAAA,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAZ;AACA;AACD;AACD;;AACD,cAAMgD,OAAO,CAACO,iBAAR,EAAN;AACA,cAAMP,OAAO,CAACQ,UAAR,EAAN;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AAEA,YAAIvD,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;AACA,eAAOG,GAAG,CAACe,OAAX;AACA,OA3VD,CA2VE,OAAOyC,KAAP,EAAc;AACf,cAAMX,OAAO,CAACY,gBAAR,EAAN;AACA,cAAMZ,OAAO,CAACQ,UAAR,EAAN;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,eAAO,IAAIf,KAAJ,CAAU,QAAV,CAAP;AACA;AACD,KAxjCQ;;AAyjCT,UAAM2E,4BAAN,CAAmCvH,IAAnC,EAAyC;AAAEC,MAAAA,GAAF;AAAOwC,MAAAA;AAAP,KAAzC,EAAyD,CAAE,CAzjClD;;AA0jCT,UAAM+E,sBAAN,CAA6BxH,IAA7B,EAAmC;AAAEC,MAAAA,GAAF;AAAOwC,MAAAA;AAAP,KAAnC,EAAmD;AAClD,UAAI;AACH,YAAImE,OAAO,GAAG,MAAM,IAAIjC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpD,cAAIzE,GAAG,GAAGjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,EAAwB,UAASkE,GAAT,EAAcC,IAAd,EAAoB;AACrD,gBAAID,GAAJ,EAAS;AACRU,cAAAA,MAAM,CAACR,IAAI,CAAC,IAAIzB,KAAJ,CAAU,QAAV,CAAD,CAAL,CAAN;AACA,aAFD,MAEO;AACN,mBAAK,IAAIjC,CAAC,GAAG,CAAb,EAAgB8B,KAAK,CAAC7B,MAAN,GAAeD,CAA/B,EAAkCA,CAAC,EAAnC,EAAuC;AACtC,oBAAI8B,KAAK,CAAC9B,CAAD,CAAL,CAASV,GAAb,EAAkB;AACjBqB,kBAAAA,KAAK,GAAG8C,IAAI,CAACzC,SAAL,CAAe2C,SAAf,CAA0BtB,CAAD,IAAOA,CAAC,CAAC/C,GAAF,IAASwC,KAAK,CAAC9B,CAAD,CAAL,CAASV,GAAlD,CAAR;AACAmE,kBAAAA,IAAI,CAACzC,SAAL,CAAeL,KAAf,IAAwBmB,KAAK,CAAC9B,CAAD,CAA7B;AACA,iBAHD,MAGO;AACNyD,kBAAAA,IAAI,CAACzC,SAAL,CAAeb,IAAf,CAAoB2B,KAAK,CAAC9B,CAAD,CAAzB;AACA;AACD;;AACDyD,cAAAA,IAAI,CAACG,IAAL;AACAK,cAAAA,OAAO,CAACR,IAAD,CAAP;AACA;AACD,WAfS,CAAV;AAgBA,SAjBmB,CAApB;AAmBA,YAAIhE,GAAG,GAAG,MAAMjB,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAhB;AACA,eAAOG,GAAG,CAACuB,SAAX;AACA,OAtBD,CAsBE,OAAOiC,KAAP,EAAc;AACf,cAAM,IAAIhB,KAAJ,CAAU,QAAV,CAAN;AACA;AACD;;AAplCQ;AArHkB,CAA7B;;AA6sCA,eAAeW,KAAf,CAAqBtD,GAArB,EAA0BmD,EAA1B,EAA8BL,eAA9B,EAA+C;AAC9C,MAAI0E,MAAM,GAAG;AACZC,IAAAA,OAAO,EAAEtE;AADG,GAAb;;AAGA,MAAIL,eAAe,KAAKrD,cAAc,CAACP,SAAvC,EAAkD;AACjD,QAAIU,SAAS,GAAG,MAAMV,SAAS,CAACe,QAAV,CAAmBD,GAAnB,CAAtB;;AACA,QAAIJ,SAAS,CAACa,KAAV,KAAoBG,SAApB,IAAiChB,SAAS,CAACa,KAAV,CAAgBE,MAAhB,IAA0B,CAA/D,EAAkE;AACjEf,MAAAA,SAAS,CAAC,OAAD,CAAT,GAAqB,CAAE4H,MAAF,CAArB;AACA,KAFD,MAEO;AACN5H,MAAAA,SAAS,CAACa,KAAV,CAAgBI,IAAhB,CAAqB2G,MAArB;AACA;;AACDtI,IAAAA,SAAS,CAACkB,OAAV,CAAkBJ,GAAlB,EAAuB,UAASkE,GAAT,EAAcwD,IAAd,EAAoB;AAC1C,UAAI,CAACA,IAAL,EAAWjE,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAX,KACK;AACJgE,QAAAA,IAAI,CAACjH,KAAL,GAAab,SAAS,CAACa,KAAvB;AACAiH,QAAAA,IAAI,CAACnC,MAAL,CAAYmC,IAAZ,EAAkBrE,IAAlB,CAAwBN,CAAD,IAAO,CAAE,CAAhC;AACA;AACD,KAND;AAOA,GAdD,MAcO,IAAID,eAAe,KAAKrD,cAAc,CAACJ,QAAvC,EAAiD;AACvD,QAAI4B,QAAQ,GAAG,MAAM5B,QAAQ,CAACY,QAAT,CAAkBD,GAAlB,CAArB;;AACA,QAAIiB,QAAQ,CAACR,KAAT,KAAmBG,SAAnB,IAAgCK,QAAQ,CAACR,KAAT,CAAeE,MAAf,IAAyB,CAA7D,EAAgE;AAC/DM,MAAAA,QAAQ,CAAC,OAAD,CAAR,GAAoB,CAAEuG,MAAF,CAApB;AACA,KAFD,MAEO;AACNvG,MAAAA,QAAQ,CAACR,KAAT,CAAeI,IAAf,CAAoB2G,MAApB;AACA;;AACDnI,IAAAA,QAAQ,CAACe,OAAT,CAAiBJ,GAAjB,EAAsB,UAASkE,GAAT,EAAcyD,IAAd,EAAoB;AACzC,UAAI,CAACA,IAAL,EAAWlE,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAX,KACK;AACJiE,QAAAA,IAAI,CAAClH,KAAL,GAAaQ,QAAQ,CAACR,KAAtB;AACAkH,QAAAA,IAAI,CAACpC,MAAL,CAAYoC,IAAZ,EAAkBtE,IAAlB,CAAwBN,CAAD,IAAO,CAAE,CAAhC;AACA;AACD,KAND;AAOA,GAdM,MAcA;AACN,QAAI/B,WAAW,GAAG,MAAM5B,WAAW,CAACa,QAAZ,CAAqBD,GAArB,CAAxB;;AACA,QAAIgB,WAAW,CAACP,KAAZ,KAAsBG,SAAtB,IAAmCI,WAAW,CAACP,KAAZ,CAAkBE,MAAlB,IAA4B,CAAnE,EAAsE;AACrEK,MAAAA,WAAW,CAAC,OAAD,CAAX,GAAuB,CAAEwG,MAAF,CAAvB;AACA,KAFD,MAEO;AACNxG,MAAAA,WAAW,CAACP,KAAZ,CAAkBI,IAAlB,CAAuB2G,MAAvB;AACA;;AACD,UAAMpI,WAAW,CAACa,QAAZ,CAAqBD,GAArB,EAA0B,UAASkE,GAAT,EAAcC,IAAd,EAAoB;AACnD,UAAI,CAACA,IAAL,EAAWV,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAX,KACK;AACJS,QAAAA,IAAI,CAAC1D,KAAL,GAAaO,WAAW,CAACP,KAAzB;AACA0D,QAAAA,IAAI,CAACoB,MAAL,CAAYpB,IAAZ,EAAkBd,IAAlB,CAAwBN,CAAD,IAAO,CAAE,CAAhC;AACA;AACD,KANK,CAAN;AAOA;AACD",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\collector\\Mutation",
      "sourcesContent": [
        "var Collector = require('../../../models/collector.model');\r\nvar Corporation = require('../../../models/corporation.model');\r\nvar Provider = require('../../../models/provider.model');\r\nvar CheckPoint = require('../../../models/checkpoint.model');\r\nvar TransactionHistory = require('../../../models/transactionhistory.model');\r\nmongoose = require('mongoose');\r\n\r\nvar Classification = {\r\n\tProvider: 'Fornecedor',\r\n\tCollector: 'Empresa Coletora'\r\n};\r\n\r\nmodule.exports = collector = {\r\n\tQuery: {\r\n\t\tasync getCollector(root, { _id }) {\r\n\t\t\treturn await Collector.findById(_id);\r\n\t\t},\r\n\t\tasync getCollectorByUser(root, { _id }) {\r\n\t\t\tvar res = await Collector.findOne({ 'users._id': _id });\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn null;\r\n\t\t\t} else {\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allCollectors(root, { _id }) {\r\n\t\t\treturn await Collector.find();\r\n\t\t},\r\n\t\tasync allUnits(root, { _id }) {\r\n\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\tvar unit;\r\n\t\t\t\tvar units = [];\r\n\t\t\t\tfor (var i = 0; res.units.length > i; i++) {\r\n\t\t\t\t\tunit = undefined;\r\n\t\t\t\t\tunit = await Collector.findById(res.units[i]._id);\r\n\t\t\t\t\tif (!unit) {\r\n\t\t\t\t\t\tunit = await Corporation.findById(res.units[i]._id);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!unit) {\r\n\t\t\t\t\t\tunit = await Provider.findById(res.units[i]._id);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tunits.push(unit);\r\n\t\t\t\t}\r\n\t\t\t\treturn units;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allClientsToCollector(root, { _id }) {\r\n\t\t\tvar clients = [];\r\n\t\t\tvar corporation = await Corporation.findOne({ 'entries.sale._idColector': _id });\r\n\t\t\tvar provider = await Provider.findOne({ 'entries.sale._idColector': _id });\r\n\t\t\tif (corporation) {\r\n\t\t\t\tcorporation.entries.sale.forEach((sale, index) => {\r\n\t\t\t\t\tif (sale._idColector !== _id) {\r\n\t\t\t\t\t\tsales.splice(index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tclients.push(corporation);\r\n\t\t\t}\r\n\t\t\tif (provider) {\r\n\t\t\t\tprovider.entries.sale.forEach((sale, index) => {\r\n\t\t\t\t\tif (sale._idColector !== _id) {\r\n\t\t\t\t\t\tsales.splice(index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tclients.push(provider);\r\n\t\t\t}\r\n\t\t\treturn clients;\r\n\t\t},\r\n\t\tasync allDocuments(root, { _id }) {\r\n\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.documents;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allDepartments(root, { _id }) {\r\n\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.departments;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allResiduesRegister(root, { _id }) {\r\n\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.residuesRegister;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allResidueArrived(root, { _id }) {\r\n\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.residuesPerformed;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allSchedulings(root, { _id }) {\r\n\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.scheduling;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allEntries(root, { _id }) {\r\n\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.entries;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allProvidersId(root, { _id }) {\r\n\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.myProviders;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tMutation: {\r\n\t\tasync createCollector(root, { input }) {\r\n\t\t\tvar res = await Collector.findOne({ 'users.email': input.users[0].email });\r\n\t\t\tif (res) {\r\n\t\t\t\tthrow new Error('WRE005');\r\n\t\t\t} else {\r\n\t\t\t\treturn await Collector.create(input);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync createCollectorUnit(root, { _id, typeCorporation, input }) {\r\n\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\tfor (var x = 0; res.units.length > x; x++) {\r\n\t\t\t\t\tif (input[i].users[0].email === res.units[x].email) {\r\n\t\t\t\t\t\tthrow new Error('WRE005');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst session = await mongoose.startSession();\r\n\t\t\ttry {\r\n\t\t\t\tsession.startTransaction();\r\n\t\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\t\tvar id = undefined;\r\n\t\t\t\t\tvar returned = await Corporation.create(input[i]).then((x) => {\r\n\t\t\t\t\t\tid = x._id;\r\n\t\t\t\t\t});\r\n\t\t\t\t\taddID(_id, id, typeCorporation);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait session.commitTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log('resolved');\r\n\t\t\t\treturn await Collector.findById(_id);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tawait session.abortTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log('aborting');\r\n\t\t\t\treturn new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync updateCollector(root, { _id, input }) {\r\n\t\t\treturn await Collector.findOneAndUpdate(\r\n\t\t\t\t{\r\n\t\t\t\t\t_id\r\n\t\t\t\t},\r\n\t\t\t\tinput,\r\n\t\t\t\t{\r\n\t\t\t\t\tnew: true\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tasync deleteCollector(root, { _id }) {\r\n\t\t\t// return await Collector.findOneAndRemove({\r\n\t\t\t// \t_id\r\n\t\t\t// });\r\n\t\t},\r\n\r\n\t\tasync createorUpdateDepartment(root, { _id, input }) {\r\n\t\t\ttry {\r\n\t\t\t\tres = await Collector.findById(_id, function(err, corp) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\treturn next(new Error('ERE009'));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\t\t\t\tif (input[i]._id) {\r\n\t\t\t\t\t\t\t\tindex = corp.departments.findIndex((x) => x._id == input[i]._id);\r\n\t\t\t\t\t\t\t\tif (index) {\r\n\t\t\t\t\t\t\t\t\tcorp.departments[index] = input[i];\r\n\t\t\t\t\t\t\t\t} else if (!corp.departments || corp.departments.length <= 0) {\r\n\t\t\t\t\t\t\t\t\tcorp.departments = [ input[i] ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (!corp.departments || corp.departments.length <= 0) {\r\n\t\t\t\t\t\t\t\t\tcorp.departments = [ input[i] ];\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcorp.departments.push(input[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcorp.save();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\t\treturn res.departments;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthrow new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync createorUpdateResiduesRegister(root, { _id, input }) {\r\n\t\t\tconst session = await mongoose.startSession();\r\n\t\t\ttry {\r\n\t\t\t\tsession.startTransaction();\r\n\t\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\t\tvar returnElement;\r\n\t\t\t\tif (\r\n\t\t\t\t\t!res.residuesRegister ||\r\n\t\t\t\t\t!res.residuesRegister.departments ||\r\n\t\t\t\t\tres.residuesRegister.departments.length <= 0\r\n\t\t\t\t) {\r\n\t\t\t\t\tvar elementSaved;\r\n\t\t\t\t\treturnElement = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tCollector.findById(_id, function(err, corp) {\r\n\t\t\t\t\t\t\tif (!corp) console.log('ERE009');\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tinput.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!res.residuesRegister ||\r\n\t\t\t\t\t\t\t\t\t\t!res.residuesRegister.departments ||\r\n\t\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\tres['residuesRegister'] = new Object();\r\n\t\t\t\t\t\t\t\t\t\tvar depart = {\r\n\t\t\t\t\t\t\t\t\t\t\t_id: department._id,\r\n\t\t\t\t\t\t\t\t\t\t\tname: department.name,\r\n\t\t\t\t\t\t\t\t\t\t\tisChanged: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: department.description,\r\n\t\t\t\t\t\t\t\t\t\t\tactive: department.active,\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: []\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tres['residuesRegister']['departments'] = [ depart ];\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tvar depart = {\r\n\t\t\t\t\t\t\t\t\t\t\t_id: department._id,\r\n\t\t\t\t\t\t\t\t\t\t\tname: department.name,\r\n\t\t\t\t\t\t\t\t\t\t\tisChanged: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: department.description,\r\n\t\t\t\t\t\t\t\t\t\t\tactive: department.active,\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: []\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tvar exist = res.residuesRegister.departments.find(\r\n\t\t\t\t\t\t\t\t\t\t\t(x) => x.name === depart.name\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\tif (!exist) {\r\n\t\t\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.push(depart);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tinput.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((departmentDB) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (department.name === departmentDB.name) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdepartmentDB.qrCode.push(qrCode);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tcorp.residuesRegister = res.residuesRegister;\r\n\t\t\t\t\t\t\t\tcorp.update(corp).then((x) => {\r\n\t\t\t\t\t\t\t\t\tresolve(corp);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\tvar checkpoin = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\tif (!checkpoint) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t_idCorporation: _id,\r\n\t\t\t\t\t\t\t\t\t\twastegenerated: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (!checkpoint.wastegenerated || checkpoint.wastegenerated.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t_idCorporation: _id,\r\n\t\t\t\t\t\t\t\t\t\t\twastegenerated: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await CheckPoint.create(checkpoint);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tCheckPoint.findOne(function(err, check) {\r\n\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (!check || check.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheck = check;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheck.wastegenerated = checkpoint.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/*Gerando historico */\r\n\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\tvar history = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\tif (!transaction) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t_idCorporation: _id,\r\n\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\twastegenerated: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.wastegenerated === undefined ||\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.wastegenerated.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t_idCorporation: _id,\r\n\t\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\twastegenerated: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await TransactionHistory.create(transaction);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tTransactionHistory.findOne(function(err, trans) {\r\n\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (trans === undefined || trans.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\ttrans = transaction;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.wastegenerated = transaction.checkPoints.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar removed = false;\r\n\t\t\t\t\tfor (i = 0; input.departments.length > i; i++) {\r\n\t\t\t\t\t\tif (input.departments[i].isChanged) {\r\n\t\t\t\t\t\t\tvar existRemoved = false;\r\n\t\t\t\t\t\t\t/*verifica se existe mudança de departamento e exclui o item que esta salvo no departamento antigo para depois inserir no novo\r\n\t\t\t\t\t\tSe por acaso o usuário modificou, mas voltou ao antigo ele apenas não exclui e retorn\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\tfor (y = 0; y < input.departments[i].qrCode.length; y++) {\r\n\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department, index) => {\r\n\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode, indexQrCode) => {\r\n\t\t\t\t\t\t\t\t\t\tif (input.departments[i]._id !== department._id) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (qrCode.code === input.departments[i].qrCode[y].code) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdepartment.qrCode.splice(indexQrCode, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t//se não tem mais qrcode remove o departamento\r\n\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department, index) => {\r\n\t\t\t\t\t\t\t\t\tif (!department || !department.qrCode || department.qrCode.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinput.departments[i].isChanged = false;\r\n\t\t\t\t\t\t\tremoved = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tawait res.update(res).then(console.log('ok removed from old'));\r\n\t\t\t\t\tres = await Collector.findById(_id);\r\n\r\n\t\t\t\t\tfor (i = 0; input.departments.length > i; i++) {\r\n\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\tvar exist = await res.residuesRegister.departments.find(\r\n\t\t\t\t\t\t\t(x) => x._id == input.departments[i]._id\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tif (exist === undefined || exist.length <= 0) {\r\n\t\t\t\t\t\t\tawait res.residuesRegister.departments.push(input.departments[i]);\r\n\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push in department'));\r\n\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\r\n\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\tif (input.departments[i].name === department.name) {\r\n\t\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.push(qrCode);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tcheck.wastegenerated = checkpoint.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\t\tvar transaction = TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar history = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\tif (input.departments[i].name === department.name) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (q = 0; input.departments[i].qrCode.length > q; q++) {\r\n\t\t\t\t\t\t\t\tvar isUpdated = false;\r\n\t\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\t\t\tif (input.departments[i].qrCode[q]._id) {\r\n\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (qrCode.code == input.departments[i].qrCode[q].code) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode.set(input.departments[i].qrCode[q]);\r\n\t\t\t\t\t\t\t\t\t\t\t\tisUpdated = true;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tif (isUpdated) {\r\n\t\t\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok set qr codes'));\r\n\t\t\t\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\t\t\t\t\tisUpdated = false;\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (qrCode.code == input.departments[i].qrCode[q].code) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode.set(input.departments[i].qrCode[q]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcheck.wastegenerated = checkpoint.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\t\t\t\t\tvar history = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tcode: input.departments[i].qrCode[q].code,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaterial: input.departments[i].qrCode[q].material\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\t\tif (input.departments[i]._id == department._id) {\r\n\t\t\t\t\t\t\t\t\t\t\tdepartment.qrCode.push(input.departments[i].qrCode[q]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push to exist department'));\r\n\t\t\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\r\n\t\t\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\t\t\tvar isPushed = false;\r\n\t\t\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.forEach((qrCode, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!isPushed) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.push(input.departments[i].qrCode[q]);\r\n\t\t\t\t\t\t\t\t\t\t\t\tisPushed = true;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcheck.wastegenerated = checkpoint.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\t\t\tvar history = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\t\tcode: input.departments[i].qrCode[q].code,\r\n\t\t\t\t\t\t\t\t\t\t\tmaterial: input.departments[i].qrCode[q].material\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait session.commitTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log('resolved');\r\n\r\n\t\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\t\treturn res.residuesRegister;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tawait session.abortTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log('aborting');\r\n\t\t\t\treturn new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync createorUpdateScheduling(root, { _id, input }) {\r\n\t\t\tconst session = await mongoose.startSession();\r\n\t\t\ttry {\r\n\t\t\t\tsession.startTransaction();\r\n\t\t\t\tvar res = await Collector.findById(_id);\r\n\r\n\t\t\t\tif (!res.scheduling || res.scheduling.length <= 0) {\r\n\t\t\t\t\treturnElement = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tCollector.findById(_id, function(err, corp) {\r\n\t\t\t\t\t\t\tif (!corp) console.log('ERE009');\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tinput.forEach((scheduling) => {\r\n\t\t\t\t\t\t\t\t\tif (res.scheduling === undefined || res.scheduling.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tres.scheduling = [ scheduling ];\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tres.scheduling.push(scheduling);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tcorp.scheduling = res.scheduling;\r\n\t\t\t\t\t\t\tcorp.update(corp).then((x) => {\r\n\t\t\t\t\t\t\t\tresolve(corp);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tvar checkpoin = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tres.scheduling.forEach((scheduling) => {\r\n\t\t\t\t\t\t\tscheduling.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\tif (!checkpoint) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcollectionrequested: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (!checkpoint.collectionrequested || checkpoint.collectionrequested.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionrequested: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionrequested.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await CheckPoint.create(checkpoint);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (!check || check.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheck = check;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheck.collectionrequested = checkpoint.collectionrequested;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/*Gerando historico */\r\n\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tvar history = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tres.scheduling.forEach((scheduling) => {\r\n\t\t\t\t\t\t\tscheduling.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\tif (!transaction) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionrequested: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints ||\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints.collectionrequested ||\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionrequested.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcollectionrequested: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionrequested.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await TransactionHistory.create(transaction);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (!trans || trans.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\ttrans = transaction;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionrequested =\r\n\t\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionrequested;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\t\t\tvar exist = await res.scheduling.find((x) => x._id == input[i]._id);\r\n\r\n\t\t\t\t\t\tif (!exist || exist.length <= 0) {\r\n\t\t\t\t\t\t\tres.scheduling.push(input[i]);\r\n\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push scheduling'));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\texist.set(input[i]);\r\n\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok set scheduling'));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\r\n\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\tfor (var x = 0; input[i].qrCode.length > x; x++) {\r\n\t\t\t\t\t\t\t\tvar existQr = undefined;\r\n\t\t\t\t\t\t\t\tfor (y = 0; y < checkpoint.collectionrequested.qrCode.length; y++) {\r\n\t\t\t\t\t\t\t\t\tif (checkpoint.collectionrequested.qrCode[y].code === input[i].qrCode[x].code) {\r\n\t\t\t\t\t\t\t\t\t\texistQr = checkpoint.collectionrequested.qrCode[y];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (existQr) {\r\n\t\t\t\t\t\t\t\t\texistQr.set(input[i].qrCode[x]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcheckpoint.collectionrequested.qrCode.push(input[i].qrCode[x]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tcheck.collectionrequested = checkpoint.collectionrequested;\r\n\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\tfor (var x = 0; input[i].qrCode.length > x; x++) {\r\n\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionrequested.qrCode.push(input[i].qrCode[x]);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionrequested = transaction.checkPoints.collectionrequested;\r\n\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait session.commitTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log('resolved');\r\n\r\n\t\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\t\treturn res.scheduling;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tawait session.abortTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log('aborting');\r\n\t\t\t\treturn new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync createorUpdateEntries(root, { _id, input }) {\r\n\t\t\tconst session = await mongoose.startSession();\r\n\t\t\ttry {\r\n\t\t\t\tsession.startTransaction();\r\n\t\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\t\tif (res.entries === undefined || res.entries === null) {\r\n\t\t\t\t\treturnElement = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tCollector.findById(_id, function(err, corp) {\r\n\t\t\t\t\t\t\tif (!corp) console.log('ERE009');\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif (res.entries === undefined || res.entries === null) {\r\n\t\t\t\t\t\t\t\t\tres.entries = input;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tres.entries = input;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tcorp.entries = res.entries;\r\n\t\t\t\t\t\t\tcorp.update(corp).then((x) => {\r\n\t\t\t\t\t\t\t\tresolve(corp);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\tvar checkpoint = await CheckPoint.find({ _idCorporation: _id });\r\n\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tvar checkpoin = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tif (res.entries.sale && res.entries.sale.length > 0) {\r\n\t\t\t\t\t\t\tres.entries.sale.forEach((sale) => {\r\n\t\t\t\t\t\t\t\tif (!checkpoint || checkpoint.length <= 0) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: sale.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: sale.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: sale.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: sale.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (!checkpoint.collectionperformed || checkpoint.collectionperformed.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (res.entries.purchase && res.entries.purchase.length > 0) {\r\n\t\t\t\t\t\t\tres.entries.purchase.forEach((purchase) => {\r\n\t\t\t\t\t\t\t\tif (!checkpoint || checkpoint.length <= 0) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: purchase.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: purchase.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: purchase.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: purchase.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (!checkpoint.collectionperformed || checkpoint.collectionperformed.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await CheckPoint.create(checkpoint);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\tif (!check) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('ERE009');\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (!check || check.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheck = checkpoint;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheck.collectionperformed = checkpoint.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\tvar transaction = await TransactionHistory.find({ _idCorporation: _id });\r\n\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tvar history = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tif (res.entries.sale && res.entries.sale.length > 0) {\r\n\t\t\t\t\t\t\tres.entries.sale.forEach((sale) => {\r\n\t\t\t\t\t\t\t\tif (transaction === undefined || transaction === null) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: sale.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: sale.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: sale.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: sale.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints ||\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints.collectionperformed ||\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (res.entries.purchase && res.entries.purchase.length > 0) {\r\n\t\t\t\t\t\t\tres.entries.purchase.forEach((purchase) => {\r\n\t\t\t\t\t\t\t\tif (transaction === undefined || transaction === null) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: purchase.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: purchase.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: purchase.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: purchase.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints ||\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints.collectionperformed ||\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await TransactionHistory.create(transaction);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (trans === undefined || trans === null) {\r\n\t\t\t\t\t\t\t\t\t\ttrans = transaction;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionperformed =\r\n\t\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (input.sale !== undefined || input.sale.length > 0) {\r\n\t\t\t\t\t\tfor (i = 0; i < input.sale.length; i++) {\r\n\t\t\t\t\t\t\tvar exist = await res.entries.sale.find((x) => x._id == input.sale[i]._id);\r\n\t\t\t\t\t\t\tif (exist) {\r\n\t\t\t\t\t\t\t\texist.set(input.sale[i]);\r\n\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok set entries sale'));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tawait res.entries.sale.push(input.sale[i]);\r\n\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push entries sale'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\r\n\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tif (input.sale !== undefined && input.sale.length > 0) {\r\n\t\t\t\t\t\t\t\t\tvar existQr = undefined;\r\n\t\t\t\t\t\t\t\t\tfor (y = 0; y < checkpoint.collectionperformed.qrCode.length; y++) {\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode[y].code === input.sale[i].qrCode.code\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\texistQr = checkpoint.collectionperformed.qrCode[y];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (existQr) {\r\n\t\t\t\t\t\t\t\t\t\texistQr.set(input.sale[i].qrCode);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode.push(input.sale[i].qrCode);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tcheck.collectionperformed = checkpoint.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tif (input.sale !== undefined && input.sale.length > 0) {\r\n\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.qrCode.push(input.sale[i].qrCode);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionperformed =\r\n\t\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (input.purchase !== undefined || input.purchase.length > 0) {\r\n\t\t\t\t\t\tfor (i = 0; i < input.purchase.length; i++) {\r\n\t\t\t\t\t\t\tvar exist = await res.entries.purchase.find((x) => x._id == input.purchase[i]._id);\r\n\t\t\t\t\t\t\tif (exist) {\r\n\t\t\t\t\t\t\t\texist.set(input.purchase[i]);\r\n\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok set entries purchase'));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tawait res.entries.purchase.push(input.purchase[i]);\r\n\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push entries purchase'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\r\n\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tif (input.purchase !== undefined && input.purchase.length > 0) {\r\n\t\t\t\t\t\t\t\t\tvar existQr = undefined;\r\n\t\t\t\t\t\t\t\t\tfor (y = 0; y < checkpoint.collectionperformed.qrCode.length; y++) {\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode[y].code ===\r\n\t\t\t\t\t\t\t\t\t\t\tinput.purchase[i].qrCode.code\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\texistQr = checkpoint.collectionperformed.qrCode[y];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (existQr) {\r\n\t\t\t\t\t\t\t\t\t\texistQr.set(input.purchase[i].qrCode);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode.push(input.purchase[i].qrCode);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tcheck.collectionperformed = checkpoint.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne();\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tif (input.purchase !== undefined && input.purchase.length > 0) {\r\n\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.qrCode.push(input.purchase[i].qrCode);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionperformed =\r\n\t\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tres = await Collector.findById(_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tawait session.commitTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log('resolved');\r\n\r\n\t\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\t\treturn res.entries;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tawait session.abortTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log('aborting');\r\n\t\t\t\treturn new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync createorUpdateResidueArrived(root, { _id, input }) {},\r\n\t\tasync createorUpdateDocument(root, { _id, input }) {\r\n\t\t\ttry {\r\n\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\tvar res = Collector.findById(_id, function(err, corp) {\r\n\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\treject(next(new Error('ERE009')));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\t\t\t\t\tif (input[i]._id) {\r\n\t\t\t\t\t\t\t\t\tindex = corp.documents.findIndex((x) => x._id == input[i]._id);\r\n\t\t\t\t\t\t\t\t\tcorp.documents[index] = input[i];\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcorp.documents.push(input[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcorp.save();\r\n\t\t\t\t\t\t\tresolve(corp);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar res = await Collector.findById(_id);\r\n\t\t\t\treturn res.documents;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthrow new Error('ERE009');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nasync function addID(_id, id, typeCorporation) {\r\n\tvar object = {\r\n\t\tunitsId: id\r\n\t};\r\n\tif (typeCorporation === Classification.Collector) {\r\n\t\tvar collector = await Collector.findById(_id);\r\n\t\tif (collector.units === undefined || collector.units.length <= 0) {\r\n\t\t\tcollector['units'] = [ object ];\r\n\t\t} else {\r\n\t\t\tcollector.units.push(object);\r\n\t\t}\r\n\t\tCollector.findOne(_id, function(err, coll) {\r\n\t\t\tif (!coll) console.log('ERE009');\r\n\t\t\telse {\r\n\t\t\t\tcoll.units = collector.units;\r\n\t\t\t\tcoll.update(coll).then((x) => {});\r\n\t\t\t}\r\n\t\t});\r\n\t} else if (typeCorporation === Classification.Provider) {\r\n\t\tvar provider = await Provider.findById(_id);\r\n\t\tif (provider.units === undefined || provider.units.length <= 0) {\r\n\t\t\tprovider['units'] = [ object ];\r\n\t\t} else {\r\n\t\t\tprovider.units.push(object);\r\n\t\t}\r\n\t\tProvider.findOne(_id, function(err, prov) {\r\n\t\t\tif (!prov) console.log('ERE009');\r\n\t\t\telse {\r\n\t\t\t\tprov.units = provider.units;\r\n\t\t\t\tprov.update(prov).then((x) => {});\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tvar corporation = await Corporation.findById(_id);\r\n\t\tif (corporation.units === undefined || corporation.units.length <= 0) {\r\n\t\t\tcorporation['units'] = [ object ];\r\n\t\t} else {\r\n\t\t\tcorporation.units.push(object);\r\n\t\t}\r\n\t\tawait Corporation.findById(_id, function(err, corp) {\r\n\t\t\tif (!corp) console.log('ERE009');\r\n\t\t\telse {\r\n\t\t\t\tcorp.units = corporation.units;\r\n\t\t\t\tcorp.update(corp).then((x) => {});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1574220605593
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\models\\\\collector.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\models\\collector.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\models\\collector.model.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\models\\collector.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
        "sourceFileName": "collector.model.js"
      }
    },
    "ast": null,
    "code": "mongoose = require('mongoose');\nconst Schema = mongoose.Schema;\nconst Documents = new Schema({\n  type: {\n    type: String\n  },\n  name: String,\n  archive: String,\n  daysNotification: Number,\n  date: Date,\n  expire: Boolean\n});\nconst Material = new Schema({\n  type: {\n    type: String\n  },\n  name: String,\n  weight: Number,\n  quantity: Number,\n  active: Boolean,\n  unity: String\n});\nconst QrCode = new Schema({\n  code: String,\n  date: Date,\n  material: Material\n});\nconst ResidueArrived = new Schema({\n  date: Date,\n  name: String,\n  cost: Number,\n  typeEntrie: String,\n  quantity: Number,\n  weight: Number,\n  amount: Number,\n  qrCode: QrCode,\n  observation: String,\n  confirmedByCorporation: String,\n  confirmedByCollector: String\n});\nconst ResiduesRegisterSchema = new Schema({\n  departments: [{\n    isChanged: Boolean,\n    name: String,\n    description: String,\n    active: Boolean,\n    qrCode: [QrCode]\n  }]\n});\nconst Entries = new Schema({\n  purchase: [{\n    date: Date,\n    name: String,\n    cost: Number,\n    typeEntrie: String,\n    quantity: Number,\n    weight: Number,\n    amount: Number,\n    qrCode: QrCode\n  }],\n  sale: [{\n    date: Date,\n    name: String,\n    cost: Number,\n    typeEntrie: String,\n    quantity: Number,\n    weight: Number,\n    amount: Number,\n    qrCode: QrCode,\n    _idColector: String\n  }]\n});\nvar CollectorSchema = new Schema({\n  picture: String,\n  company: String,\n  cnpj: String,\n  tradingName: String,\n  active: Boolean,\n  class: String,\n  phone: Number,\n  email: String,\n  classification: String,\n  cellPhone: Number,\n  creationDate: Date,\n  activationDate: Date,\n  verificationDate: Date,\n  location: {\n    country: String,\n    state: String,\n    latitude: Number,\n    longitude: Number,\n    cep: String,\n    publicPlace: String,\n    neighborhood: String,\n    number: Number,\n    county: String,\n    complement: String\n  },\n  units: [{\n    unitsId: String\n  }],\n  users: [{\n    name: String,\n    email: String,\n    profile: {\n      name: String,\n      access: [String]\n    },\n    password: String,\n    active: Boolean\n  }],\n  myProviders: [{\n    providerId: String\n  }],\n  departments: [{\n    name: String,\n    description: String,\n    active: Boolean,\n    isChanged: Boolean\n  }],\n  residuesRegister: ResiduesRegisterSchema,\n  scheduling: [{\n    hour: Date,\n    date: Date,\n    active: Boolean,\n    collector: {\n      _id: String,\n      company: String,\n      cnpj: String,\n      tradingName: String,\n      active: Boolean,\n      phone: Number,\n      cellPhone: Number,\n      class: String,\n      email: String,\n      classification: String\n    },\n    qrCode: [QrCode]\n  }],\n  entries: Entries,\n  residuesArrived: [ResidueArrived],\n  documents: [Documents]\n});\nmodule.exports = mongoose.model('collector', CollectorSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbGxlY3Rvci5tb2RlbC5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJTY2hlbWEiLCJEb2N1bWVudHMiLCJ0eXBlIiwiU3RyaW5nIiwibmFtZSIsImFyY2hpdmUiLCJkYXlzTm90aWZpY2F0aW9uIiwiTnVtYmVyIiwiZGF0ZSIsIkRhdGUiLCJleHBpcmUiLCJCb29sZWFuIiwiTWF0ZXJpYWwiLCJ3ZWlnaHQiLCJxdWFudGl0eSIsImFjdGl2ZSIsInVuaXR5IiwiUXJDb2RlIiwiY29kZSIsIm1hdGVyaWFsIiwiUmVzaWR1ZUFycml2ZWQiLCJjb3N0IiwidHlwZUVudHJpZSIsImFtb3VudCIsInFyQ29kZSIsIm9ic2VydmF0aW9uIiwiY29uZmlybWVkQnlDb3Jwb3JhdGlvbiIsImNvbmZpcm1lZEJ5Q29sbGVjdG9yIiwiUmVzaWR1ZXNSZWdpc3RlclNjaGVtYSIsImRlcGFydG1lbnRzIiwiaXNDaGFuZ2VkIiwiZGVzY3JpcHRpb24iLCJFbnRyaWVzIiwicHVyY2hhc2UiLCJzYWxlIiwiX2lkQ29sZWN0b3IiLCJDb2xsZWN0b3JTY2hlbWEiLCJwaWN0dXJlIiwiY29tcGFueSIsImNucGoiLCJ0cmFkaW5nTmFtZSIsImNsYXNzIiwicGhvbmUiLCJlbWFpbCIsImNsYXNzaWZpY2F0aW9uIiwiY2VsbFBob25lIiwiY3JlYXRpb25EYXRlIiwiYWN0aXZhdGlvbkRhdGUiLCJ2ZXJpZmljYXRpb25EYXRlIiwibG9jYXRpb24iLCJjb3VudHJ5Iiwic3RhdGUiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImNlcCIsInB1YmxpY1BsYWNlIiwibmVpZ2hib3Job29kIiwibnVtYmVyIiwiY291bnR5IiwiY29tcGxlbWVudCIsInVuaXRzIiwidW5pdHNJZCIsInVzZXJzIiwicHJvZmlsZSIsImFjY2VzcyIsInBhc3N3b3JkIiwibXlQcm92aWRlcnMiLCJwcm92aWRlcklkIiwicmVzaWR1ZXNSZWdpc3RlciIsInNjaGVkdWxpbmciLCJob3VyIiwiY29sbGVjdG9yIiwiX2lkIiwiZW50cmllcyIsInJlc2lkdWVzQXJyaXZlZCIsImRvY3VtZW50cyIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBbEI7QUFDQSxNQUFNQyxNQUFNLEdBQUdGLFFBQVEsQ0FBQ0UsTUFBeEI7QUFFQSxNQUFNQyxTQUFTLEdBQUcsSUFBSUQsTUFBSixDQUFXO0FBQzVCRSxFQUFBQSxJQUFJLEVBQUU7QUFBRUEsSUFBQUEsSUFBSSxFQUFFQztBQUFSLEdBRHNCO0FBRTVCQyxFQUFBQSxJQUFJLEVBQUVELE1BRnNCO0FBRzVCRSxFQUFBQSxPQUFPLEVBQUVGLE1BSG1CO0FBSTVCRyxFQUFBQSxnQkFBZ0IsRUFBRUMsTUFKVTtBQUs1QkMsRUFBQUEsSUFBSSxFQUFFQyxJQUxzQjtBQU01QkMsRUFBQUEsTUFBTSxFQUFFQztBQU5vQixDQUFYLENBQWxCO0FBU0EsTUFBTUMsUUFBUSxHQUFHLElBQUlaLE1BQUosQ0FBVztBQUMzQkUsRUFBQUEsSUFBSSxFQUFFO0FBQUVBLElBQUFBLElBQUksRUFBRUM7QUFBUixHQURxQjtBQUUzQkMsRUFBQUEsSUFBSSxFQUFFRCxNQUZxQjtBQUczQlUsRUFBQUEsTUFBTSxFQUFFTixNQUhtQjtBQUkzQk8sRUFBQUEsUUFBUSxFQUFFUCxNQUppQjtBQUszQlEsRUFBQUEsTUFBTSxFQUFFSixPQUxtQjtBQU0zQkssRUFBQUEsS0FBSyxFQUFFYjtBQU5vQixDQUFYLENBQWpCO0FBU0EsTUFBTWMsTUFBTSxHQUFHLElBQUlqQixNQUFKLENBQVc7QUFDekJrQixFQUFBQSxJQUFJLEVBQUVmLE1BRG1CO0FBRXpCSyxFQUFBQSxJQUFJLEVBQUVDLElBRm1CO0FBR3pCVSxFQUFBQSxRQUFRLEVBQUVQO0FBSGUsQ0FBWCxDQUFmO0FBTUEsTUFBTVEsY0FBYyxHQUFHLElBQUlwQixNQUFKLENBQVc7QUFDakNRLEVBQUFBLElBQUksRUFBRUMsSUFEMkI7QUFFakNMLEVBQUFBLElB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QUFHLEVBQUVyRSxNQURLO0FBRVZtQyxNQUFBQSxPQUFPLEVBQUVuQyxNQUZDO0FBR1ZvQyxNQUFBQSxJQUFJLEVBQUVwQyxNQUhJO0FBSVZxQyxNQUFBQSxXQUFXLEVBQUVyQyxNQUpIO0FBS1ZZLE1BQUFBLE1BQU0sRUFBRUosT0FMRTtBQU1WK0IsTUFBQUEsS0FBSyxFQUFFbkMsTUFORztBQU9Wc0MsTUFBQUEsU0FBUyxFQUFFdEMsTUFQRDtBQVFWa0MsTUFBQUEsS0FBSyxFQUFFdEMsTUFSRztBQVNWd0MsTUFBQUEsS0FBSyxFQUFFeEMsTUFURztBQVVWeUMsTUFBQUEsY0FBYyxFQUFFekM7QUFWTixLQUpaO0FBZ0JDcUIsSUFBQUEsTUFBTSxFQUFFLENBQUVQLE1BQUY7QUFoQlQsR0FEVyxDQTFEb0I7QUE4RWhDd0QsRUFBQUEsT0FBTyxFQUFFekMsT0E5RXVCO0FBK0VoQzBDLEVBQUFBLGVBQWUsRUFBRSxDQUFDdEQsY0FBRCxDQS9FZTtBQWdGaEN1RCxFQUFBQSxTQUFTLEVBQUUsQ0FBRTFFLFNBQUY7QUFoRnFCLENBQVgsQ0FBdEI7QUFtRkEyRSxNQUFNLENBQUNDLE9BQVAsR0FBaUIvRSxRQUFRLENBQUNnRixLQUFULENBQWUsV0FBZixFQUE0QjFDLGVBQTVCLENBQWpCIiwic291cmNlUm9vdCI6IkM6XFxyZWNvbnNpZGVyZVxccmVjb25zaWRlcmUtY29ycG9yYXRpb24tYXBpXFxtb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcclxuXHJcbmNvbnN0IERvY3VtZW50cyA9IG5ldyBTY2hlbWEoe1xyXG5cdHR5cGU6IHsgdHlwZTogU3RyaW5nIH0sXHJcblx0bmFtZTogU3RyaW5nLFxyXG5cdGFyY2hpdmU6IFN0cmluZyxcclxuXHRkYXlzTm90aWZpY2F0aW9uOiBOdW1iZXIsXHJcblx0ZGF0ZTogRGF0ZSxcclxuXHRleHBpcmU6IEJvb2xlYW5cclxufSk7XHJcblxyXG5jb25zdCBNYXRlcmlhbCA9IG5ldyBTY2hlbWEoe1xyXG5cdHR5cGU6IHsgdHlwZTogU3RyaW5nIH0sXHJcblx0bmFtZTogU3RyaW5nLFxyXG5cdHdlaWdodDogTnVtYmVyLFxyXG5cdHF1YW50aXR5OiBOdW1iZXIsXHJcblx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdHVuaXR5OiBTdHJpbmdcclxufSk7XHJcblxyXG5jb25zdCBRckNvZGUgPSBuZXcgU2NoZW1hKHtcclxuXHRjb2RlOiBTdHJpbmcsXHJcblx0ZGF0ZTogRGF0ZSxcclxuXHRtYXRlcmlhbDogTWF0ZXJpYWwsXHJcbn0pO1xyXG5cclxuY29uc3QgUmVzaWR1ZUFycml2ZWQgPSBuZXcgU2NoZW1hKHtcclxuXHRkYXRlOiBEYXRlLFxyXG5cdG5hbWU6IFN0cmluZyxcclxuXHRjb3N0OiBOdW1iZXIsXHJcblx0dHlwZUVudHJpZTogU3RyaW5nLFxyXG5cdHF1YW50aXR5OiBOdW1iZXIsXHJcblx0d2VpZ2h0OiBOdW1iZXIsXHJcblx0YW1vdW50OiBOdW1iZXIsXHJcblx0cXJDb2RlOiBRckNvZGUsXHJcblx0b2JzZXJ2YXRpb246IFN0cmluZyxcclxuXHRjb25maXJtZWRCeUNvcnBvcmF0aW9uOiBTdHJpbmcsXHJcblx0Y29uZmlybWVkQnlDb2xsZWN0b3I6IFN0cmluZ1xyXG59KTtcclxuXHJcbmNvbnN0IFJlc2lkdWVzUmVnaXN0ZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuXHRkZXBhcnRtZW50czogW1xyXG5cdFx0e1xyXG5cdFx0XHRpc0NoYW5nZWQ6IEJvb2xlYW4sXHJcblx0XHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdFx0ZGVzY3JpcHRpb246IFN0cmluZyxcclxuXHRcdFx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdFx0XHRxckNvZGU6IFsgUXJDb2RlIF1cclxuXHRcdH1cclxuXHRdXHJcbn0pO1xyXG5cclxuY29uc3QgRW50cmllcyA9IG5ldyBTY2hlbWEoe1xyXG5cdHB1cmNoYXNlOiBbXHJcblx0XHR7XHJcblx0XHRcdGRhdGU6IERhdGUsXHJcblx0XHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdFx0Y29zdDogTnVtYmVyLFxyXG5cdFx0XHR0eXBlRW50cmllOiBTdHJpbmcsXHJcblx0XHRcdHF1YW50aXR5OiBOdW1iZXIsXHJcblx0XHRcdHdlaWdodDogTnVtYmVyLFxyXG5cdFx0XHRhbW91bnQ6IE51bWJlcixcclxuXHRcdFx0cXJDb2RlOiBRckNvZGVcclxuXHRcdH1cclxuXHRdLFxyXG5cdHNhbGU6IFtcclxuXHRcdHtcclxuXHRcdFx0ZGF0ZTogRGF0ZSxcclxuXHRcdFx0bmFtZTogU3RyaW5nLFxyXG5cdFx0XHRjb3N0OiBOdW1iZXIsXHJcblx0XHRcdHR5cGVFbnRyaWU6IFN0cmluZyxcclxuXHRcdFx0cXVhbnRpdHk6IE51bWJlcixcclxuXHRcdFx0d2VpZ2h0OiBOdW1iZXIsXHJcblx0XHRcdGFtb3VudDogTnVtYmVyLFxyXG5cdFx0XHRxckNvZGU6IFFyQ29kZSxcclxuXHRcdFx0X2lkQ29sZWN0b3I6U3RyaW5nLFxyXG5cdFx0fVxyXG5cdF1cclxufSk7XHJcblxyXG52YXIgQ29sbGVjdG9yU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcblx0cGljdHVyZTogU3RyaW5nLFxyXG5cdGNvbXBhbnk6IFN0cmluZyxcclxuXHRjbnBqOiBTdHJpbmcsXHJcblx0dHJhZGluZ05hbWU6IFN0cmluZyxcclxuXHRhY3RpdmU6IEJvb2xlYW4sXHJcblx0Y2xhc3M6IFN0cmluZyxcclxuXHRwaG9uZTogTnVtYmVyLFxyXG5cdGVtYWlsOiBTdHJpbmcsXHJcblx0Y2xhc3NpZmljYXRpb246IFN0cmluZyxcclxuXHRjZWxsUGhvbmU6IE51bWJlcixcclxuXHRjcmVhdGlvbkRhdGU6IERhdGUsXHJcblx0YWN0aXZhdGlvbkRhdGU6IERhdGUsXHJcblx0dmVyaWZpY2F0aW9uRGF0ZTogRGF0ZSxcclxuXHRsb2NhdGlvbjoge1xyXG5cdFx0Y291bnRyeTogU3RyaW5nLFxyXG5cdFx0c3RhdGU6IFN0cmluZyxcclxuXHRcdGxhdGl0dWRlOiBOdW1iZXIsXHJcblx0XHRsb25naXR1ZGU6IE51bWJlcixcclxuXHRcdGNlcDogU3RyaW5nLFxyXG5cdFx0cHVibGljUGxhY2U6IFN0cmluZyxcclxuXHRcdG5laWdoYm9yaG9vZDogU3RyaW5nLFxyXG5cdFx0bnVtYmVyOiBOdW1iZXIsXHJcblx0XHRjb3VudHk6IFN0cmluZyxcclxuXHRcdGNvbXBsZW1lbnQ6IFN0cmluZ1xyXG5cdH0sXHJcblx0dW5pdHM6IFtcclxuXHRcdHtcclxuXHRcdFx0dW5pdHNJZDogU3RyaW5nXHJcblx0XHR9XHJcblx0XSxcclxuXHR1c2VyczogW1xyXG5cdFx0e1xyXG5cdFx0XHRuYW1lOiBTdHJpbmcsXHJcblx0XHRcdGVtYWlsOiBTdHJpbmcsXHJcblx0XHRcdHByb2ZpbGU6IHtcclxuXHRcdFx0XHRuYW1lOiBTdHJpbmcsXHJcblx0XHRcdFx0YWNjZXNzOiBbIFN0cmluZyBdXHJcblx0XHRcdH0sXHJcblx0XHRcdHBhc3N3b3JkOiBTdHJpbmcsXHJcblx0XHRcdGFjdGl2ZTogQm9vbGVhblxyXG5cdFx0fVxyXG5cdF0sXHJcblx0bXlQcm92aWRlcnM6IFtcclxuXHRcdHtcclxuXHRcdFx0cHJvdmlkZXJJZDogU3RyaW5nXHJcblx0XHR9XHJcblx0XSxcclxuXHRkZXBhcnRtZW50czogW1xyXG5cdFx0e1xyXG5cdFx0XHRuYW1lOiBTdHJpbmcsXHJcblx0XHRcdGRlc2NyaXB0aW9uOiBTdHJpbmcsXHJcblx0XHRcdGFjdGl2ZTogQm9vbGVhbixcclxuXHRcdFx0aXNDaGFuZ2VkOiBCb29sZWFuXHJcblx0XHR9XHJcblx0XSxcclxuXHJcblx0cmVzaWR1ZXNSZWdpc3RlcjogUmVzaWR1ZXNSZWdpc3RlclNjaGVtYSxcclxuXHRzY2hlZHVsaW5nOiBbXHJcblx0XHR7XHJcblx0XHRcdGhvdXI6IERhdGUsXHJcblx0XHRcdGRhdGU6IERhdGUsXHJcblx0XHRcdGFjdGl2ZTogQm9vbGVhbixcclxuXHRcdFx0Y29sbGVjdG9yOiB7XHJcblx0XHRcdFx0X2lkOiBTdHJpbmcsXHJcblx0XHRcdFx0Y29tcGFueTogU3RyaW5nLFxyXG5cdFx0XHRcdGNucGo6IFN0cmluZyxcclxuXHRcdFx0XHR0cmFkaW5nTmFtZTogU3RyaW5nLFxyXG5cdFx0XHRcdGFjdGl2ZTogQm9vbGVhbixcclxuXHRcdFx0XHRwaG9uZTogTnVtYmVyLFxyXG5cdFx0XHRcdGNlbGxQaG9uZTogTnVtYmVyLFxyXG5cdFx0XHRcdGNsYXNzOiBTdHJpbmcsXHJcblx0XHRcdFx0ZW1haWw6IFN0cmluZyxcclxuXHRcdFx0XHRjbGFzc2lmaWNhdGlvbjogU3RyaW5nXHJcblx0XHRcdH0sXHJcblx0XHRcdHFyQ29kZTogWyBRckNvZGUgXVxyXG5cdFx0fVxyXG5cdF0sXHJcblx0ZW50cmllczogRW50cmllcyxcclxuXHRyZXNpZHVlc0Fycml2ZWQ6IFtSZXNpZHVlQXJyaXZlZF0sXHJcblx0ZG9jdW1lbnRzOiBbIERvY3VtZW50cyBdXHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbCgnY29sbGVjdG9yJywgQ29sbGVjdG9yU2NoZW1hKTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "collector.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "Documents",
        "type",
        "String",
        "name",
        "archive",
        "daysNotification",
        "Number",
        "date",
        "Date",
        "expire",
        "Boolean",
        "Material",
        "weight",
        "quantity",
        "active",
        "unity",
        "QrCode",
        "code",
        "material",
        "ResidueArrived",
        "cost",
        "typeEntrie",
        "amount",
        "qrCode",
        "observation",
        "confirmedByCorporation",
        "confirmedByCollector",
        "ResiduesRegisterSchema",
        "departments",
        "isChanged",
        "description",
        "Entries",
        "purchase",
        "sale",
        "_idColector",
        "CollectorSchema",
        "picture",
        "company",
        "cnpj",
        "tradingName",
        "class",
        "phone",
        "email",
        "classification",
        "cellPhone",
        "creationDate",
        "activationDate",
        "verificationDate",
        "location",
        "country",
        "state",
        "latitude",
        "longitude",
        "cep",
        "publicPlace",
        "neighborhood",
        "number",
        "county",
        "complement",
        "units",
        "unitsId",
        "users",
        "profile",
        "access",
        "password",
        "myProviders",
        "providerId",
        "residuesRegister",
        "scheduling",
        "hour",
        "collector",
        "_id",
        "entries",
        "residuesArrived",
        "documents",
        "module",
        "exports",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
      "sourcesContent": [
        "mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst Documents = new Schema({\r\n\ttype: { type: String },\r\n\tname: String,\r\n\tarchive: String,\r\n\tdaysNotification: Number,\r\n\tdate: Date,\r\n\texpire: Boolean\r\n});\r\n\r\nconst Material = new Schema({\r\n\ttype: { type: String },\r\n\tname: String,\r\n\tweight: Number,\r\n\tquantity: Number,\r\n\tactive: Boolean,\r\n\tunity: String\r\n});\r\n\r\nconst QrCode = new Schema({\r\n\tcode: String,\r\n\tdate: Date,\r\n\tmaterial: Material,\r\n});\r\n\r\nconst ResidueArrived = new Schema({\r\n\tdate: Date,\r\n\tname: String,\r\n\tcost: Number,\r\n\ttypeEntrie: String,\r\n\tquantity: Number,\r\n\tweight: Number,\r\n\tamount: Number,\r\n\tqrCode: QrCode,\r\n\tobservation: String,\r\n\tconfirmedByCorporation: String,\r\n\tconfirmedByCollector: String\r\n});\r\n\r\nconst ResiduesRegisterSchema = new Schema({\r\n\tdepartments: [\r\n\t\t{\r\n\t\t\tisChanged: Boolean,\r\n\t\t\tname: String,\r\n\t\t\tdescription: String,\r\n\t\t\tactive: Boolean,\r\n\t\t\tqrCode: [ QrCode ]\r\n\t\t}\r\n\t]\r\n});\r\n\r\nconst Entries = new Schema({\r\n\tpurchase: [\r\n\t\t{\r\n\t\t\tdate: Date,\r\n\t\t\tname: String,\r\n\t\t\tcost: Number,\r\n\t\t\ttypeEntrie: String,\r\n\t\t\tquantity: Number,\r\n\t\t\tweight: Number,\r\n\t\t\tamount: Number,\r\n\t\t\tqrCode: QrCode\r\n\t\t}\r\n\t],\r\n\tsale: [\r\n\t\t{\r\n\t\t\tdate: Date,\r\n\t\t\tname: String,\r\n\t\t\tcost: Number,\r\n\t\t\ttypeEntrie: String,\r\n\t\t\tquantity: Number,\r\n\t\t\tweight: Number,\r\n\t\t\tamount: Number,\r\n\t\t\tqrCode: QrCode,\r\n\t\t\t_idColector:String,\r\n\t\t}\r\n\t]\r\n});\r\n\r\nvar CollectorSchema = new Schema({\r\n\tpicture: String,\r\n\tcompany: String,\r\n\tcnpj: String,\r\n\ttradingName: String,\r\n\tactive: Boolean,\r\n\tclass: String,\r\n\tphone: Number,\r\n\temail: String,\r\n\tclassification: String,\r\n\tcellPhone: Number,\r\n\tcreationDate: Date,\r\n\tactivationDate: Date,\r\n\tverificationDate: Date,\r\n\tlocation: {\r\n\t\tcountry: String,\r\n\t\tstate: String,\r\n\t\tlatitude: Number,\r\n\t\tlongitude: Number,\r\n\t\tcep: String,\r\n\t\tpublicPlace: String,\r\n\t\tneighborhood: String,\r\n\t\tnumber: Number,\r\n\t\tcounty: String,\r\n\t\tcomplement: String\r\n\t},\r\n\tunits: [\r\n\t\t{\r\n\t\t\tunitsId: String\r\n\t\t}\r\n\t],\r\n\tusers: [\r\n\t\t{\r\n\t\t\tname: String,\r\n\t\t\temail: String,\r\n\t\t\tprofile: {\r\n\t\t\t\tname: String,\r\n\t\t\t\taccess: [ String ]\r\n\t\t\t},\r\n\t\t\tpassword: String,\r\n\t\t\tactive: Boolean\r\n\t\t}\r\n\t],\r\n\tmyProviders: [\r\n\t\t{\r\n\t\t\tproviderId: String\r\n\t\t}\r\n\t],\r\n\tdepartments: [\r\n\t\t{\r\n\t\t\tname: String,\r\n\t\t\tdescription: String,\r\n\t\t\tactive: Boolean,\r\n\t\t\tisChanged: Boolean\r\n\t\t}\r\n\t],\r\n\r\n\tresiduesRegister: ResiduesRegisterSchema,\r\n\tscheduling: [\r\n\t\t{\r\n\t\t\thour: Date,\r\n\t\t\tdate: Date,\r\n\t\t\tactive: Boolean,\r\n\t\t\tcollector: {\r\n\t\t\t\t_id: String,\r\n\t\t\t\tcompany: String,\r\n\t\t\t\tcnpj: String,\r\n\t\t\t\ttradingName: String,\r\n\t\t\t\tactive: Boolean,\r\n\t\t\t\tphone: Number,\r\n\t\t\t\tcellPhone: Number,\r\n\t\t\t\tclass: String,\r\n\t\t\t\temail: String,\r\n\t\t\t\tclassification: String\r\n\t\t\t},\r\n\t\t\tqrCode: [ QrCode ]\r\n\t\t}\r\n\t],\r\n\tentries: Entries,\r\n\tresiduesArrived: [ResidueArrived],\r\n\tdocuments: [ Documents ]\r\n});\r\n\r\nmodule.exports = mongoose.model('collector', CollectorSchema);\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1574221035050
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\models\\\\checkpoint.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\models\\checkpoint.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\models\\checkpoint.model.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\models\\checkpoint.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
        "sourceFileName": "checkpoint.model.js"
      }
    },
    "ast": null,
    "code": "mongoose = require('mongoose');\nconst Schema = mongoose.Schema; //a empresa que cria um pedido de residuo gera um id para o checkpoint\n//se não existe nenhum com esse _id cria um novo\n//se for a empresa que tem o id pode ver tudo que tem na lista\n//se for o coletor verificar se ele esta no pedido de cada empresa e carregar as que ele faz parte\n\nconst CheckPointSchema = new Schema({\n  _idCorporation: String,\n  wastegenerated: {\n    qrCode: [{\n      code: String,\n      date: Date,\n      material: {\n        type: {\n          type: String\n        },\n        name: String,\n        weight: Number,\n        quantity: Number,\n        active: Boolean,\n        unity: String\n      }\n    }]\n  },\n  collectionrequested: {\n    qrCode: [{\n      code: String,\n      date: Date,\n      material: {\n        type: {\n          type: String\n        },\n        name: String,\n        weight: Number,\n        quantity: Number,\n        active: Boolean,\n        unity: String\n      }\n    }]\n  },\n  collectionperformed: {\n    qrCode: [{\n      code: String,\n      date: Date,\n      material: {\n        type: {\n          type: String\n        },\n        name: String,\n        weight: Number,\n        quantity: Number,\n        active: Boolean,\n        unity: String\n      }\n    }]\n  },\n  arrivedcollector: {\n    qrCode: [{\n      code: String,\n      date: Date,\n      material: {\n        type: {\n          type: String\n        },\n        name: String,\n        weight: Number,\n        quantity: Number,\n        active: Boolean,\n        unity: String\n      }\n    }]\n  },\n  insorting: {\n    qrCode: [{\n      code: String,\n      date: Date,\n      material: {\n        type: {\n          type: String\n        },\n        name: String,\n        weight: Number,\n        quantity: Number,\n        active: Boolean,\n        unity: String\n      }\n    }]\n  },\n  completedestination: {\n    qrCode: [{\n      code: String,\n      date: Date,\n      material: {\n        type: {\n          type: String\n        },\n        name: String,\n        weight: Number,\n        quantity: Number,\n        active: Boolean,\n        unity: String\n      }\n    }]\n  }\n});\nmodule.exports = mongoose.model('checkpoint', CheckPointSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrcG9pbnQubW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiU2NoZW1hIiwiQ2hlY2tQb2ludFNjaGVtYSIsIl9pZENvcnBvcmF0aW9uIiwiU3RyaW5nIiwid2FzdGVnZW5lcmF0ZWQiLCJxckNvZGUiLCJjb2RlIiwiZGF0ZSIsIkRhdGUiLCJtYXRlcmlhbCIsInR5cGUiLCJuYW1lIiwid2VpZ2h0IiwiTnVtYmVyIiwicXVhbnRpdHkiLCJhY3RpdmUiLCJCb29sZWFuIiwidW5pdHkiLCJjb2xsZWN0aW9ucmVxdWVzdGVkIiwiY29sbGVjdGlvbnBlcmZvcm1lZCIsImFycml2ZWRjb2xsZWN0b3IiLCJpbnNvcnRpbmciLCJjb21wbGV0ZWRlc3RpbmF0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUFsQjtBQUNBLE1BQU1DLE1BQU0sR0FBR0YsUUFBUSxDQUFDRSxNQUF4QixDLENBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUEsTUFBTUMsZ0JBQWdCLEdBQUcsSUFBSUQsTUFBSixDQUFXO0FBQ25DRSxFQUFBQSxjQUFjLEVBQUVDLE1BRG1CO0FBRW5DQyxFQUFBQSxjQUFjLEVBQUU7QUFDZkMsSUFBQUEsTUFBTSxFQUFFLENBQ1A7QUFDQ0MsTUFBQUEsSUFBSSxFQUFFSCxNQURQO0FBRUNJLE1BQUFBLElBQUksRUFBRUMsSUFGUDtBQUdDQyxNQUFBQSxRQUFRLEVBQUU7QUFDVEMsUUFBQUEsSUFBSSxFQUFFO0FBQUVBLFVBQUFBLElBQUksRUFBRVA7QUFBUixTQURHO0FBRVRRLFFBQUFBLElBQUksRUFBRVIsTUFGRztBQUdUUyxRQUFBQSxNQUFNLEVBQUVDLE1BSEM7QUFJVEMsUUFBQUEsUUFBUSxFQUFFRCxNQUpEO0FBS1RFLFFBQUFBLE1BQU0sRUFBRUMsT0FMQztBQU1UQyxRQUFBQSxLQUFLLEVBQUVkO0FBTkU7QUFIWCxLQURPO0FB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USxDQUFDMkIsS0FBVCxDQUFlLFlBQWYsRUFBNkJ4QixnQkFBN0IsQ0FBakIiLCJzb3VyY2VSb290IjoiQzpcXHJlY29uc2lkZXJlXFxyZWNvbnNpZGVyZS1jb3Jwb3JhdGlvbi1hcGlcXG1vZGVscyIsInNvdXJjZXNDb250ZW50IjpbIm1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xyXG5cclxuLy9hIGVtcHJlc2EgcXVlIGNyaWEgdW0gcGVkaWRvIGRlIHJlc2lkdW8gZ2VyYSB1bSBpZCBwYXJhIG8gY2hlY2twb2ludFxyXG4vL3NlIG7Do28gZXhpc3RlIG5lbmh1bSBjb20gZXNzZSBfaWQgY3JpYSB1bSBub3ZvXHJcbi8vc2UgZm9yIGEgZW1wcmVzYSBxdWUgdGVtIG8gaWQgcG9kZSB2ZXIgdHVkbyBxdWUgdGVtIG5hIGxpc3RhXHJcblxyXG4vL3NlIGZvciBvIGNvbGV0b3IgdmVyaWZpY2FyIHNlIGVsZSBlc3RhIG5vIHBlZGlkbyBkZSBjYWRhIGVtcHJlc2EgZSBjYXJyZWdhciBhcyBxdWUgZWxlIGZheiBwYXJ0ZVxyXG5cclxuY29uc3QgQ2hlY2tQb2ludFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG5cdF9pZENvcnBvcmF0aW9uOiBTdHJpbmcsXHJcblx0d2FzdGVnZW5lcmF0ZWQ6IHtcclxuXHRcdHFyQ29kZTogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y29kZTogU3RyaW5nLFxyXG5cdFx0XHRcdGRhdGU6IERhdGUsXHJcblx0XHRcdFx0bWF0ZXJpYWw6IHtcclxuXHRcdFx0XHRcdHR5cGU6IHsgdHlwZTogU3RyaW5nIH0sXHJcblx0XHRcdFx0XHRuYW1lOiBTdHJpbmcsXHJcblx0XHRcdFx0XHR3ZWlnaHQ6IE51bWJlcixcclxuXHRcdFx0XHRcdHF1YW50aXR5OiBOdW1iZXIsXHJcblx0XHRcdFx0XHRhY3RpdmU6IEJvb2xlYW4sXHJcblx0XHRcdFx0XHR1bml0eTogU3RyaW5nXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblx0fSxcclxuXHRjb2xsZWN0aW9ucmVxdWVzdGVkOiB7XHJcblx0XHRxckNvZGU6IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNvZGU6IFN0cmluZyxcclxuXHRcdFx0XHRkYXRlOiBEYXRlLFxyXG5cdFx0XHRcdG1hdGVyaWFsOiB7XHJcblx0XHRcdFx0XHR0eXBlOiB7IHR5cGU6IFN0cmluZyB9LFxyXG5cdFx0XHRcdFx0bmFtZTogU3RyaW5nLFxyXG5cdFx0XHRcdFx0d2VpZ2h0OiBOdW1iZXIsXHJcblx0XHRcdFx0XHRxdWFudGl0eTogTnVtYmVyLFxyXG5cdFx0XHRcdFx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdFx0XHRcdFx0dW5pdHk6IFN0cmluZ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XVxyXG5cdH0sXHJcblx0Y29sbGVjdGlvbnBlcmZvcm1lZDoge1xyXG5cdFx0cXJDb2RlOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjb2RlOiBTdHJpbmcsXHJcblx0XHRcdFx0ZGF0ZTogRGF0ZSxcclxuXHRcdFx0XHRtYXRlcmlhbDoge1xyXG5cdFx0XHRcdFx0dHlwZTogeyB0eXBlOiBTdHJpbmcgfSxcclxuXHRcdFx0XHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdFx0XHRcdHdlaWdodDogTnVtYmVyLFxyXG5cdFx0XHRcdFx0cXVhbnRpdHk6IE51bWJlcixcclxuXHRcdFx0XHRcdGFjdGl2ZTogQm9vbGVhbixcclxuXHRcdFx0XHRcdHVuaXR5OiBTdHJpbmdcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdF1cclxuXHR9LFxyXG5cdGFycml2ZWRjb2xsZWN0b3I6IHtcclxuXHRcdHFyQ29kZTogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y29kZTogU3RyaW5nLFxyXG5cdFx0XHRcdGRhdGU6IERhdGUsXHJcblx0XHRcdFx0bWF0ZXJpYWw6IHtcclxuXHRcdFx0XHRcdHR5cGU6IHsgdHlwZTogU3RyaW5nIH0sXHJcblx0XHRcdFx0XHRuYW1lOiBTdHJpbmcsXHJcblx0XHRcdFx0XHR3ZWlnaHQ6IE51bWJlcixcclxuXHRcdFx0XHRcdHF1YW50aXR5OiBOdW1iZXIsXHJcblx0XHRcdFx0XHRhY3RpdmU6IEJvb2xlYW4sXHJcblx0XHRcdFx0XHR1bml0eTogU3RyaW5nXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblx0fSxcclxuXHRpbnNvcnRpbmc6IHtcclxuXHRcdHFyQ29kZTogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y29kZTogU3RyaW5nLFxyXG5cdFx0XHRcdGRhdGU6IERhdGUsXHJcblx0XHRcdFx0bWF0ZXJpYWw6IHtcclxuXHRcdFx0XHRcdHR5cGU6IHsgdHlwZTogU3RyaW5nIH0sXHJcblx0XHRcdFx0XHRuYW1lOiBTdHJpbmcsXHJcblx0XHRcdFx0XHR3ZWlnaHQ6IE51bWJlcixcclxuXHRcdFx0XHRcdHF1YW50aXR5OiBOdW1iZXIsXHJcblx0XHRcdFx0XHRhY3RpdmU6IEJvb2xlYW4sXHJcblx0XHRcdFx0XHR1bml0eTogU3RyaW5nXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblx0fSxcclxuXHRjb21wbGV0ZWRlc3RpbmF0aW9uOiB7XHJcblx0XHRxckNvZGU6IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNvZGU6IFN0cmluZyxcclxuXHRcdFx0XHRkYXRlOiBEYXRlLFxyXG5cdFx0XHRcdG1hdGVyaWFsOiB7XHJcblx0XHRcdFx0XHR0eXBlOiB7IHR5cGU6IFN0cmluZyB9LFxyXG5cdFx0XHRcdFx0bmFtZTogU3RyaW5nLFxyXG5cdFx0XHRcdFx0d2VpZ2h0OiBOdW1iZXIsXHJcblx0XHRcdFx0XHRxdWFudGl0eTogTnVtYmVyLFxyXG5cdFx0XHRcdFx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdFx0XHRcdFx0dW5pdHk6IFN0cmluZ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XVxyXG5cdH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdjaGVja3BvaW50JywgQ2hlY2tQb2ludFNjaGVtYSk7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "checkpoint.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "CheckPointSchema",
        "_idCorporation",
        "String",
        "wastegenerated",
        "qrCode",
        "code",
        "date",
        "Date",
        "material",
        "type",
        "name",
        "weight",
        "Number",
        "quantity",
        "active",
        "Boolean",
        "unity",
        "collectionrequested",
        "collectionperformed",
        "arrivedcollector",
        "insorting",
        "completedestination",
        "module",
        "exports",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
      "sourcesContent": [
        "mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\n//a empresa que cria um pedido de residuo gera um id para o checkpoint\r\n//se não existe nenhum com esse _id cria um novo\r\n//se for a empresa que tem o id pode ver tudo que tem na lista\r\n\r\n//se for o coletor verificar se ele esta no pedido de cada empresa e carregar as que ele faz parte\r\n\r\nconst CheckPointSchema = new Schema({\r\n\t_idCorporation: String,\r\n\twastegenerated: {\r\n\t\tqrCode: [\r\n\t\t\t{\r\n\t\t\t\tcode: String,\r\n\t\t\t\tdate: Date,\r\n\t\t\t\tmaterial: {\r\n\t\t\t\t\ttype: { type: String },\r\n\t\t\t\t\tname: String,\r\n\t\t\t\t\tweight: Number,\r\n\t\t\t\t\tquantity: Number,\r\n\t\t\t\t\tactive: Boolean,\r\n\t\t\t\t\tunity: String\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tcollectionrequested: {\r\n\t\tqrCode: [\r\n\t\t\t{\r\n\t\t\t\tcode: String,\r\n\t\t\t\tdate: Date,\r\n\t\t\t\tmaterial: {\r\n\t\t\t\t\ttype: { type: String },\r\n\t\t\t\t\tname: String,\r\n\t\t\t\t\tweight: Number,\r\n\t\t\t\t\tquantity: Number,\r\n\t\t\t\t\tactive: Boolean,\r\n\t\t\t\t\tunity: String\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tcollectionperformed: {\r\n\t\tqrCode: [\r\n\t\t\t{\r\n\t\t\t\tcode: String,\r\n\t\t\t\tdate: Date,\r\n\t\t\t\tmaterial: {\r\n\t\t\t\t\ttype: { type: String },\r\n\t\t\t\t\tname: String,\r\n\t\t\t\t\tweight: Number,\r\n\t\t\t\t\tquantity: Number,\r\n\t\t\t\t\tactive: Boolean,\r\n\t\t\t\t\tunity: String\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tarrivedcollector: {\r\n\t\tqrCode: [\r\n\t\t\t{\r\n\t\t\t\tcode: String,\r\n\t\t\t\tdate: Date,\r\n\t\t\t\tmaterial: {\r\n\t\t\t\t\ttype: { type: String },\r\n\t\t\t\t\tname: String,\r\n\t\t\t\t\tweight: Number,\r\n\t\t\t\t\tquantity: Number,\r\n\t\t\t\t\tactive: Boolean,\r\n\t\t\t\t\tunity: String\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tinsorting: {\r\n\t\tqrCode: [\r\n\t\t\t{\r\n\t\t\t\tcode: String,\r\n\t\t\t\tdate: Date,\r\n\t\t\t\tmaterial: {\r\n\t\t\t\t\ttype: { type: String },\r\n\t\t\t\t\tname: String,\r\n\t\t\t\t\tweight: Number,\r\n\t\t\t\t\tquantity: Number,\r\n\t\t\t\t\tactive: Boolean,\r\n\t\t\t\t\tunity: String\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tcompletedestination: {\r\n\t\tqrCode: [\r\n\t\t\t{\r\n\t\t\t\tcode: String,\r\n\t\t\t\tdate: Date,\r\n\t\t\t\tmaterial: {\r\n\t\t\t\t\ttype: { type: String },\r\n\t\t\t\t\tname: String,\r\n\t\t\t\t\tweight: Number,\r\n\t\t\t\t\tquantity: Number,\r\n\t\t\t\t\tactive: Boolean,\r\n\t\t\t\t\tunity: String\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n});\r\n\r\nmodule.exports = mongoose.model('checkpoint', CheckPointSchema);\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1574221034563
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\models\\\\transactionhistory.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\models\\transactionhistory.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\models\\transactionhistory.model.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\models\\transactionhistory.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
        "sourceFileName": "transactionhistory.model.js"
      }
    },
    "ast": null,
    "code": "mongoose = require('mongoose');\nconst Schema = mongoose.Schema;\nconst TransactionHistorySchema = new Schema({\n  _idCorporation: String,\n  checkPoints: {\n    wastegenerated: {\n      qrCode: [{\n        date: {\n          type: Date,\n          required: true,\n          immutable: true\n        },\n        code: {\n          type: String,\n          required: true,\n          immutable: true\n        },\n        material: {\n          type: {\n            type: String,\n            required: true,\n            immutable: true\n          },\n          name: {\n            type: String,\n            required: true,\n            immutable: true\n          },\n          weight: {\n            type: Number,\n            required: true,\n            immutable: true\n          },\n          quantity: {\n            type: Number,\n            required: true,\n            immutable: true\n          },\n          active: {\n            type: Boolean,\n            required: true,\n            immutable: true\n          },\n          unity: {\n            type: String,\n            required: true,\n            immutable: true\n          }\n        }\n      }]\n    },\n    collectionrequested: {\n      qrCode: [{\n        date: {\n          type: Date,\n          required: true,\n          immutable: true\n        },\n        code: {\n          type: String,\n          required: true,\n          immutable: true\n        },\n        material: {\n          type: {\n            type: String,\n            required: true,\n            immutable: true\n          },\n          name: {\n            type: String,\n            required: true,\n            immutable: true\n          },\n          weight: {\n            type: Number,\n            required: true,\n            immutable: true\n          },\n          quantity: {\n            type: Number,\n            required: true,\n            immutable: true\n          },\n          active: {\n            type: Boolean,\n            required: true,\n            immutable: true\n          },\n          unity: {\n            type: String,\n            required: true,\n            immutable: true\n          }\n        }\n      }]\n    },\n    collectionperformed: {\n      qrCode: [{\n        date: {\n          type: Date,\n          required: true,\n          immutable: true\n        },\n        code: {\n          type: String,\n          required: true,\n          immutable: true\n        },\n        confirmedByCorporation: {\n          type: String,\n          required: true,\n          immutable: true\n        },\n        confirmedByCollector: {\n          type: String,\n          required: true,\n          immutable: true\n        },\n        material: {\n          type: {\n            type: String,\n            required: true,\n            immutable: true\n          },\n          name: {\n            type: String,\n            required: true,\n            immutable: true\n          },\n          weight: {\n            type: Number,\n            required: true,\n            immutable: true\n          },\n          quantity: {\n            type: Number,\n            required: true,\n            immutable: true\n          },\n          active: {\n            type: Boolean,\n            required: true,\n            immutable: true\n          },\n          unity: {\n            type: String,\n            required: true,\n            immutable: true\n          }\n        }\n      }]\n    },\n    arrivedcollector: {\n      qrCode: [{\n        date: {\n          type: Date,\n          required: true,\n          immutable: true\n        },\n        code: {\n          type: String,\n          required: true,\n          immutable: true\n        },\n        material: {\n          type: {\n            type: String,\n            required: true,\n            immutable: true\n          },\n          name: {\n            type: String,\n            required: true,\n            immutable: true\n          },\n          weight: {\n            type: Number,\n            required: true,\n            immutable: true\n          },\n          quantity: {\n            type: Number,\n            required: true,\n            immutable: true\n          },\n          active: {\n            type: Boolean,\n            required: true,\n            immutable: true\n          },\n          unity: {\n            type: String,\n            required: true,\n            immutable: true\n          }\n        }\n      }]\n    },\n    insorting: {\n      qrCode: [{\n        date: {\n          type: Date,\n          required: true,\n          immutable: true\n        },\n        code: {\n          type: String,\n          required: true,\n          immutable: true\n        },\n        material: {\n          type: {\n            type: String,\n            required: true,\n            immutable: true\n          },\n          name: {\n            type: String,\n            required: true,\n            immutable: true\n          },\n          weight: {\n            type: Number,\n            required: true,\n            immutable: true\n          },\n          quantity: {\n            type: Number,\n            required: true,\n            immutable: true\n          },\n          active: {\n            type: Boolean,\n            required: true,\n            immutable: true\n          },\n          unity: {\n            type: String,\n            required: true,\n            immutable: true\n          }\n        }\n      }]\n    },\n    completedestination: {\n      qrCode: [{\n        date: {\n          type: Date,\n          required: true,\n          immutable: true\n        },\n        code: {\n          type: String,\n          required: true,\n          immutable: true\n        },\n        material: {\n          type: {\n            type: String,\n            required: true,\n            immutable: true\n          },\n          name: {\n            type: String,\n            required: true,\n            immutable: true\n          },\n          weight: {\n            type: Number,\n            required: true,\n            immutable: true\n          },\n          quantity: {\n            type: Number,\n            required: true,\n            immutable: true\n          },\n          active: {\n            type: Boolean,\n            required: true,\n            immutable: true\n          },\n          unity: {\n            type: String,\n            required: true,\n            immutable: true\n          }\n        }\n      }]\n    }\n  }\n});\nmodule.exports = mongoose.model('transactionhistory', TransactionHistorySchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zYWN0aW9uaGlzdG9yeS5tb2RlbC5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJTY2hlbWEiLCJUcmFuc2FjdGlvbkhpc3RvcnlTY2hlbWEiLCJfaWRDb3Jwb3JhdGlvbiIsIlN0cmluZyIsImNoZWNrUG9pbnRzIiwid2FzdGVnZW5lcmF0ZWQiLCJxckNvZGUiLCJkYXRlIiwidHlwZSIsIkRhdGUiLCJyZXF1aXJlZCIsImltbXV0YWJsZSIsImNvZGUiLCJtYXRlcmlhbCIsIm5hbWUiLCJ3ZWlnaHQiLCJOdW1iZXIiLCJxdWFudGl0eSIsImFjdGl2ZSIsIkJvb2xlYW4iLCJ1bml0eSIsImNvbGxlY3Rpb25yZXF1ZXN0ZWQiLCJjb2xsZWN0aW9ucGVyZm9ybWVkIiwiY29uZmlybWVkQnlDb3Jwb3JhdGlvbiIsImNvbmZpcm1lZEJ5Q29sbGVjdG9yIiwiYXJyaXZlZGNvbGxlY3RvciIsImluc29ydGluZyIsImNvbXBsZXRlZGVzdGluYXRpb24iLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQWxCO0FBQ0EsTUFBTUMsTUFBTSxHQUFHRixRQUFRLENBQUNFLE1BQXhCO0FBRUEsTUFBTUMsd0JBQXdCLEdBQUcsSUFBSUQsTUFBSixDQUFXO0FBQzNDRSxFQUFBQSxjQUFjLEVBQUVDLE1BRDJCO0FBRTNDQyxFQUFBQSxXQUFXLEVBQUU7QUFDWkMsSUFBQUEsY0FBYyxFQUFFO0FBQ2ZDLE1BQUFBLE1BQU0sRUFBRSxDQUNQO0FBQ0NDLFFBQUFBLElBQUksRUFBRTtBQUFFQyxVQUFBQSxJQUFJLEVBQUVDLElBQVI7QUFBY0MsVUFBQUEsUUFBUSxFQUFFLElBQXhCO0FBQThCQyxVQUFBQSxTQUFTLEVBQUU7QUFBekMsU0FEUDtBQUVDQyxRQUFBQSxJQUFJLEVBQUU7QUFBRUosVUFBQUEsSUFBSSxFQUFFTCxNQUFSO0FBQWdCTyxVQUFBQSxRQUFRLEVBQUUs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QURHO0FBRVRHLFVBQUFBLElBQUksRUFBRTtBQUFFTixZQUFBQSxJQUFJLEVBQUVMLE1BQVI7QUFBZ0JPLFlBQUFBLFFBQVEsRUFBRSxJQUExQjtBQUFnQ0MsWUFBQUEsU0FBUyxFQUFFO0FBQTNDLFdBRkc7QUFHVEksVUFBQUEsTUFBTSxFQUFFO0FBQUVQLFlBQUFBLElBQUksRUFBRVEsTUFBUjtBQUFnQk4sWUFBQUEsUUFBUSxFQUFFLElBQTFCO0FBQWdDQyxZQUFBQSxTQUFTLEVBQUU7QUFBM0MsV0FIQztBQUlUTSxVQUFBQSxRQUFRLEVBQUU7QUFBRVQsWUFBQUEsSUFBSSxFQUFFUSxNQUFSO0FBQWdCTixZQUFBQSxRQUFRLEVBQUUsSUFBMUI7QUFBZ0NDLFlBQUFBLFNBQVMsRUFBRTtBQUEzQyxXQUpEO0FBS1RPLFVBQUFBLE1BQU0sRUFBRTtBQUFFVixZQUFBQSxJQUFJLEVBQUVXLE9BQVI7QUFBaUJULFlBQUFBLFFBQVEsRUFBRSxJQUEzQjtBQUFpQ0MsWUFBQUEsU0FBUyxFQUFFO0FBQTVDLFdBTEM7QUFNVFMsVUFBQUEsS0FBSyxFQUFFO0FBQUVaLFlBQUFBLElBQUksRUFBRUwsTUFBUjtBQUFnQk8sWUFBQUEsUUFBUSxFQUFFLElBQTFCO0FBQWdDQyxZQUFBQSxTQUFTLEVBQUU7QUFBM0M7QUFORTtBQUhYLE9BRE87QUFEWTtBQW5GVDtBQUY4QixDQUFYLENBQWpDO0FBd0dBaUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCL0IsUUFBUSxDQUFDZ0MsS0FBVCxDQUFlLG9CQUFmLEVBQXFDN0Isd0JBQXJDLENBQWpCIiwic291cmNlUm9vdCI6IkM6XFxyZWNvbnNpZGVyZVxccmVjb25zaWRlcmUtY29ycG9yYXRpb24tYXBpXFxtb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcclxuXHJcbmNvbnN0IFRyYW5zYWN0aW9uSGlzdG9yeVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG5cdF9pZENvcnBvcmF0aW9uOiBTdHJpbmcsXHJcblx0Y2hlY2tQb2ludHM6IHtcclxuXHRcdHdhc3RlZ2VuZXJhdGVkOiB7XHJcblx0XHRcdHFyQ29kZTogW1xyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGRhdGU6IHsgdHlwZTogRGF0ZSwgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0Y29kZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdG1hdGVyaWFsOiB7XHJcblx0XHRcdFx0XHRcdHR5cGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdHdlaWdodDogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdFx0cXVhbnRpdHk6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdGFjdGl2ZTogeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdHVuaXR5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRdXHJcblx0XHR9LFxyXG5cdFx0Y29sbGVjdGlvbnJlcXVlc3RlZDoge1xyXG5cdFx0XHRxckNvZGU6IFtcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRkYXRlOiB7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdGNvZGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRtYXRlcmlhbDoge1xyXG5cdFx0XHRcdFx0XHR0eXBlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0XHRuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0XHR3ZWlnaHQ6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdHF1YW50aXR5OiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0XHRhY3RpdmU6IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0XHR1bml0eTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XVxyXG5cdFx0fSxcclxuXHRcdGNvbGxlY3Rpb25wZXJmb3JtZWQ6IHtcclxuXHRcdFx0cXJDb2RlOiBbXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ZGF0ZTogeyB0eXBlOiBEYXRlLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRjb2RlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0Y29uZmlybWVkQnlDb3Jwb3JhdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdGNvbmZpcm1lZEJ5Q29sbGVjdG9yOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0bWF0ZXJpYWw6IHtcclxuXHRcdFx0XHRcdFx0dHlwZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdFx0bmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdFx0d2VpZ2h0OiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0XHRxdWFudGl0eTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdFx0YWN0aXZlOiB7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdFx0dW5pdHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdF1cclxuXHRcdH0sXHJcblx0XHRhcnJpdmVkY29sbGVjdG9yOiB7XHJcblx0XHRcdHFyQ29kZTogW1xyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGRhdGU6IHsgdHlwZTogRGF0ZSwgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0Y29kZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdG1hdGVyaWFsOiB7XHJcblx0XHRcdFx0XHRcdHR5cGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdHdlaWdodDogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdFx0cXVhbnRpdHk6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdGFjdGl2ZTogeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdHVuaXR5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRdXHJcblx0XHR9LFxyXG5cdFx0aW5zb3J0aW5nOiB7XHJcblx0XHRcdHFyQ29kZTogW1xyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGRhdGU6IHsgdHlwZTogRGF0ZSwgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0Y29kZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdG1hdGVyaWFsOiB7XHJcblx0XHRcdFx0XHRcdHR5cGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdHdlaWdodDogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdFx0cXVhbnRpdHk6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdGFjdGl2ZTogeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdHVuaXR5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRdXHJcblx0XHR9LFxyXG5cdFx0Y29tcGxldGVkZXN0aW5hdGlvbjoge1xyXG5cdFx0XHRxckNvZGU6IFtcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRkYXRlOiB7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfSxcclxuXHRcdFx0XHRcdGNvZGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRtYXRlcmlhbDoge1xyXG5cdFx0XHRcdFx0XHR0eXBlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0XHRuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0XHR3ZWlnaHQ6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSwgaW1tdXRhYmxlOiB0cnVlIH0sXHJcblx0XHRcdFx0XHRcdHF1YW50aXR5OiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0XHRhY3RpdmU6IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0XHR1bml0eTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUgfVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XVxyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCd0cmFuc2FjdGlvbmhpc3RvcnknLCBUcmFuc2FjdGlvbkhpc3RvcnlTY2hlbWEpO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "transactionhistory.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "TransactionHistorySchema",
        "_idCorporation",
        "String",
        "checkPoints",
        "wastegenerated",
        "qrCode",
        "date",
        "type",
        "Date",
        "required",
        "immutable",
        "code",
        "material",
        "name",
        "weight",
        "Number",
        "quantity",
        "active",
        "Boolean",
        "unity",
        "collectionrequested",
        "collectionperformed",
        "confirmedByCorporation",
        "confirmedByCollector",
        "arrivedcollector",
        "insorting",
        "completedestination",
        "module",
        "exports",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
      "sourcesContent": [
        "mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst TransactionHistorySchema = new Schema({\r\n\t_idCorporation: String,\r\n\tcheckPoints: {\r\n\t\twastegenerated: {\r\n\t\t\tqrCode: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdate: { type: Date, required: true, immutable: true },\r\n\t\t\t\t\tcode: { type: String, required: true, immutable: true },\r\n\t\t\t\t\tmaterial: {\r\n\t\t\t\t\t\ttype: { type: String, required: true, immutable: true },\r\n\t\t\t\t\t\tname: { type: String, required: true, immutable: true },\r\n\t\t\t\t\t\tweight: { type: Number, required: true, immutable: true },\r\n\t\t\t\t\t\tquantity: { type: Number, required: true, immutable: true },\r\n\t\t\t\t\t\tactive: { type: Boolean, required: true, immutable: true },\r\n\t\t\t\t\t\tunity: { type: String, required: true, immutable: true }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tcollectionrequested: {\r\n\t\t\tqrCode: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdate: { type: Date, required: true, immutable: true },\r\n\t\t\t\t\tcode: { type: String, required: true, immutable: true },\r\n\t\t\t\t\tmaterial: {\r\n\t\t\t\t\t\ttype: { type: String, required: true, immutable: true },\r\n\t\t\t\t\t\tname: { type: String, required: true, immutable: true },\r\n\t\t\t\t\t\tweight: { type: Number, required: true, immutable: true },\r\n\t\t\t\t\t\tquantity: { type: Number, required: true, immutable: true },\r\n\t\t\t\t\t\tactive: { type: Boolean, required: true, immutable: true },\r\n\t\t\t\t\t\tunity: { type: String, required: true, immutable: true }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tcollectionperformed: {\r\n\t\t\tqrCode: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdate: { type: Date, required: true, immutable: true },\r\n\t\t\t\t\tcode: { type: String, required: true, immutable: true },\r\n\t\t\t\t\tconfirmedByCorporation: { type: String, required: true, immutable: true },\r\n\t\t\t\t\tconfirmedByCollector: { type: String, required: true, immutable: true },\r\n\t\t\t\t\tmaterial: {\r\n\t\t\t\t\t\ttype: { type: String, required: true, immutable: true },\r\n\t\t\t\t\t\tname: { type: String, required: true, immutable: true },\r\n\t\t\t\t\t\tweight: { type: Number, required: true, immutable: true },\r\n\t\t\t\t\t\tquantity: { type: Number, required: true, immutable: true },\r\n\t\t\t\t\t\tactive: { type: Boolean, required: true, immutable: true },\r\n\t\t\t\t\t\tunity: { type: String, required: true, immutable: true }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tarrivedcollector: {\r\n\t\t\tqrCode: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdate: { type: Date, required: true, immutable: true },\r\n\t\t\t\t\tcode: { type: String, required: true, immutable: true },\r\n\t\t\t\t\tmaterial: {\r\n\t\t\t\t\t\ttype: { type: String, required: true, immutable: true },\r\n\t\t\t\t\t\tname: { type: String, required: true, immutable: true },\r\n\t\t\t\t\t\tweight: { type: Number, required: true, immutable: true },\r\n\t\t\t\t\t\tquantity: { type: Number, required: true, immutable: true },\r\n\t\t\t\t\t\tactive: { type: Boolean, required: true, immutable: true },\r\n\t\t\t\t\t\tunity: { type: String, required: true, immutable: true }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tinsorting: {\r\n\t\t\tqrCode: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdate: { type: Date, required: true, immutable: true },\r\n\t\t\t\t\tcode: { type: String, required: true, immutable: true },\r\n\t\t\t\t\tmaterial: {\r\n\t\t\t\t\t\ttype: { type: String, required: true, immutable: true },\r\n\t\t\t\t\t\tname: { type: String, required: true, immutable: true },\r\n\t\t\t\t\t\tweight: { type: Number, required: true, immutable: true },\r\n\t\t\t\t\t\tquantity: { type: Number, required: true, immutable: true },\r\n\t\t\t\t\t\tactive: { type: Boolean, required: true, immutable: true },\r\n\t\t\t\t\t\tunity: { type: String, required: true, immutable: true }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tcompletedestination: {\r\n\t\t\tqrCode: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdate: { type: Date, required: true, immutable: true },\r\n\t\t\t\t\tcode: { type: String, required: true, immutable: true },\r\n\t\t\t\t\tmaterial: {\r\n\t\t\t\t\t\ttype: { type: String, required: true, immutable: true },\r\n\t\t\t\t\t\tname: { type: String, required: true, immutable: true },\r\n\t\t\t\t\t\tweight: { type: Number, required: true, immutable: true },\r\n\t\t\t\t\t\tquantity: { type: Number, required: true, immutable: true },\r\n\t\t\t\t\t\tactive: { type: Boolean, required: true, immutable: true },\r\n\t\t\t\t\t\tunity: { type: String, required: true, immutable: true }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n});\r\n\r\nmodule.exports = mongoose.model('transactionhistory', TransactionHistorySchema);\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1574108598467
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\indexCorporation.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexCorporation.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexCorporation.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexCorporation.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
        "sourceFileName": "indexCorporation.js"
      }
    },
    "ast": null,
    "code": "const corporation = require('./corporation/Mutation/corporation');\n\nmodule.exports = { ...corporation\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4Q29ycG9yYXRpb24uanMiXSwibmFtZXMiOlsiY29ycG9yYXRpb24iLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsb0NBQUQsQ0FBM0I7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixFQUNoQixHQUFHSDtBQURhLENBQWpCIiwic291cmNlUm9vdCI6IkM6XFxyZWNvbnNpZGVyZVxccmVjb25zaWRlcmUtY29ycG9yYXRpb24tYXBpXFxyZXNvbHZlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb3Jwb3JhdGlvbiA9IHJlcXVpcmUoJy4vY29ycG9yYXRpb24vTXV0YXRpb24vY29ycG9yYXRpb24nKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdC4uLmNvcnBvcmF0aW9uXHJcbn07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "indexCorporation.js"
      ],
      "names": [
        "corporation",
        "require",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,WAAW,GAAGC,OAAO,CAAC,oCAAD,CAA3B;;AAEAC,MAAM,CAACC,OAAP,GAAiB,EAChB,GAAGH;AADa,CAAjB",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "sourcesContent": [
        "const corporation = require('./corporation/Mutation/corporation');\r\n\r\nmodule.exports = {\r\n\t...corporation\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1574105584170
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\corporation\\\\Mutation\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\corporation\\\\Mutation\\\\corporation.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\corporation\\Mutation",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\corporation\\Mutation\\corporation.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\corporation\\Mutation\\corporation.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\corporation\\Mutation\\corporation.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\corporation\\Mutation",
        "sourceFileName": "corporation.js"
      }
    },
    "ast": null,
    "code": "var Corporation = require('../../../models/corporation.model');\n\nvar Collector = require('../../../models/collector.model');\n\nvar Provider = require('../../../models/provider.model');\n\nvar CheckPoint = require('../../../models/checkpoint.model');\n\nvar TransactionHistory = require('../../../models/transactionhistory.model');\n\nmongoose = require('mongoose');\nvar Classification = {\n  Provider: 'Fornecedor',\n  Collector: 'Empresa Coletora'\n};\nmodule.exports = corporation = {\n  Query: {\n    async getCorporation(root, {\n      _id\n    }) {\n      return await Corporation.findById(_id);\n    },\n\n    async getCorporationByUser(root, {\n      _id\n    }) {\n      var res = await Corporation.findOne({\n        'users._id': _id\n      });\n\n      if (!res) {\n        return undefined;\n      } else {\n        return res;\n      }\n    },\n\n    async allCorporations() {\n      return await Corporation.find();\n    },\n\n    async allUnits(root, {\n      _id\n    }) {\n      var res = await Corporation.findById(_id);\n\n      if (res) {\n        var unit;\n        var units = [];\n\n        for (var i = 0; res.units.length > i; i++) {\n          unit = undefined;\n          unit = await Corporation.findById(res.units[i].unitsId);\n\n          if (!unit) {\n            unit = await Collector.findById(res.units[i].unitsId);\n          }\n\n          if (!unit) {\n            unit = await Provider.findById(res.units[i].unitsId);\n          }\n\n          if (unit) {\n            units.push(unit);\n          }\n        }\n\n        return units;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allDocuments(root, {\n      _id\n    }) {\n      var res = await Corporation.findById(_id);\n\n      if (res) {\n        return res.documents;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allDepartments(root, {\n      _id\n    }) {\n      var res = await Corporation.findById(_id);\n\n      if (res) {\n        return res.departments;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allResiduesRegister(root, {\n      _id\n    }) {\n      var res = await Corporation.findById(_id);\n\n      if (res) {\n        return res.residuesRegister;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allResidueArrived(root, {\n      _id\n    }) {\n      var res = await Corporation.findById(_id);\n\n      if (res) {\n        return res.residuesPerformed;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allSchedulings(root, {\n      _id\n    }) {\n      var res = await Corporation.findById(_id);\n\n      if (res) {\n        return res.scheduling;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allEntries(root, {\n      _id\n    }) {\n      var res = await Corporation.findById(_id);\n\n      if (res) {\n        return res.entries;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allProvidersId(root, {\n      _id\n    }) {\n      var res = await Corporation.findById(_id);\n\n      if (res) {\n        return res.myProviders;\n      } else {\n        return undefined;\n      }\n    }\n\n  },\n  Mutation: {\n    async createCorporation(root, {\n      input\n    }) {\n      var res = await Corporation.findOne({\n        'users.email': input.users[0].email\n      });\n\n      if (res) {\n        throw new Error('WRE005');\n      } else {\n        return await Corporation.create(input);\n      }\n    },\n\n    async createCorporationUnit(root, {\n      _id,\n      typeCorporation,\n      input\n    }) {\n      var res = await Corporation.findById(_id);\n\n      for (var i = 0; input.length > i; i++) {\n        for (var x = 0; res.units.length > x; x++) {\n          if (input[i].users[0].email === res.units[x].email) {\n            throw new Error('WRE005');\n          }\n        }\n      }\n\n      const session = await mongoose.startSession();\n\n      try {\n        session.startTransaction();\n\n        for (var i = 0; input.length > i; i++) {\n          var id = undefined;\n          var returned = await Corporation.create(input[i]).then(x => {\n            id = x._id;\n          });\n          addID(_id, id, typeCorporation);\n        }\n\n        await session.commitTransaction();\n        await session.endSession();\n        console.log('resolved');\n        return await Corporation.findById(_id);\n      } catch (error) {\n        await session.abortTransaction();\n        await session.endSession();\n        console.log(error);\n        console.log('aborting');\n        return new Error('ERE009');\n      }\n    },\n\n    async updateCorporation(root, {\n      _id,\n      input\n    }) {\n      return await Corporation.findOneAndUpdate({\n        _id\n      }, input, {\n        new: true\n      });\n    },\n\n    async deleteCorporation(root, {\n      _id\n    }) {// return await Collector.findOneAndRemove({\n      // \t_id\n      // });\n    },\n\n    async createorUpdateDepartment(root, {\n      _id,\n      input\n    }) {\n      try {\n        res = await Corporation.findById(_id, function (err, corp) {\n          if (err) {\n            return next(new Error('ERE009'));\n          } else {\n            for (var i = 0; input.length > i; i++) {\n              if (input[i]._id) {\n                index = corp.departments.findIndex(x => x._id == input[i]._id);\n\n                if (index) {\n                  corp.departments[index] = input[i];\n                } else if (!corp.departments || corp.departments.length <= 0) {\n                  corp.departments = [input[i]];\n                }\n              } else {\n                if (!corp.departments || corp.departments.length <= 0) {\n                  corp.departments = [input[i]];\n                } else {\n                  corp.departments.push(input[i]);\n                }\n              }\n            }\n\n            corp.save();\n            return;\n          }\n        });\n        var res = await Corporation.findById(_id);\n        return res.departments;\n      } catch (error) {\n        throw new Error('ERE009');\n      }\n    },\n\n    async createorUpdateResiduesRegister(root, {\n      _id,\n      input\n    }) {\n      const session = await mongoose.startSession();\n\n      try {\n        session.startTransaction();\n        var res = await Corporation.findById(_id);\n        var returnElement;\n\n        if (!res.residuesRegister || !res.residuesRegister.departments || res.residuesRegister.departments.length <= 0) {\n          var elementSaved;\n          returnElement = await new Promise((resolve, reject) => {\n            Corporation.findById(_id, function (err, corp) {\n              if (!corp) console.log('ERE009');else {\n                input.departments.forEach(department => {\n                  if (!res.residuesRegister || !res.residuesRegister.departments || res.residuesRegister.departments.length <= 0) {\n                    res['residuesRegister'] = new Object();\n                    var depart = {\n                      _id: department._id,\n                      name: department.name,\n                      isChanged: false,\n                      description: department.description,\n                      active: department.active,\n                      qrCode: []\n                    };\n                    res['residuesRegister']['departments'] = [depart];\n                  } else {\n                    var depart = {\n                      _id: department._id,\n                      name: department.name,\n                      isChanged: false,\n                      description: department.description,\n                      active: department.active,\n                      qrCode: []\n                    };\n                    var exist = res.residuesRegister.departments.find(x => x.name === depart.name);\n\n                    if (!exist) {\n                      res.residuesRegister.departments.push(depart);\n                    }\n                  }\n                });\n                input.departments.forEach(department => {\n                  department.qrCode.forEach(qrCode => {\n                    res.residuesRegister.departments.forEach(departmentDB => {\n                      if (department.name === departmentDB.name) {\n                        departmentDB.qrCode.push(qrCode);\n                      }\n                    });\n                  });\n                });\n                corp.residuesRegister = res.residuesRegister;\n                corp.update(corp).then(x => {\n                  resolve(corp);\n                });\n              }\n            });\n          });\n          /* gerando checkPoint */\n\n          var checkpoint = await CheckPoint.findOne({\n            _idCorporation: _id\n          });\n          var isNew = false;\n          res = await Corporation.findById(_id);\n          var checkpoin = await new Promise(async (resolve, reject) => {\n            res.residuesRegister.departments.forEach(department => {\n              department.qrCode.forEach(qrCode => {\n                if (!checkpoint) {\n                  var value = {\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n                  checkpoint = new Object({\n                    _idCorporation: _id,\n                    wastegenerated: new Object({\n                      qrCode: [value]\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n\n                  if (!checkpoint.wastegenerated || checkpoint.wastegenerated.length <= 0) {\n                    checkpoint = new Object({\n                      _idCorporation: _id,\n                      wastegenerated: new Object({\n                        qrCode: [value]\n                      })\n                    });\n                  } else {\n                    checkpoint.wastegenerated.qrCode.push(value);\n                  }\n                }\n              });\n            });\n\n            if (isNew) {\n              var returned = await CheckPoint.create(checkpoint);\n            } else {\n              CheckPoint.findOne(function (err, check) {\n                if (!check) console.log('ERE009');else {\n                  if (!check || check.length <= 0) {\n                    check = check;\n                  } else {\n                    check.wastegenerated = checkpoint.wastegenerated;\n                  }\n\n                  check.update(check).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n          /*Gerando historico */\n\n          var transaction = await TransactionHistory.findOne({\n            _idCorporation: _id\n          });\n          var isNew = false;\n          res = await Corporation.findById(_id);\n          var history = await new Promise(async (resolve, reject) => {\n            res.residuesRegister.departments.forEach(department => {\n              department.qrCode.forEach(qrCode => {\n                if (!transaction) {\n                  var value = {\n                    date: new Date(),\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n                  transaction = new Object({\n                    _idCorporation: _id,\n                    checkPoints: new Object({\n                      wastegenerated: new Object({\n                        qrCode: [value]\n                      })\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    date: new Date(),\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n\n                  if (transaction.checkPoints.wastegenerated === undefined || transaction.checkPoints.wastegenerated.length <= 0) {\n                    transaction = new Object({\n                      _idCorporation: _id,\n                      checkPoints: new Object({\n                        wastegenerated: new Object({\n                          qrCode: [value]\n                        })\n                      })\n                    });\n                  } else {\n                    transaction.checkPoints.wastegenerated.qrCode.push(value);\n                  }\n                }\n              });\n            });\n\n            if (isNew) {\n              var returned = await TransactionHistory.create(transaction);\n            } else {\n              TransactionHistory.findOne(function (err, trans) {\n                if (!trans) console.log('ERE009');else {\n                  if (trans === undefined || trans.length <= 0) {\n                    trans = transaction;\n                  } else {\n                    trans.checkPoints.wastegenerated = transaction.checkPoints.wastegenerated;\n                  }\n\n                  trans.update(trans).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n        } else {\n          var removed = false;\n\n          for (i = 0; input.departments.length > i; i++) {\n            if (input.departments[i].isChanged) {\n              var existRemoved = false;\n              /*verifica se existe mudança de departamento e exclui o item que esta salvo no departamento antigo para depois inserir no novo\r\n              Se por acaso o usuário modificou, mas voltou ao antigo ele apenas não exclui e retorn\r\n              */\n\n              for (y = 0; y < input.departments[i].qrCode.length; y++) {\n                res.residuesRegister.departments.forEach((department, index) => {\n                  department.qrCode.forEach((qrCode, indexQrCode) => {\n                    if (input.departments[i]._id !== department._id) {\n                      if (qrCode.code === input.departments[i].qrCode[y].code) {\n                        department.qrCode.splice(indexQrCode, 1);\n                      }\n                    }\n                  });\n                }); //se não tem mais qrcode remove o departamento\n\n                res.residuesRegister.departments.forEach((department, index) => {\n                  if (!department || !department.qrCode || department.qrCode.length <= 0) {\n                    res.residuesRegister.departments.splice(index, 1);\n                  }\n                });\n              }\n\n              input.departments[i].isChanged = false;\n              removed = true;\n            }\n          }\n\n          await res.update(res).then(console.log('ok removed from old'));\n          res = await Corporation.findById(_id);\n\n          for (i = 0; input.departments.length > i; i++) {\n            res = await Corporation.findById(_id);\n            var exist = await res.residuesRegister.departments.find(x => x._id == input.departments[i]._id);\n\n            if (exist === undefined || exist.length <= 0) {\n              await res.residuesRegister.departments.push(input.departments[i]);\n              await res.update(res).then(console.log('ok push in department'));\n              res = await Corporation.findById(_id);\n              /* gerando checkPoint */\n\n              var checkpoint = await CheckPoint.findOne({\n                _idCorporation: _id\n              });\n              var element = await new Promise((resolve, reject) => {\n                res.residuesRegister.departments.forEach(department => {\n                  department.qrCode.forEach(qrCode => {\n                    if (input.departments[i].name === department.name) {\n                      checkpoint.wastegenerated.qrCode.push(qrCode);\n                    }\n                  });\n                });\n                CheckPoint.findOne({\n                  _idCorporation: _id\n                }, function (err, check) {\n                  if (!check) console.log('ERE009');else {\n                    check.wastegenerated = checkpoint.wastegenerated;\n                    check.update(check).then(x => {});\n                  }\n                });\n                resolve();\n              });\n              /* gerando histórico de alterações */\n\n              res = await Corporation.findById(_id);\n              var transaction = TransactionHistory.findOne({\n                _idCorporation: _id\n              });\n              var history = await new Promise((resolve, reject) => {\n                res.residuesRegister.departments.forEach(department => {\n                  department.qrCode.forEach(qrCode => {\n                    if (input.departments[i].name === department.name) {\n                      var value = {\n                        date: new Date(),\n                        code: qrCode.code,\n                        material: qrCode.material\n                      };\n                      TransactionHistory.findOne({\n                        _idCorporation: _id\n                      }, function (err, trans) {\n                        if (!trans) console.log('ERE009');else {\n                          trans.checkPoints.wastegenerated.qrCode.push(value);\n                          trans.update(trans).then(x => {});\n                        }\n                      });\n                    }\n                  });\n                });\n                resolve();\n              });\n              res = await Corporation.findById(_id);\n            } else {\n              for (q = 0; input.departments[i].qrCode.length > q; q++) {\n                var isUpdated = false;\n                res = await Corporation.findById(_id);\n\n                if (input.departments[i].qrCode[q]._id) {\n                  res.residuesRegister.departments.forEach(department => {\n                    department.qrCode.forEach(qrCode => {\n                      if (qrCode.code == input.departments[i].qrCode[q].code) {\n                        qrCode.set(input.departments[i].qrCode[q]);\n                        isUpdated = true;\n                      }\n                    });\n                  });\n\n                  if (isUpdated) {\n                    await res.update(res).then(console.log('ok set qr codes'));\n                    res = await Corporation.findById(_id);\n                    isUpdated = false;\n                    /* gerando checkPoint */\n\n                    var checkpoint = await CheckPoint.findOne({\n                      _idCorporation: _id\n                    });\n                    var element = await new Promise((resolve, reject) => {\n                      checkpoint.wastegenerated.qrCode.forEach(qrCode => {\n                        if (qrCode.code == input.departments[i].qrCode[q].code) {\n                          qrCode.set(input.departments[i].qrCode[q]);\n                        }\n                      });\n                      CheckPoint.findOne({\n                        _idCorporation: _id\n                      }, function (err, check) {\n                        if (!check) console.log('ERE009');else {\n                          check.wastegenerated = checkpoint.wastegenerated;\n                          check.update(check).then(x => {\n                            resolve();\n                          });\n                        }\n                      });\n                    });\n                    /* gerando histórico de alterações */\n\n                    var transaction = await TransactionHistory.findOne({\n                      _idCorporation: _id\n                    });\n                    res = await Corporation.findById(_id);\n                    var history = await new Promise((resolve, reject) => {\n                      var value = {\n                        date: new Date(),\n                        code: input.departments[i].qrCode[q].code,\n                        material: input.departments[i].qrCode[q].material\n                      };\n                      TransactionHistory.findOne({\n                        _idCorporation: _id\n                      }, function (err, trans) {\n                        if (!trans) console.log('ERE009');else {\n                          trans.checkPoints.wastegenerated.qrCode.push(value);\n                          trans.update(trans).then(x => {});\n                        }\n                      });\n                      resolve();\n                    });\n                    res = await Corporation.findById(_id);\n                  }\n                } else {\n                  res.residuesRegister.departments.forEach(department => {\n                    if (input.departments[i]._id == department._id) {\n                      department.qrCode.push(input.departments[i].qrCode[q]);\n                    }\n                  });\n                  await res.update(res).then(console.log('ok push to exist department'));\n                  res = await Corporation.findById(_id);\n                  /* gerando checkPoint */\n\n                  var checkpoint = await CheckPoint.findOne({\n                    _idCorporation: _id\n                  });\n                  var isPushed = false;\n                  var element = await new Promise((resolve, reject) => {\n                    checkpoint.wastegenerated.qrCode.forEach((qrCode, index) => {\n                      if (!isPushed) {\n                        checkpoint.wastegenerated.qrCode.push(input.departments[i].qrCode[q]);\n                        isPushed = true;\n                      }\n                    });\n                    CheckPoint.findOne({\n                      _idCorporation: _id\n                    }, function (err, check) {\n                      if (!check) console.log('ERE009');else {\n                        check.wastegenerated = checkpoint.wastegenerated;\n                        check.update(check).then(x => {\n                          resolve();\n                        });\n                      }\n                    });\n                  });\n                  /* gerando histórico de alterações */\n\n                  res = await Corporation.findById(_id);\n                  var transaction = await TransactionHistory.findOne({\n                    _idCorporation: _id\n                  });\n                  var history = await new Promise((resolve, reject) => {\n                    var value = {\n                      date: new Date(),\n                      code: input.departments[i].qrCode[q].code,\n                      material: input.departments[i].qrCode[q].material\n                    };\n                    TransactionHistory.findOne({\n                      _idCorporation: _id\n                    }, function (err, trans) {\n                      if (!trans) console.log('ERE009');else {\n                        trans.checkPoints.wastegenerated.qrCode.push(value);\n                        trans.update(trans).then(x => {});\n                        resolve();\n                      }\n                    });\n                  });\n                  res = await Corporation.findById(_id);\n                }\n              }\n            }\n          }\n        }\n\n        await session.commitTransaction();\n        await session.endSession();\n        console.log('resolved');\n        var res = await Corporation.findById(_id);\n        return res.residuesRegister;\n      } catch (error) {\n        await session.abortTransaction();\n        await session.endSession();\n        console.log(error);\n        console.log('aborting');\n        return new Error('ERE009');\n      }\n    },\n\n    async createorUpdateScheduling(root, {\n      _id,\n      input\n    }) {\n      const session = await mongoose.startSession();\n\n      try {\n        session.startTransaction();\n        var res = await Corporation.findById(_id);\n\n        if (!res.scheduling || res.scheduling.length <= 0) {\n          returnElement = await new Promise((resolve, reject) => {\n            Corporation.findById(_id, function (err, corp) {\n              if (!corp) console.log('ERE009');else {\n                input.forEach(scheduling => {\n                  if (res.scheduling === undefined || res.scheduling.length <= 0) {\n                    res.scheduling = [scheduling];\n                  } else {\n                    res.scheduling.push(scheduling);\n                  }\n                });\n              }\n              corp.scheduling = res.scheduling;\n              corp.update(corp).then(x => {\n                resolve(corp);\n              });\n            });\n          });\n          /* gerando checkPoint */\n\n          var checkpoint = await CheckPoint.findOne({\n            _idCorporation: _id\n          });\n          res = await Corporation.findById(_id);\n          var isNew = false;\n          var checkpoin = await new Promise(async (resolve, reject) => {\n            res.scheduling.forEach(scheduling => {\n              scheduling.qrCode.forEach(qrCode => {\n                if (!checkpoint) {\n                  var value = {\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n                  checkpoint = new Object({\n                    collectionrequested: new Object({\n                      qrCode: [value]\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n\n                  if (!checkpoint.collectionrequested || checkpoint.collectionrequested.length <= 0) {\n                    checkpoint = new Object({\n                      collectionrequested: new Object({\n                        qrCode: [value]\n                      })\n                    });\n                  } else {\n                    checkpoint.collectionrequested.qrCode.push(value);\n                  }\n                }\n              });\n            });\n\n            if (isNew) {\n              var returned = await CheckPoint.create(checkpoint);\n            } else {\n              CheckPoint.findOne({\n                _idCorporation: _id\n              }, function (err, check) {\n                if (!check) console.log('ERE009');else {\n                  if (!check || check.length <= 0) {\n                    check = check;\n                  } else {\n                    check.collectionrequested = checkpoint.collectionrequested;\n                  }\n\n                  check.update(check).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n          /*Gerando historico */\n\n          var transaction = await TransactionHistory.findOne({\n            _idCorporation: _id\n          });\n          res = await Corporation.findById(_id);\n          var isNew = false;\n          var history = await new Promise(async (resolve, reject) => {\n            res.scheduling.forEach(scheduling => {\n              scheduling.qrCode.forEach(qrCode => {\n                if (!transaction) {\n                  var value = {\n                    date: new Date(),\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n                  transaction = new Object({\n                    checkPoints: new Object({\n                      collectionrequested: new Object({\n                        qrCode: [value]\n                      })\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    date: new Date(),\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n\n                  if (!transaction.checkPoints || !transaction.checkPoints.collectionrequested || transaction.checkPoints.collectionrequested.length <= 0) {\n                    transaction = new Object({\n                      checkPoints: new Object({\n                        collectionrequested: new Object({\n                          qrCode: [value]\n                        })\n                      })\n                    });\n                  } else {\n                    transaction.checkPoints.collectionrequested.qrCode.push(value);\n                  }\n                }\n              });\n            });\n\n            if (isNew) {\n              var returned = await TransactionHistory.create(transaction);\n            } else {\n              TransactionHistory.findOne({\n                _idCorporation: _id\n              }, function (err, trans) {\n                if (!trans) console.log('ERE009');else {\n                  if (!trans || trans.length <= 0) {\n                    trans = transaction;\n                  } else {\n                    trans.checkPoints.collectionrequested = transaction.checkPoints.collectionrequested;\n                  }\n\n                  trans.update(trans).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n        } else {\n          for (var i = 0; input.length > i; i++) {\n            var exist = await res.scheduling.find(x => x._id == input[i]._id);\n\n            if (!exist || exist.length <= 0) {\n              res.scheduling.push(input[i]);\n              await res.update(res).then(console.log('ok push scheduling'));\n            } else {\n              exist.set(input[i]);\n              await res.update(res).then(console.log('ok set scheduling'));\n            }\n\n            res = await Corporation.findById(_id);\n            /* gerando checkPoint */\n\n            var checkpoint = await CheckPoint.findOne({\n              _idCorporation: _id\n            });\n            var element = await new Promise((resolve, reject) => {\n              for (var x = 0; input[i].qrCode.length > x; x++) {\n                var existQr = undefined;\n\n                for (y = 0; y < checkpoint.collectionrequested.qrCode.length; y++) {\n                  if (checkpoint.collectionrequested.qrCode[y].code === input[i].qrCode[x].code) {\n                    existQr = checkpoint.collectionrequested.qrCode[y];\n                  }\n                }\n\n                if (existQr) {\n                  existQr.set(input[i].qrCode[x]);\n                } else {\n                  checkpoint.collectionrequested.qrCode.push(input[i].qrCode[x]);\n                }\n              }\n\n              CheckPoint.findOne({\n                _idCorporation: _id\n              }, function (err, check) {\n                if (!check) console.log('ERE009');else {\n                  check.collectionrequested = checkpoint.collectionrequested;\n                  check.update(check).then(x => {\n                    resolve();\n                  });\n                }\n              });\n            });\n            /* gerando histórico de alterações */\n\n            var transaction = await TransactionHistory.findOne({\n              _idCorporation: _id\n            });\n            var element = await new Promise((resolve, reject) => {\n              for (var x = 0; input[i].qrCode.length > x; x++) {\n                transaction.checkPoints.collectionrequested.qrCode.push(input[i].qrCode[x]);\n              }\n\n              TransactionHistory.findOne({\n                _idCorporation: _id\n              }, function (err, trans) {\n                if (!trans) console.log('ERE009');else {\n                  trans.checkPoints.collectionrequested = transaction.checkPoints.collectionrequested;\n                  trans.update(trans).then(x => {\n                    resolve();\n                  });\n                }\n              });\n            });\n            res = await Corporation.findById(_id);\n          }\n        }\n\n        await session.commitTransaction();\n        await session.endSession();\n        console.log('resolved');\n        var res = await Corporation.findById(_id);\n        return res.scheduling;\n      } catch (error) {\n        await session.abortTransaction();\n        await session.endSession();\n        console.log(error);\n        console.log('aborting');\n        return new Error('ERE009');\n      }\n    },\n\n    async createorUpdateEntries(root, {\n      _id,\n      input\n    }) {\n      const session = await mongoose.startSession();\n\n      try {\n        session.startTransaction();\n        var res = await Corporation.findById(_id);\n\n        if (res.entries === undefined || res.entries === null) {\n          returnElement = await new Promise((resolve, reject) => {\n            Corporation.findById(_id, function (err, corp) {\n              if (!corp) console.log('ERE009');else {\n                if (res.entries === undefined || res.entries === null) {\n                  res.entries = input;\n                } else {\n                  res.entries = input;\n                }\n              }\n              corp.entries = res.entries;\n              corp.update(corp).then(x => {\n                resolve(corp);\n              });\n            });\n          });\n          /* gerando checkPoint */\n\n          var checkpoint = await CheckPoint.find({\n            _idCorporation: _id\n          });\n          res = await Corporation.findById(_id);\n          var isNew = false;\n          var checkpoin = await new Promise(async (resolve, reject) => {\n            if (res.entries.sale && res.entries.sale.length > 0) {\n              res.entries.sale.forEach(sale => {\n                if (!checkpoint || checkpoint.length <= 0) {\n                  var value = {\n                    code: sale.qrCode.code,\n                    material: sale.qrCode.material\n                  };\n                  checkpoint = new Object({\n                    collectionperformed: new Object({\n                      qrCode: [value]\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    code: sale.qrCode.code,\n                    material: sale.qrCode.material\n                  };\n\n                  if (!checkpoint.collectionperformed || checkpoint.collectionperformed.length <= 0) {\n                    checkpoint = new Object({\n                      collectionperformed: new Object({\n                        qrCode: [value]\n                      })\n                    });\n                  } else {\n                    checkpoint.collectionperformed.qrCode.push(value);\n                  }\n                }\n              });\n            } else if (res.entries.purchase && res.entries.purchase.length > 0) {\n              res.entries.purchase.forEach(purchase => {\n                if (!checkpoint || checkpoint.length <= 0) {\n                  var value = {\n                    code: purchase.qrCode.code,\n                    material: purchase.qrCode.material\n                  };\n                  checkpoint = new Object({\n                    collectionperformed: new Object({\n                      qrCode: [value]\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    code: purchase.qrCode.code,\n                    material: purchase.qrCode.material\n                  };\n\n                  if (!checkpoint.collectionperformed || checkpoint.collectionperformed.length <= 0) {\n                    checkpoint = new Object({\n                      collectionperformed: new Object({\n                        qrCode: [value]\n                      })\n                    });\n                  } else {\n                    checkpoint.collectionperformed.qrCode.push(value);\n                  }\n                }\n              });\n            }\n\n            if (isNew) {\n              var returned = await CheckPoint.create(checkpoint);\n            } else {\n              CheckPoint.findOne({\n                _idCorporation: _id\n              }, function (err, check) {\n                if (!check) {\n                  console.log('ERE009');\n                } else {\n                  if (!check || check.length <= 0) {\n                    check = checkpoint;\n                  } else {\n                    check.collectionperformed = checkpoint.collectionperformed;\n                  }\n\n                  check.update(check).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n          /* gerando histórico de alterações */\n\n          var transaction = await TransactionHistory.find({\n            _idCorporation: _id\n          });\n          res = await Corporation.findById(_id);\n          var isNew = false;\n          var history = await new Promise(async (resolve, reject) => {\n            if (res.entries.sale && res.entries.sale.length > 0) {\n              res.entries.sale.forEach(sale => {\n                if (transaction === undefined || transaction === null) {\n                  var value = {\n                    date: new Date(),\n                    code: sale.qrCode.code,\n                    material: sale.qrCode.material\n                  };\n                  transaction = new Object({\n                    checkPoints: new Object({\n                      collectionperformed: new Object({\n                        qrCode: [value]\n                      })\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    date: new Date(),\n                    code: sale.qrCode.code,\n                    material: sale.qrCode.material\n                  };\n\n                  if (!transaction.checkPoints || !transaction.checkPoints.collectionperformed || transaction.checkPoints.collectionperformed.length <= 0) {\n                    transaction = new Object({\n                      checkPoints: new Object({\n                        collectionperformed: new Object({\n                          qrCode: [value]\n                        })\n                      })\n                    });\n                  } else {\n                    transaction.checkPoints.collectionperformed.qrCode.push(value);\n                  }\n                }\n              });\n            } else if (res.entries.purchase && res.entries.purchase.length > 0) {\n              res.entries.purchase.forEach(purchase => {\n                if (transaction === undefined || transaction === null) {\n                  var value = {\n                    date: new Date(),\n                    code: purchase.qrCode.code,\n                    material: purchase.qrCode.material\n                  };\n                  transaction = new Object({\n                    checkPoints: new Object({\n                      collectionperformed: new Object({\n                        qrCode: [value]\n                      })\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    date: new Date(),\n                    code: purchase.qrCode.code,\n                    material: purchase.qrCode.material\n                  };\n\n                  if (!transaction.checkPoints || !transaction.checkPoints.collectionperformed || transaction.checkPoints.collectionperformed.length <= 0) {\n                    transaction = new Object({\n                      checkPoints: new Object({\n                        collectionperformed: new Object({\n                          qrCode: [value]\n                        })\n                      })\n                    });\n                  } else {\n                    transaction.checkPoints.collectionperformed.qrCode.push(value);\n                  }\n                }\n              });\n            }\n\n            if (isNew) {\n              var returned = await TransactionHistory.create(transaction);\n            } else {\n              TransactionHistory.findOne({\n                _idCorporation: _id\n              }, function (err, trans) {\n                if (!trans) console.log('ERE009');else {\n                  if (trans === undefined || trans === null) {\n                    trans = transaction;\n                  } else {\n                    trans.checkPoints.collectionperformed = transaction.checkPoints.collectionperformed;\n                  }\n\n                  trans.update(trans).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n        } else {\n          if (input.sale !== undefined || input.sale.length > 0) {\n            for (i = 0; i < input.sale.length; i++) {\n              var exist = await res.entries.sale.find(x => x._id == input.sale[i]._id);\n\n              if (exist) {\n                exist.set(input.sale[i]);\n                await res.update(res).then(console.log('ok set entries sale'));\n              } else {\n                await res.entries.sale.push(input.sale[i]);\n                await res.update(res).then(console.log('ok push entries sale'));\n              }\n\n              res = await Corporation.findById(_id);\n              /* gerando checkPoint */\n\n              var checkpoint = await CheckPoint.findOne({\n                _idCorporation: _id\n              });\n              var element = await new Promise((resolve, reject) => {\n                if (input.sale !== undefined && input.sale.length > 0) {\n                  var existQr = undefined;\n\n                  for (y = 0; y < checkpoint.collectionperformed.qrCode.length; y++) {\n                    if (checkpoint.collectionperformed.qrCode[y].code === input.sale[i].qrCode.code) {\n                      existQr = checkpoint.collectionperformed.qrCode[y];\n                    }\n                  }\n\n                  if (existQr) {\n                    existQr.set(input.sale[i].qrCode);\n                  } else {\n                    checkpoint.collectionperformed.qrCode.push(input.sale[i].qrCode);\n                  }\n                }\n\n                CheckPoint.findOne({\n                  _idCorporation: _id\n                }, function (err, check) {\n                  if (!check) console.log('ERE009');else {\n                    check.collectionperformed = checkpoint.collectionperformed;\n                    check.update(check).then(x => {\n                      resolve();\n                    });\n                  }\n                });\n              });\n              /* gerando histórico de alterações */\n\n              res = await Corporation.findById(_id);\n              var transaction = await TransactionHistory.findOne({\n                _idCorporation: _id\n              });\n              var element = await new Promise((resolve, reject) => {\n                if (input.sale !== undefined && input.sale.length > 0) {\n                  transaction.checkPoints.collectionperformed.qrCode.push(input.sale[i].qrCode);\n                }\n\n                TransactionHistory.findOne({\n                  _idCorporation: _id\n                }, function (err, trans) {\n                  if (!trans) console.log('ERE009');else {\n                    trans.checkPoints.collectionperformed = transaction.checkPoints.collectionperformed;\n                    trans.update(trans).then(x => {\n                      resolve();\n                    });\n                  }\n                });\n              });\n              res = await Corporation.findById(_id);\n            }\n          } else if (input.purchase !== undefined || input.purchase.length > 0) {\n            for (i = 0; i < input.purchase.length; i++) {\n              var exist = await res.entries.purchase.find(x => x._id == input.purchase[i]._id);\n\n              if (exist) {\n                exist.set(input.purchase[i]);\n                await res.update(res).then(console.log('ok set entries purchase'));\n              } else {\n                await res.entries.purchase.push(input.purchase[i]);\n                await res.update(res).then(console.log('ok push entries purchase'));\n              }\n\n              res = await Corporation.findById(_id);\n              /* gerando checkPoint */\n\n              var checkpoint = await CheckPoint.findOne({\n                _idCorporation: _id\n              });\n              var element = await new Promise((resolve, reject) => {\n                if (input.purchase !== undefined && input.purchase.length > 0) {\n                  var existQr = undefined;\n\n                  for (y = 0; y < checkpoint.collectionperformed.qrCode.length; y++) {\n                    if (checkpoint.collectionperformed.qrCode[y].code === input.purchase[i].qrCode.code) {\n                      existQr = checkpoint.collectionperformed.qrCode[y];\n                    }\n                  }\n\n                  if (existQr) {\n                    existQr.set(input.purchase[i].qrCode);\n                  } else {\n                    checkpoint.collectionperformed.qrCode.push(input.purchase[i].qrCode);\n                  }\n                }\n\n                CheckPoint.findOne({\n                  _idCorporation: _id\n                }, function (err, check) {\n                  if (!check) console.log('ERE009');else {\n                    check.collectionperformed = checkpoint.collectionperformed;\n                    check.update(check).then(x => {\n                      resolve();\n                    });\n                  }\n                });\n              });\n              /* gerando histórico de alterações */\n\n              res = await Corporation.findById(_id);\n              var transaction = await TransactionHistory.findOne();\n              var element = await new Promise((resolve, reject) => {\n                if (input.purchase !== undefined && input.purchase.length > 0) {\n                  transaction.checkPoints.collectionperformed.qrCode.push(input.purchase[i].qrCode);\n                }\n\n                TransactionHistory.findOne({\n                  _idCorporation: _id\n                }, function (err, trans) {\n                  if (!trans) console.log('ERE009');else {\n                    trans.checkPoints.collectionperformed = transaction.checkPoints.collectionperformed;\n                    trans.update(trans).then(x => {\n                      resolve();\n                    });\n                  }\n                });\n              });\n              res = await Corporation.findById(_id);\n            }\n          }\n        }\n\n        await session.commitTransaction();\n        await session.endSession();\n        console.log('resolved');\n        var res = await Corporation.findById(_id);\n        return res.entries;\n      } catch (error) {\n        await session.abortTransaction();\n        await session.endSession();\n        console.log(error);\n        console.log('aborting');\n        return new Error('ERE009');\n      }\n    },\n\n    async createorUpdateResidueArrived(root, {\n      _id,\n      input\n    }) {},\n\n    async createorUpdateDocument(root, {\n      _id,\n      input\n    }) {\n      try {\n        var element = await new Promise((resolve, reject) => {\n          var res = Corporation.findById(_id, function (err, corp) {\n            if (err) {\n              reject(next(new Error('ERE009')));\n            } else {\n              for (var i = 0; input.length > i; i++) {\n                if (input[i]._id) {\n                  index = corp.documents.findIndex(x => x._id == input[i]._id);\n                  corp.documents[index] = input[i];\n                } else {\n                  corp.documents.push(input[i]);\n                }\n              }\n\n              corp.save();\n              resolve(corp);\n            }\n          });\n        });\n        var res = await Corporation.findById(_id);\n        return res.documents;\n      } catch (error) {\n        throw new Error('ERE009');\n      }\n    }\n\n  }\n};\n\nasync function addID(_id, id, typeCorporation) {\n  var object = {\n    unitsId: id\n  };\n\n  if (typeCorporation === Classification.Collector) {\n    var collector = await Collector.findById(_id);\n\n    if (collector.units === undefined || collector.units.length <= 0) {\n      collector['units'] = [object];\n    } else {\n      collector.units.push(object);\n    }\n\n    Collector.findOne(_id, function (err, coll) {\n      if (!coll) console.log('ERE009');else {\n        coll.units = collector.units;\n        coll.update(coll).then(x => {});\n      }\n    });\n  } else if (typeCorporation === Classification.Provider) {\n    var provider = await Provider.findById(_id);\n\n    if (provider.units === undefined || provider.units.length <= 0) {\n      provider['units'] = [object];\n    } else {\n      provider.units.push(object);\n    }\n\n    Provider.findOne(_id, function (err, prov) {\n      if (!prov) console.log('ERE009');else {\n        prov.units = provider.units;\n        prov.update(prov).then(x => {});\n      }\n    });\n  } else {\n    var corporation = await Corporation.findById(_id);\n\n    if (corporation.units === undefined || corporation.units.length <= 0) {\n      corporation['units'] = [object];\n    } else {\n      corporation.units.push(object);\n    }\n\n    await Corporation.findById(_id, function (err, corp) {\n      if (!corp) console.log('ERE009');else {\n        corp.units = corporation.units;\n        corp.update(corp).then(x => {});\n      }\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcnBvcmF0aW9uLmpzIl0sIm5hbWVzIjpbIkNvcnBvcmF0aW9uIiwicmVxdWlyZSIsIkNvbGxlY3RvciIsIlByb3ZpZGVyIiwiQ2hlY2tQb2ludCIsIlRyYW5zYWN0aW9uSGlzdG9yeSIsIm1vbmdvb3NlIiwiQ2xhc3NpZmljYXRpb24iLCJtb2R1bGUiLCJleHBvcnRzIiwiY29ycG9yYXRpb24iLCJRdWVyeSIsImdldENvcnBvcmF0aW9uIiwicm9vdCIsIl9pZCIsImZpbmRCeUlkIiwiZ2V0Q29ycG9yYXRpb25CeVVzZXIiLCJyZXMiLCJmaW5kT25lIiwidW5kZWZpbmVkIiwiYWxsQ29ycG9yYXRpb25zIiwiZmluZCIsImFsbFVuaXRzIiwidW5pdCIsInVuaXRzIiwiaSIsImxlbmd0aCIsInVuaXRzSWQiLCJwdXNoIiwiYWxsRG9jdW1lbnRzIiwiZG9jdW1lbnRzIiwiYWxsRGVwYXJ0bWVudHMiLCJkZXBhcnRtZW50cyIsImFsbFJlc2lkdWVzUmVnaXN0ZXIiLCJyZXNpZHVlc1JlZ2lzdGVyIiwiYWxsUmVzaWR1ZUFycml2ZWQiLCJyZXNpZHVlc1BlcmZvcm1lZCIsImFsbFNjaGVkdWxpbmdzIiwic2NoZWR1bGluZyIsImFsbEVudHJpZXMiLCJlbnRyaWVzIiwiYWxsUHJvdmlkZXJzSWQiLCJteVByb3ZpZGVycyIsIk11dGF0aW9uIiwiY3JlYXRlQ29ycG9yYXRpb24iLCJpbnB1dCIsInVzZXJzIiwiZW1haWwiLCJFcnJvciIsImNyZWF0ZSIsImNyZWF0ZUNvcnBvcmF0aW9uVW5pdCIsInR5cGVDb3Jwb3JhdGlvbiIsIngiLCJzZXNzaW9uIiwic3RhcnRTZXNzaW9uIiwic3RhcnRUcmFuc2FjdGlvbiIsImlkIiwicmV0dXJuZWQiLCJ0aGVuIiwiYWRkSUQiLCJjb21taXRUcmFuc2FjdGlvbiIsImVuZFNlc3Npb24iLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJhYm9ydFRyYW5zYWN0aW9uIiwidXBkYXRlQ29ycG9yYXRpb24iLCJmaW5kT25lQW5kVXBkYXRlIiwibmV3IiwiZGVsZXRlQ29ycG9yYXRpb24iLCJjcmVhdGVvclVwZGF0ZURlcGFydG1lbnQiLCJlcnIiLCJjb3JwIiwibmV4dCIsImluZGV4IiwiZmluZEluZGV4Iiwic2F2ZSIsImNyZWF0ZW9yVXBkYXRlUmVzaWR1ZXNSZWdpc3RlciIsInJldHVybkVsZW1lbnQiLCJlbGVtZW50U2F2ZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZvckVhY2giLCJkZXBhcnRtZW50IiwiT2JqZWN0IiwiZGVwYXJ0IiwibmFtZSIsImlzQ2hhbmdlZCIsImRlc2NyaXB0aW9uIiwiYWN0aXZlIiwicXJDb2RlIiwiZXhpc3QiLCJkZXBhcnRtZW50REIiLCJ1cGRhdGUiLCJjaGVja3BvaW50IiwiX2lkQ29ycG9yYXRpb24iLCJpc05ldyIsImNoZWNrcG9pbiIsInZhbHVlIiwiY29kZSIsIm1hdGVyaWFsIiwid2FzdGVnZW5lcmF0ZWQiLCJjaGVjayIsInRyYW5zYWN0aW9uIiwiaGlzdG9yeSIsImRhdGUiLCJEYXRlIiwiY2hlY2tQb2ludHMiLCJ0cmFucyIsInJlbW92ZWQiLCJleGlzdFJlbW92ZWQiLCJ5IiwiaW5kZXhRckNvZGUiLCJzcGxpY2UiLCJlbGVtZW50IiwicSIsImlzVXBkYXRlZCIsInNldCIsImlzUHVzaGVkIiwiY3JlYXRlb3JVcGRhdGVTY2hlZHVsaW5nIiwiY29sbGVjdGlvbnJlcXVlc3RlZCIsImV4aXN0UXIiLCJjcmVhdGVvclVwZGF0ZUVudHJpZXMiLCJzYWxlIiwiY29sbGVjdGlvbnBlcmZvcm1lZCIsInB1cmNoYXNlIiwiY3JlYXRlb3JVcGRhdGVSZXNpZHVlQXJyaXZlZCIsImNyZWF0ZW9yVXBkYXRlRG9jdW1lbnQiLCJvYmplY3QiLCJjb2xsZWN0b3IiLCJjb2xsIiwicHJvdmlkZXIiLCJwcm92Il0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxtQ0FBRCxDQUF6Qjs7QUFDQSxJQUFJQyxTQUFTLEdBQUdELE9BQU8sQ0FBQyxpQ0FBRCxD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LENBQUNBLElBQUwsRUFBV1YsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWixFQUFYLEtBQ0s7QUFDSlMsUUFBQUEsSUFBSSxDQUFDaEQsS0FBTCxHQUFhZCxXQUFXLENBQUNjLEtBQXpCO0FBQ0FnRCxRQUFBQSxJQUFJLENBQUNzQixNQUFMLENBQVl0QixJQUFaLEVBQWtCZCxJQUFsQixDQUF3Qk4sQ0FBRCxJQUFPLENBQUUsQ0FBaEM7QUFDQTtBQUNELEtBTkssQ0FBTjtBQU9BO0FBQ0QiLCJzb3VyY2VSb290IjoiQzpcXHJlY29uc2lkZXJlXFxyZWNvbnNpZGVyZS1jb3Jwb3JhdGlvbi1hcGlcXHJlc29sdmVyc1xcY29ycG9yYXRpb25cXE11dGF0aW9uIiwic291cmNlc0NvbnRlbnQiOlsidmFyIENvcnBvcmF0aW9uID0gcmVxdWlyZSgnLi4vLi4vLi4vbW9kZWxzL2NvcnBvcmF0aW9uLm1vZGVsJyk7XHJcbnZhciBDb2xsZWN0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9tb2RlbHMvY29sbGVjdG9yLm1vZGVsJyk7XHJcbnZhciBQcm92aWRlciA9IHJlcXVpcmUoJy4uLy4uLy4uL21vZGVscy9wcm92aWRlci5tb2RlbCcpO1xyXG52YXIgQ2hlY2tQb2ludCA9IHJlcXVpcmUoJy4uLy4uLy4uL21vZGVscy9jaGVja3BvaW50Lm1vZGVsJyk7XHJcbnZhciBUcmFuc2FjdGlvbkhpc3RvcnkgPSByZXF1aXJlKCcuLi8uLi8uLi9tb2RlbHMvdHJhbnNhY3Rpb25oaXN0b3J5Lm1vZGVsJyk7XHJcbm1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbnZhciBDbGFzc2lmaWNhdGlvbiA9IHtcclxuXHRQcm92aWRlcjogJ0Zvcm5lY2Vkb3InLFxyXG5cdENvbGxlY3RvcjogJ0VtcHJlc2EgQ29sZXRvcmEnXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNvcnBvcmF0aW9uID0ge1xyXG5cdFF1ZXJ5OiB7XHJcblx0XHRhc3luYyBnZXRDb3Jwb3JhdGlvbihyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHJldHVybiBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0fSxcclxuXHRcdGFzeW5jIGdldENvcnBvcmF0aW9uQnlVc2VyKHJvb3QsIHsgX2lkIH0pIHtcclxuXHRcdFx0dmFyIHJlcyA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRPbmUoeyAndXNlcnMuX2lkJzogX2lkIH0pO1xyXG5cdFx0XHRpZiAoIXJlcykge1xyXG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcztcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGFzeW5jIGFsbENvcnBvcmF0aW9ucygpIHtcclxuXHRcdFx0cmV0dXJuIGF3YWl0IENvcnBvcmF0aW9uLmZpbmQoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0YXN5bmMgYWxsVW5pdHMocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHR2YXIgcmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0aWYgKHJlcykge1xyXG5cdFx0XHRcdHZhciB1bml0O1xyXG5cdFx0XHRcdHZhciB1bml0cyA9IFtdO1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyByZXMudW5pdHMubGVuZ3RoID4gaTsgaSsrKSB7XHJcblx0XHRcdFx0XHR1bml0ID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0dW5pdCA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKHJlcy51bml0c1tpXS51bml0c0lkKTtcclxuXHRcdFx0XHRcdGlmICghdW5pdCkge1xyXG5cdFx0XHRcdFx0XHR1bml0ID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKHJlcy51bml0c1tpXS51bml0c0lkKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICghdW5pdCkge1xyXG5cdFx0XHRcdFx0XHR1bml0ID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQocmVzLnVuaXRzW2ldLnVuaXRzSWQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmICh1bml0KSB7XHJcblx0XHRcdFx0XHRcdHVuaXRzLnB1c2godW5pdCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB1bml0cztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdGFzeW5jIGFsbERvY3VtZW50cyhyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRpZiAocmVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kb2N1bWVudHM7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRhc3luYyBhbGxEZXBhcnRtZW50cyhyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRpZiAocmVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kZXBhcnRtZW50cztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0YXN5bmMgYWxsUmVzaWR1ZXNSZWdpc3Rlcihyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRpZiAocmVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5yZXNpZHVlc1JlZ2lzdGVyO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRhc3luYyBhbGxSZXNpZHVlQXJyaXZlZChyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRpZiAocmVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5yZXNpZHVlc1BlcmZvcm1lZDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0YXN5bmMgYWxsU2NoZWR1bGluZ3Mocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHR2YXIgcmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0aWYgKHJlcykge1xyXG5cdFx0XHRcdHJldHVybiByZXMuc2NoZWR1bGluZztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0YXN5bmMgYWxsRW50cmllcyhyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRpZiAocmVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5lbnRyaWVzO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRhc3luYyBhbGxQcm92aWRlcnNJZChyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRpZiAocmVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5teVByb3ZpZGVycztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHRNdXRhdGlvbjoge1xyXG5cdFx0YXN5bmMgY3JlYXRlQ29ycG9yYXRpb24ocm9vdCwgeyBpbnB1dCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kT25lKHsgJ3VzZXJzLmVtYWlsJzogaW5wdXQudXNlcnNbMF0uZW1haWwgfSk7XHJcblx0XHRcdGlmIChyZXMpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1dSRTAwNScpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBhd2FpdCBDb3Jwb3JhdGlvbi5jcmVhdGUoaW5wdXQpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0YXN5bmMgY3JlYXRlQ29ycG9yYXRpb25Vbml0KHJvb3QsIHsgX2lkLCB0eXBlQ29ycG9yYXRpb24sIGlucHV0IH0pIHtcclxuXHRcdFx0dmFyIHJlcyA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpbnB1dC5sZW5ndGggPiBpOyBpKyspIHtcclxuXHRcdFx0XHRmb3IgKHZhciB4ID0gMDsgcmVzLnVuaXRzLmxlbmd0aCA+IHg7IHgrKykge1xyXG5cdFx0XHRcdFx0aWYgKGlucHV0W2ldLnVzZXJzWzBdLmVtYWlsID09PSByZXMudW5pdHNbeF0uZW1haWwpIHtcclxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdXUkUwMDUnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHNlc3Npb24gPSBhd2FpdCBtb25nb29zZS5zdGFydFNlc3Npb24oKTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRzZXNzaW9uLnN0YXJ0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaW5wdXQubGVuZ3RoID4gaTsgaSsrKSB7XHJcblx0XHRcdFx0XHR2YXIgaWQgPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBhd2FpdCBDb3Jwb3JhdGlvbi5jcmVhdGUoaW5wdXRbaV0pLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWQgPSB4Ll9pZDtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0YWRkSUQoX2lkLCBpZCwgdHlwZUNvcnBvcmF0aW9uKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGF3YWl0IHNlc3Npb24uY29tbWl0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygncmVzb2x2ZWQnKTtcclxuXHRcdFx0XHRyZXR1cm4gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmFib3J0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Fib3J0aW5nJyk7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0YXN5bmMgdXBkYXRlQ29ycG9yYXRpb24ocm9vdCwgeyBfaWQsIGlucHV0IH0pIHtcclxuXHRcdFx0cmV0dXJuIGF3YWl0IENvcnBvcmF0aW9uLmZpbmRPbmVBbmRVcGRhdGUoXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0X2lkXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRpbnB1dCxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRuZXc6IHRydWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHR9LFxyXG5cdFx0YXN5bmMgZGVsZXRlQ29ycG9yYXRpb24ocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHQvLyByZXR1cm4gYXdhaXQgQ29sbGVjdG9yLmZpbmRPbmVBbmRSZW1vdmUoe1xyXG5cdFx0XHQvLyBcdF9pZFxyXG5cdFx0XHQvLyB9KTtcclxuXHRcdH0sXHJcblx0XHRhc3luYyBjcmVhdGVvclVwZGF0ZURlcGFydG1lbnQocm9vdCwgeyBfaWQsIGlucHV0IH0pIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRyZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQsIGZ1bmN0aW9uKGVyciwgY29ycCkge1xyXG5cdFx0XHRcdFx0aWYgKGVycikge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbmV4dChuZXcgRXJyb3IoJ0VSRTAwOScpKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpbnB1dC5sZW5ndGggPiBpOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaW5wdXRbaV0uX2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpbmRleCA9IGNvcnAuZGVwYXJ0bWVudHMuZmluZEluZGV4KCh4KSA9PiB4Ll9pZCA9PSBpbnB1dFtpXS5faWQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGluZGV4KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvcnAuZGVwYXJ0bWVudHNbaW5kZXhdID0gaW5wdXRbaV07XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCFjb3JwLmRlcGFydG1lbnRzIHx8IGNvcnAuZGVwYXJ0bWVudHMubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29ycC5kZXBhcnRtZW50cyA9IFsgaW5wdXRbaV0gXTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFjb3JwLmRlcGFydG1lbnRzIHx8IGNvcnAuZGVwYXJ0bWVudHMubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29ycC5kZXBhcnRtZW50cyA9IFsgaW5wdXRbaV0gXTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvcnAuZGVwYXJ0bWVudHMucHVzaChpbnB1dFtpXSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGNvcnAuc2F2ZSgpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdHZhciByZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdHJldHVybiByZXMuZGVwYXJ0bWVudHM7XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFUkUwMDknKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGFzeW5jIGNyZWF0ZW9yVXBkYXRlUmVzaWR1ZXNSZWdpc3Rlcihyb290LCB7IF9pZCwgaW5wdXQgfSkge1xyXG5cdFx0XHRjb25zdCBzZXNzaW9uID0gYXdhaXQgbW9uZ29vc2Uuc3RhcnRTZXNzaW9uKCk7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0c2Vzc2lvbi5zdGFydFRyYW5zYWN0aW9uKCk7XHJcblx0XHRcdFx0dmFyIHJlcyA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0dmFyIHJldHVybkVsZW1lbnQ7XHJcblx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0IXJlcy5yZXNpZHVlc1JlZ2lzdGVyIHx8XHJcblx0XHRcdFx0XHQhcmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMgfHxcclxuXHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmxlbmd0aCA8PSAwXHJcblx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHR2YXIgZWxlbWVudFNhdmVkO1xyXG5cdFx0XHRcdFx0cmV0dXJuRWxlbWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0Q29ycG9yYXRpb24uZmluZEJ5SWQoX2lkLCBmdW5jdGlvbihlcnIsIGNvcnApIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIWNvcnApIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlucHV0LmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCFyZXMucmVzaWR1ZXNSZWdpc3RlciB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCFyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cyB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmxlbmd0aCA8PSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlc1sncmVzaWR1ZXNSZWdpc3RlciddID0gbmV3IE9iamVjdCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBkZXBhcnQgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRfaWQ6IGRlcGFydG1lbnQuX2lkLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmFtZTogZGVwYXJ0bWVudC5uYW1lLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aXNDaGFuZ2VkOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBkZXBhcnRtZW50LmRlc2NyaXB0aW9uLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlOiBkZXBhcnRtZW50LmFjdGl2ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogW11cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlc1sncmVzaWR1ZXNSZWdpc3RlciddWydkZXBhcnRtZW50cyddID0gWyBkZXBhcnQgXTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgZGVwYXJ0ID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0X2lkOiBkZXBhcnRtZW50Ll9pZCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5hbWU6IGRlcGFydG1lbnQubmFtZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlzQ2hhbmdlZDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjogZGVwYXJ0bWVudC5kZXNjcmlwdGlvbixcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZTogZGVwYXJ0bWVudC5hY3RpdmUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFtdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgZXhpc3QgPSByZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5maW5kKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KHgpID0+IHgubmFtZSA9PT0gZGVwYXJ0Lm5hbWVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghZXhpc3QpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLnB1c2goZGVwYXJ0KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGlucHV0LmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVwYXJ0bWVudC5xckNvZGUuZm9yRWFjaCgocXJDb2RlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMuZm9yRWFjaCgoZGVwYXJ0bWVudERCKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoZGVwYXJ0bWVudC5uYW1lID09PSBkZXBhcnRtZW50REIubmFtZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXBhcnRtZW50REIucXJDb2RlLnB1c2gocXJDb2RlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRjb3JwLnJlc2lkdWVzUmVnaXN0ZXIgPSByZXMucmVzaWR1ZXNSZWdpc3RlcjtcclxuXHRcdFx0XHRcdFx0XHRcdGNvcnAudXBkYXRlKGNvcnApLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZShjb3JwKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvKiBnZXJhbmRvIGNoZWNrUG9pbnQgKi9cclxuXHRcdFx0XHRcdHZhciBjaGVja3BvaW50ID0gYXdhaXQgQ2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdHZhciBpc05ldyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdHZhciBjaGVja3BvaW4gPSBhd2FpdCBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRkZXBhcnRtZW50LnFyQ29kZS5mb3JFYWNoKChxckNvZGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2twb2ludCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludCA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdF9pZENvcnBvcmF0aW9uOiBfaWQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2FzdGVnZW5lcmF0ZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBxckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZCB8fCBjaGVja3BvaW50Lndhc3RlZ2VuZXJhdGVkLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludCA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0X2lkQ29ycG9yYXRpb246IF9pZCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdhc3RlZ2VuZXJhdGVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZC5xckNvZGUucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdGlmIChpc05ldykge1xyXG5cdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGF3YWl0IENoZWNrUG9pbnQuY3JlYXRlKGNoZWNrcG9pbnQpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZShmdW5jdGlvbihlcnIsIGNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVjayB8fCBjaGVjay5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrID0gY2hlY2s7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sud2FzdGVnZW5lcmF0ZWQgPSBjaGVja3BvaW50Lndhc3RlZ2VuZXJhdGVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLnVwZGF0ZShjaGVjaykudGhlbigoeCkgPT4ge30pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8qR2VyYW5kbyBoaXN0b3JpY28gKi9cclxuXHRcdFx0XHRcdHZhciB0cmFuc2FjdGlvbiA9IGF3YWl0IFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdHZhciBpc05ldyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdHZhciBoaXN0b3J5ID0gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5mb3JFYWNoKChkZXBhcnRtZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0ZGVwYXJ0bWVudC5xckNvZGUuZm9yRWFjaCgocXJDb2RlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zYWN0aW9uKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBxckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0X2lkQ29ycG9yYXRpb246IF9pZCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja1BvaW50czogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3YXN0ZWdlbmVyYXRlZDogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpc05ldyA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBxckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogcXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMud2FzdGVnZW5lcmF0ZWQgPT09IHVuZGVmaW5lZCB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLndhc3RlZ2VuZXJhdGVkLmxlbmd0aCA8PSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRfaWRDb3Jwb3JhdGlvbjogX2lkLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tQb2ludHM6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3YXN0ZWdlbmVyYXRlZDogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMud2FzdGVnZW5lcmF0ZWQucXJDb2RlLnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNOZXcpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuY3JlYXRlKHRyYW5zYWN0aW9uKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZShmdW5jdGlvbihlcnIsIHRyYW5zKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRyYW5zID09PSB1bmRlZmluZWQgfHwgdHJhbnMubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucyA9IHRyYW5zYWN0aW9uO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLndhc3RlZ2VuZXJhdGVkID0gdHJhbnNhY3Rpb24uY2hlY2tQb2ludHMud2FzdGVnZW5lcmF0ZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMudXBkYXRlKHRyYW5zKS50aGVuKCh4KSA9PiB7fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHZhciByZW1vdmVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpbnB1dC5kZXBhcnRtZW50cy5sZW5ndGggPiBpOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0aWYgKGlucHV0LmRlcGFydG1lbnRzW2ldLmlzQ2hhbmdlZCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBleGlzdFJlbW92ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHQvKnZlcmlmaWNhIHNlIGV4aXN0ZSBtdWRhbsOnYSBkZSBkZXBhcnRhbWVudG8gZSBleGNsdWkgbyBpdGVtIHF1ZSBlc3RhIHNhbHZvIG5vIGRlcGFydGFtZW50byBhbnRpZ28gcGFyYSBkZXBvaXMgaW5zZXJpciBubyBub3ZvXHJcblx0XHRcdFx0XHRcdFNlIHBvciBhY2FzbyBvIHVzdcOhcmlvIG1vZGlmaWNvdSwgbWFzIHZvbHRvdSBhbyBhbnRpZ28gZWxlIGFwZW5hcyBuw6NvIGV4Y2x1aSBlIHJldG9yblxyXG5cdFx0XHRcdFx0XHQqL1xyXG5cdFx0XHRcdFx0XHRcdGZvciAoeSA9IDA7IHkgPCBpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGUubGVuZ3RoOyB5KyspIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQsIGluZGV4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGRlcGFydG1lbnQucXJDb2RlLmZvckVhY2goKHFyQ29kZSwgaW5kZXhRckNvZGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoaW5wdXQuZGVwYXJ0bWVudHNbaV0uX2lkICE9PSBkZXBhcnRtZW50Ll9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHFyQ29kZS5jb2RlID09PSBpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbeV0uY29kZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXBhcnRtZW50LnFyQ29kZS5zcGxpY2UoaW5kZXhRckNvZGUsIDEpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdC8vc2UgbsOjbyB0ZW0gbWFpcyBxcmNvZGUgcmVtb3ZlIG8gZGVwYXJ0YW1lbnRvXHJcblx0XHRcdFx0XHRcdFx0XHRyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5mb3JFYWNoKChkZXBhcnRtZW50LCBpbmRleCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWRlcGFydG1lbnQgfHwgIWRlcGFydG1lbnQucXJDb2RlIHx8IGRlcGFydG1lbnQucXJDb2RlLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGlucHV0LmRlcGFydG1lbnRzW2ldLmlzQ2hhbmdlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdHJlbW92ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0YXdhaXQgcmVzLnVwZGF0ZShyZXMpLnRoZW4oY29uc29sZS5sb2coJ29rIHJlbW92ZWQgZnJvbSBvbGQnKSk7XHJcblx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRcdGZvciAoaSA9IDA7IGlucHV0LmRlcGFydG1lbnRzLmxlbmd0aCA+IGk7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0XHR2YXIgZXhpc3QgPSBhd2FpdCByZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5maW5kKFxyXG5cdFx0XHRcdFx0XHRcdCh4KSA9PiB4Ll9pZCA9PSBpbnB1dC5kZXBhcnRtZW50c1tpXS5faWRcclxuXHRcdFx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChleGlzdCA9PT0gdW5kZWZpbmVkIHx8IGV4aXN0Lmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgcmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMucHVzaChpbnB1dC5kZXBhcnRtZW50c1tpXSk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgcmVzLnVwZGF0ZShyZXMpLnRoZW4oY29uc29sZS5sb2coJ29rIHB1c2ggaW4gZGVwYXJ0bWVudCcpKTtcclxuXHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGNoZWNrUG9pbnQgKi9cclxuXHRcdFx0XHRcdFx0XHR2YXIgY2hlY2twb2ludCA9IGF3YWl0IENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5mb3JFYWNoKChkZXBhcnRtZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGRlcGFydG1lbnQucXJDb2RlLmZvckVhY2goKHFyQ29kZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5kZXBhcnRtZW50c1tpXS5uYW1lID09PSBkZXBhcnRtZW50Lm5hbWUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQud2FzdGVnZW5lcmF0ZWQucXJDb2RlLnB1c2gocXJDb2RlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRDaGVja1BvaW50LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0sIGZ1bmN0aW9uKGVyciwgY2hlY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVjaykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay53YXN0ZWdlbmVyYXRlZCA9IGNoZWNrcG9pbnQud2FzdGVnZW5lcmF0ZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sudXBkYXRlKGNoZWNrKS50aGVuKCh4KSA9PiB7fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGhpc3TDs3JpY28gZGUgYWx0ZXJhw6fDtWVzICovXHJcblx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGhpc3RvcnkgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5mb3JFYWNoKChkZXBhcnRtZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGRlcGFydG1lbnQucXJDb2RlLmZvckVhY2goKHFyQ29kZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5kZXBhcnRtZW50c1tpXS5uYW1lID09PSBkZXBhcnRtZW50Lm5hbWUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBxckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCB0cmFucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLndhc3RlZ2VuZXJhdGVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucy51cGRhdGUodHJhbnMpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0Zm9yIChxID0gMDsgaW5wdXQuZGVwYXJ0bWVudHNbaV0ucXJDb2RlLmxlbmd0aCA+IHE7IHErKykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIGlzVXBkYXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0uX2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkZXBhcnRtZW50LnFyQ29kZS5mb3JFYWNoKChxckNvZGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChxckNvZGUuY29kZSA9PSBpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0uY29kZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGUuc2V0KGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZVtxXSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlzVXBkYXRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoaXNVcGRhdGVkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgcmVzLnVwZGF0ZShyZXMpLnRoZW4oY29uc29sZS5sb2coJ29rIHNldCBxciBjb2RlcycpKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlzVXBkYXRlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGNoZWNrUG9pbnQgKi9cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgY2hlY2twb2ludCA9IGF3YWl0IENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50Lndhc3RlZ2VuZXJhdGVkLnFyQ29kZS5mb3JFYWNoKChxckNvZGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHFyQ29kZS5jb2RlID09IGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZVtxXS5jb2RlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlLnNldChpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCBjaGVjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLndhc3RlZ2VuZXJhdGVkID0gY2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gaGlzdMOzcmljbyBkZSBhbHRlcmHDp8O1ZXMgKi9cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgaGlzdG9yeSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogaW5wdXQuZGVwYXJ0bWVudHNbaV0ucXJDb2RlW3FdLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0ubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCB0cmFucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLndhc3RlZ2VuZXJhdGVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucy51cGRhdGUodHJhbnMpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMuZm9yRWFjaCgoZGVwYXJ0bWVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5kZXBhcnRtZW50c1tpXS5faWQgPT0gZGVwYXJ0bWVudC5faWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlcGFydG1lbnQucXJDb2RlLnB1c2goaW5wdXQuZGVwYXJ0bWVudHNbaV0ucXJDb2RlW3FdKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCByZXMudXBkYXRlKHJlcykudGhlbihjb25zb2xlLmxvZygnb2sgcHVzaCB0byBleGlzdCBkZXBhcnRtZW50JykpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0LyogZ2VyYW5kbyBjaGVja1BvaW50ICovXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBjaGVja3BvaW50ID0gYXdhaXQgQ2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGlzUHVzaGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBlbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQud2FzdGVnZW5lcmF0ZWQucXJDb2RlLmZvckVhY2goKHFyQ29kZSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghaXNQdXNoZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZC5xckNvZGUucHVzaChpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpc1B1c2hlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Q2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LCBmdW5jdGlvbihlcnIsIGNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sud2FzdGVnZW5lcmF0ZWQgPSBjaGVja3BvaW50Lndhc3RlZ2VuZXJhdGVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gaGlzdMOzcmljbyBkZSBhbHRlcmHDp8O1ZXMgKi9cclxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHRyYW5zYWN0aW9uID0gYXdhaXQgVHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgaGlzdG9yeSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogaW5wdXQuZGVwYXJ0bWVudHNbaV0ucXJDb2RlW3FdLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogaW5wdXQuZGVwYXJ0bWVudHNbaV0ucXJDb2RlW3FdLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCB0cmFucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCF0cmFucykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLndhc3RlZ2VuZXJhdGVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMudXBkYXRlKHRyYW5zKS50aGVuKCh4KSA9PiB7fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmNvbW1pdFRyYW5zYWN0aW9uKCk7XHJcblx0XHRcdFx0YXdhaXQgc2Vzc2lvbi5lbmRTZXNzaW9uKCk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ3Jlc29sdmVkJyk7XHJcblxyXG5cdFx0XHRcdHZhciByZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdHJldHVybiByZXMucmVzaWR1ZXNSZWdpc3RlcjtcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmFib3J0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Fib3J0aW5nJyk7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRhc3luYyBjcmVhdGVvclVwZGF0ZVNjaGVkdWxpbmcocm9vdCwgeyBfaWQsIGlucHV0IH0pIHtcclxuXHRcdFx0Y29uc3Qgc2Vzc2lvbiA9IGF3YWl0IG1vbmdvb3NlLnN0YXJ0U2Vzc2lvbigpO1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHNlc3Npb24uc3RhcnRUcmFuc2FjdGlvbigpO1xyXG5cdFx0XHRcdHZhciByZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRpZiAoIXJlcy5zY2hlZHVsaW5nIHx8IHJlcy5zY2hlZHVsaW5nLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRyZXR1cm5FbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQsIGZ1bmN0aW9uKGVyciwgY29ycCkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICghY29ycCkgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0aW5wdXQuZm9yRWFjaCgoc2NoZWR1bGluZykgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAocmVzLnNjaGVkdWxpbmcgPT09IHVuZGVmaW5lZCB8fCByZXMuc2NoZWR1bGluZy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlcy5zY2hlZHVsaW5nID0gWyBzY2hlZHVsaW5nIF07XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzLnNjaGVkdWxpbmcucHVzaChzY2hlZHVsaW5nKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRjb3JwLnNjaGVkdWxpbmcgPSByZXMuc2NoZWR1bGluZztcclxuXHRcdFx0XHRcdFx0XHRjb3JwLnVwZGF0ZShjb3JwKS50aGVuKCh4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKGNvcnApO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8qIGdlcmFuZG8gY2hlY2tQb2ludCAqL1xyXG5cdFx0XHRcdFx0dmFyIGNoZWNrcG9pbnQgPSBhd2FpdCBDaGVja1BvaW50LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0pO1xyXG5cdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdHZhciBpc05ldyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0dmFyIGNoZWNrcG9pbiA9IGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0cmVzLnNjaGVkdWxpbmcuZm9yRWFjaCgoc2NoZWR1bGluZykgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHNjaGVkdWxpbmcucXJDb2RlLmZvckVhY2goKHFyQ29kZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVja3BvaW50KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBxckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogcXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50ID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29sbGVjdGlvbnJlcXVlc3RlZDogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpc05ldyA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVja3BvaW50LmNvbGxlY3Rpb25yZXF1ZXN0ZWQgfHwgY2hlY2twb2ludC5jb2xsZWN0aW9ucmVxdWVzdGVkLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludCA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29sbGVjdGlvbnJlcXVlc3RlZDogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQuY29sbGVjdGlvbnJlcXVlc3RlZC5xckNvZGUucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdGlmIChpc05ldykge1xyXG5cdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGF3YWl0IENoZWNrUG9pbnQuY3JlYXRlKGNoZWNrcG9pbnQpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSxmdW5jdGlvbihlcnIsIGNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVjayB8fCBjaGVjay5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrID0gY2hlY2s7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2suY29sbGVjdGlvbnJlcXVlc3RlZCA9IGNoZWNrcG9pbnQuY29sbGVjdGlvbnJlcXVlc3RlZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvKkdlcmFuZG8gaGlzdG9yaWNvICovXHJcblx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0dmFyIGlzTmV3ID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2YXIgaGlzdG9yeSA9IGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0cmVzLnNjaGVkdWxpbmcuZm9yRWFjaCgoc2NoZWR1bGluZykgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHNjaGVkdWxpbmcucXJDb2RlLmZvckVhY2goKHFyQ29kZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCF0cmFuc2FjdGlvbikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBxckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogcXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbiA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrUG9pbnRzOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25yZXF1ZXN0ZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCF0cmFuc2FjdGlvbi5jaGVja1BvaW50cyB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCF0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucmVxdWVzdGVkIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnJlcXVlc3RlZC5sZW5ndGggPD0gMFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbiA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tQb2ludHM6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9ucmVxdWVzdGVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucmVxdWVzdGVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0aWYgKGlzTmV3KSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gYXdhaXQgVHJhbnNhY3Rpb25IaXN0b3J5LmNyZWF0ZSh0cmFuc2FjdGlvbik7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0VHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0sZnVuY3Rpb24oZXJyLCB0cmFucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCF0cmFucykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghdHJhbnMgfHwgdHJhbnMubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucyA9IHRyYW5zYWN0aW9uO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25yZXF1ZXN0ZWQgPVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnJlcXVlc3RlZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFucy51cGRhdGUodHJhbnMpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGlucHV0Lmxlbmd0aCA+IGk7IGkrKykge1xyXG5cdFx0XHRcdFx0XHR2YXIgZXhpc3QgPSBhd2FpdCByZXMuc2NoZWR1bGluZy5maW5kKCh4KSA9PiB4Ll9pZCA9PSBpbnB1dFtpXS5faWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCFleGlzdCB8fCBleGlzdC5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdHJlcy5zY2hlZHVsaW5nLnB1c2goaW5wdXRbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy51cGRhdGUocmVzKS50aGVuKGNvbnNvbGUubG9nKCdvayBwdXNoIHNjaGVkdWxpbmcnKSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZXhpc3Quc2V0KGlucHV0W2ldKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCByZXMudXBkYXRlKHJlcykudGhlbihjb25zb2xlLmxvZygnb2sgc2V0IHNjaGVkdWxpbmcnKSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHJcblx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gY2hlY2tQb2ludCAqL1xyXG5cdFx0XHRcdFx0XHR2YXIgY2hlY2twb2ludCA9IGF3YWl0IENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdHZhciBlbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIHggPSAwOyBpbnB1dFtpXS5xckNvZGUubGVuZ3RoID4geDsgeCsrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgZXhpc3RRciA9IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdFx0XHRcdGZvciAoeSA9IDA7IHkgPCBjaGVja3BvaW50LmNvbGxlY3Rpb25yZXF1ZXN0ZWQucXJDb2RlLmxlbmd0aDsgeSsrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChjaGVja3BvaW50LmNvbGxlY3Rpb25yZXF1ZXN0ZWQucXJDb2RlW3ldLmNvZGUgPT09IGlucHV0W2ldLnFyQ29kZVt4XS5jb2RlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZXhpc3RRciA9IGNoZWNrcG9pbnQuY29sbGVjdGlvbnJlcXVlc3RlZC5xckNvZGVbeV07XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdGlmIChleGlzdFFyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGV4aXN0UXIuc2V0KGlucHV0W2ldLnFyQ29kZVt4XSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50LmNvbGxlY3Rpb25yZXF1ZXN0ZWQucXJDb2RlLnB1c2goaW5wdXRbaV0ucXJDb2RlW3hdKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSxmdW5jdGlvbihlcnIsIGNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2suY29sbGVjdGlvbnJlcXVlc3RlZCA9IGNoZWNrcG9pbnQuY29sbGVjdGlvbnJlcXVlc3RlZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sudXBkYXRlKGNoZWNrKS50aGVuKCh4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGhpc3TDs3JpY28gZGUgYWx0ZXJhw6fDtWVzICovXHJcblx0XHRcdFx0XHRcdHZhciB0cmFuc2FjdGlvbiA9IGF3YWl0IFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgeCA9IDA7IGlucHV0W2ldLnFyQ29kZS5sZW5ndGggPiB4OyB4KyspIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25yZXF1ZXN0ZWQucXJDb2RlLnB1c2goaW5wdXRbaV0ucXJDb2RlW3hdKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LGZ1bmN0aW9uKGVyciwgdHJhbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghdHJhbnMpIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFucy5jaGVja1BvaW50cy5jb2xsZWN0aW9ucmVxdWVzdGVkID0gdHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnJlcXVlc3RlZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMudXBkYXRlKHRyYW5zKS50aGVuKCh4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmNvbW1pdFRyYW5zYWN0aW9uKCk7XHJcblx0XHRcdFx0YXdhaXQgc2Vzc2lvbi5lbmRTZXNzaW9uKCk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ3Jlc29sdmVkJyk7XHJcblxyXG5cdFx0XHRcdHZhciByZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdHJldHVybiByZXMuc2NoZWR1bGluZztcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmFib3J0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Fib3J0aW5nJyk7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0YXN5bmMgY3JlYXRlb3JVcGRhdGVFbnRyaWVzKHJvb3QsIHsgX2lkLCBpbnB1dCB9KSB7XHJcblx0XHRcdGNvbnN0IHNlc3Npb24gPSBhd2FpdCBtb25nb29zZS5zdGFydFNlc3Npb24oKTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRzZXNzaW9uLnN0YXJ0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHR2YXIgcmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRpZiAocmVzLmVudHJpZXMgPT09IHVuZGVmaW5lZCB8fCByZXMuZW50cmllcyA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuRWxlbWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0Q29ycG9yYXRpb24uZmluZEJ5SWQoX2lkLCBmdW5jdGlvbihlcnIsIGNvcnApIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIWNvcnApIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChyZXMuZW50cmllcyA9PT0gdW5kZWZpbmVkIHx8IHJlcy5lbnRyaWVzID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJlcy5lbnRyaWVzID0gaW5wdXQ7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXMuZW50cmllcyA9IGlucHV0O1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0Y29ycC5lbnRyaWVzID0gcmVzLmVudHJpZXM7XHJcblx0XHRcdFx0XHRcdFx0Y29ycC51cGRhdGUoY29ycCkudGhlbigoeCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZShjb3JwKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdC8qIGdlcmFuZG8gY2hlY2tQb2ludCAqL1xyXG5cdFx0XHRcdFx0dmFyIGNoZWNrcG9pbnQgPSBhd2FpdCBDaGVja1BvaW50LmZpbmQoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0pO1xyXG5cdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdHZhciBpc05ldyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0dmFyIGNoZWNrcG9pbiA9IGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHJlcy5lbnRyaWVzLnNhbGUgJiYgcmVzLmVudHJpZXMuc2FsZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzLmVudHJpZXMuc2FsZS5mb3JFYWNoKChzYWxlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrcG9pbnQgfHwgY2hlY2twb2ludC5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogc2FsZS5xckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogc2FsZS5xckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludCA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25wZXJmb3JtZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHNhbGUucXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHNhbGUucXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZCB8fCBjaGVja3BvaW50LmNvbGxlY3Rpb25wZXJmb3JtZWQubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50ID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9ucGVyZm9ybWVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHJlcy5lbnRyaWVzLnB1cmNoYXNlICYmIHJlcy5lbnRyaWVzLnB1cmNoYXNlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRyZXMuZW50cmllcy5wdXJjaGFzZS5mb3JFYWNoKChwdXJjaGFzZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVja3BvaW50IHx8IGNoZWNrcG9pbnQubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHB1cmNoYXNlLnFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBwdXJjaGFzZS5xckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQgPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9ucGVyZm9ybWVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlzTmV3ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBwdXJjaGFzZS5xckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogcHVyY2hhc2UucXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZCB8fCBjaGVja3BvaW50LmNvbGxlY3Rpb25wZXJmb3JtZWQubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50ID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9ucGVyZm9ybWVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChpc05ldykge1xyXG5cdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGF3YWl0IENoZWNrUG9pbnQuY3JlYXRlKGNoZWNrcG9pbnQpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSxmdW5jdGlvbihlcnIsIGNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2sgfHwgY2hlY2subGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjayA9IGNoZWNrcG9pbnQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2suY29sbGVjdGlvbnBlcmZvcm1lZCA9IGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvKiBnZXJhbmRvIGhpc3TDs3JpY28gZGUgYWx0ZXJhw6fDtWVzICovXHJcblx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZCh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0dmFyIGlzTmV3ID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2YXIgaGlzdG9yeSA9IGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHJlcy5lbnRyaWVzLnNhbGUgJiYgcmVzLmVudHJpZXMuc2FsZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzLmVudHJpZXMuc2FsZS5mb3JFYWNoKChzYWxlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAodHJhbnNhY3Rpb24gPT09IHVuZGVmaW5lZCB8fCB0cmFuc2FjdGlvbiA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBzYWxlLnFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBzYWxlLnFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24gPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja1BvaW50czogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9ucGVyZm9ybWVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlzTmV3ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHNhbGUucXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHNhbGUucXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0IXRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0IXRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQgfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkLmxlbmd0aCA8PSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja1BvaW50czogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25wZXJmb3JtZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQucXJDb2RlLnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAocmVzLmVudHJpZXMucHVyY2hhc2UgJiYgcmVzLmVudHJpZXMucHVyY2hhc2UubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRcdHJlcy5lbnRyaWVzLnB1cmNoYXNlLmZvckVhY2goKHB1cmNoYXNlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAodHJhbnNhY3Rpb24gPT09IHVuZGVmaW5lZCB8fCB0cmFuc2FjdGlvbiA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBwdXJjaGFzZS5xckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogcHVyY2hhc2UucXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbiA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrUG9pbnRzOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25wZXJmb3JtZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcHVyY2hhc2UucXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHB1cmNoYXNlLnFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCF0cmFuc2FjdGlvbi5jaGVja1BvaW50cyB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCF0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZC5sZW5ndGggPD0gMFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbiA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tQb2ludHM6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9ucGVyZm9ybWVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChpc05ldykge1xyXG5cdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGF3YWl0IFRyYW5zYWN0aW9uSGlzdG9yeS5jcmVhdGUodHJhbnNhY3Rpb24pO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LGZ1bmN0aW9uKGVyciwgdHJhbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghdHJhbnMpIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAodHJhbnMgPT09IHVuZGVmaW5lZCB8fCB0cmFucyA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zID0gdHJhbnNhY3Rpb247XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMuY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZCA9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLnVwZGF0ZSh0cmFucykudGhlbigoeCkgPT4ge30pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAoaW5wdXQuc2FsZSAhPT0gdW5kZWZpbmVkIHx8IGlucHV0LnNhbGUubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgaW5wdXQuc2FsZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBleGlzdCA9IGF3YWl0IHJlcy5lbnRyaWVzLnNhbGUuZmluZCgoeCkgPT4geC5faWQgPT0gaW5wdXQuc2FsZVtpXS5faWQpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChleGlzdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZXhpc3Quc2V0KGlucHV0LnNhbGVbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgcmVzLnVwZGF0ZShyZXMpLnRoZW4oY29uc29sZS5sb2coJ29rIHNldCBlbnRyaWVzIHNhbGUnKSk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy5lbnRyaWVzLnNhbGUucHVzaChpbnB1dC5zYWxlW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy51cGRhdGUocmVzKS50aGVuKGNvbnNvbGUubG9nKCdvayBwdXNoIGVudHJpZXMgc2FsZScpKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0LyogZ2VyYW5kbyBjaGVja1BvaW50ICovXHJcblx0XHRcdFx0XHRcdFx0dmFyIGNoZWNrcG9pbnQgPSBhd2FpdCBDaGVja1BvaW50LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0pO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBlbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGlucHV0LnNhbGUgIT09IHVuZGVmaW5lZCAmJiBpbnB1dC5zYWxlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGV4aXN0UXIgPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGZvciAoeSA9IDA7IHkgPCBjaGVja3BvaW50LmNvbGxlY3Rpb25wZXJmb3JtZWQucXJDb2RlLmxlbmd0aDsgeSsrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZVt5XS5jb2RlID09PSBpbnB1dC5zYWxlW2ldLnFyQ29kZS5jb2RlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRleGlzdFFyID0gY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZVt5XTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGV4aXN0UXIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRleGlzdFFyLnNldChpbnB1dC5zYWxlW2ldLnFyQ29kZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5wdXNoKGlucHV0LnNhbGVbaV0ucXJDb2RlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0Q2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LGZ1bmN0aW9uKGVyciwgY2hlY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVjaykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay5jb2xsZWN0aW9ucGVyZm9ybWVkID0gY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLnVwZGF0ZShjaGVjaykudGhlbigoeCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0LyogZ2VyYW5kbyBoaXN0w7NyaWNvIGRlIGFsdGVyYcOnw7VlcyAqL1xyXG5cdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHRyYW5zYWN0aW9uID0gYXdhaXQgVHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0pO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBlbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGlucHV0LnNhbGUgIT09IHVuZGVmaW5lZCAmJiBpbnB1dC5zYWxlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGUucHVzaChpbnB1dC5zYWxlW2ldLnFyQ29kZSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSxmdW5jdGlvbihlcnIsIHRyYW5zKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghdHJhbnMpIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMuY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZCA9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLnVwZGF0ZSh0cmFucykudGhlbigoeCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGlucHV0LnB1cmNoYXNlICE9PSB1bmRlZmluZWQgfHwgaW5wdXQucHVyY2hhc2UubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgaW5wdXQucHVyY2hhc2UubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZXhpc3QgPSBhd2FpdCByZXMuZW50cmllcy5wdXJjaGFzZS5maW5kKCh4KSA9PiB4Ll9pZCA9PSBpbnB1dC5wdXJjaGFzZVtpXS5faWQpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChleGlzdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZXhpc3Quc2V0KGlucHV0LnB1cmNoYXNlW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy51cGRhdGUocmVzKS50aGVuKGNvbnNvbGUubG9nKCdvayBzZXQgZW50cmllcyBwdXJjaGFzZScpKTtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgcmVzLmVudHJpZXMucHVyY2hhc2UucHVzaChpbnB1dC5wdXJjaGFzZVtpXSk7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCByZXMudXBkYXRlKHJlcykudGhlbihjb25zb2xlLmxvZygnb2sgcHVzaCBlbnRyaWVzIHB1cmNoYXNlJykpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGNoZWNrUG9pbnQgKi9cclxuXHRcdFx0XHRcdFx0XHR2YXIgY2hlY2twb2ludCA9IGF3YWl0IENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5wdXQucHVyY2hhc2UgIT09IHVuZGVmaW5lZCAmJiBpbnB1dC5wdXJjaGFzZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBleGlzdFFyID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IgKHkgPSAwOyB5IDwgY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5sZW5ndGg7IHkrKykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGVbeV0uY29kZSA9PT1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlucHV0LnB1cmNoYXNlW2ldLnFyQ29kZS5jb2RlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRleGlzdFFyID0gY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZVt5XTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGV4aXN0UXIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRleGlzdFFyLnNldChpbnB1dC5wdXJjaGFzZVtpXS5xckNvZGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGUucHVzaChpbnB1dC5wdXJjaGFzZVtpXS5xckNvZGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0Q2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LGZ1bmN0aW9uKGVyciwgY2hlY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVjaykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay5jb2xsZWN0aW9ucGVyZm9ybWVkID0gY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLnVwZGF0ZShjaGVjaykudGhlbigoeCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0LyogZ2VyYW5kbyBoaXN0w7NyaWNvIGRlIGFsdGVyYcOnw7VlcyAqL1xyXG5cdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHRyYW5zYWN0aW9uID0gYXdhaXQgVHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRPbmUoKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZWxlbWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5wdXJjaGFzZSAhPT0gdW5kZWZpbmVkICYmIGlucHV0LnB1cmNoYXNlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGUucHVzaChpbnB1dC5wdXJjaGFzZVtpXS5xckNvZGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LGZ1bmN0aW9uKGVyciwgdHJhbnMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCF0cmFucykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucy5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkID1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMudXBkYXRlKHRyYW5zKS50aGVuKCh4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YXdhaXQgc2Vzc2lvbi5jb21taXRUcmFuc2FjdGlvbigpO1xyXG5cdFx0XHRcdGF3YWl0IHNlc3Npb24uZW5kU2Vzc2lvbigpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdyZXNvbHZlZCcpO1xyXG5cclxuXHRcdFx0XHR2YXIgcmVzID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmVudHJpZXM7XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0YXdhaXQgc2Vzc2lvbi5hYm9ydFRyYW5zYWN0aW9uKCk7XHJcblx0XHRcdFx0YXdhaXQgc2Vzc2lvbi5lbmRTZXNzaW9uKCk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdhYm9ydGluZycpO1xyXG5cdFx0XHRcdHJldHVybiBuZXcgRXJyb3IoJ0VSRTAwOScpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0YXN5bmMgY3JlYXRlb3JVcGRhdGVSZXNpZHVlQXJyaXZlZChyb290LCB7IF9pZCwgaW5wdXQgfSkge30sXHJcblx0XHRhc3luYyBjcmVhdGVvclVwZGF0ZURvY3VtZW50KHJvb3QsIHsgX2lkLCBpbnB1dCB9KSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHR2YXIgcmVzID0gQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkLCBmdW5jdGlvbihlcnIsIGNvcnApIHtcclxuXHRcdFx0XHRcdFx0aWYgKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdHJlamVjdChuZXh0KG5ldyBFcnJvcignRVJFMDA5JykpKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaW5wdXQubGVuZ3RoID4gaTsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5wdXRbaV0uX2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gY29ycC5kb2N1bWVudHMuZmluZEluZGV4KCh4KSA9PiB4Ll9pZCA9PSBpbnB1dFtpXS5faWQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb3JwLmRvY3VtZW50c1tpbmRleF0gPSBpbnB1dFtpXTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvcnAuZG9jdW1lbnRzLnB1c2goaW5wdXRbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRjb3JwLnNhdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKGNvcnApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0dmFyIHJlcyA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kb2N1bWVudHM7XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFUkUwMDknKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZElEKF9pZCwgaWQsIHR5cGVDb3Jwb3JhdGlvbikge1xyXG5cdHZhciBvYmplY3QgPSB7XHJcblx0XHR1bml0c0lkOiBpZFxyXG5cdH07XHJcblx0aWYgKHR5cGVDb3Jwb3JhdGlvbiA9PT0gQ2xhc3NpZmljYXRpb24uQ29sbGVjdG9yKSB7XHJcblx0XHR2YXIgY29sbGVjdG9yID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRpZiAoY29sbGVjdG9yLnVuaXRzID09PSB1bmRlZmluZWQgfHwgY29sbGVjdG9yLnVuaXRzLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdGNvbGxlY3RvclsndW5pdHMnXSA9IFsgb2JqZWN0IF07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb2xsZWN0b3IudW5pdHMucHVzaChvYmplY3QpO1xyXG5cdFx0fVxyXG5cdFx0Q29sbGVjdG9yLmZpbmRPbmUoX2lkLCBmdW5jdGlvbihlcnIsIGNvbGwpIHtcclxuXHRcdFx0aWYgKCFjb2xsKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGNvbGwudW5pdHMgPSBjb2xsZWN0b3IudW5pdHM7XHJcblx0XHRcdFx0Y29sbC51cGRhdGUoY29sbCkudGhlbigoeCkgPT4ge30pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9IGVsc2UgaWYgKHR5cGVDb3Jwb3JhdGlvbiA9PT0gQ2xhc3NpZmljYXRpb24uUHJvdmlkZXIpIHtcclxuXHRcdHZhciBwcm92aWRlciA9IGF3YWl0IFByb3ZpZGVyLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRpZiAocHJvdmlkZXIudW5pdHMgPT09IHVuZGVmaW5lZCB8fCBwcm92aWRlci51bml0cy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRwcm92aWRlclsndW5pdHMnXSA9IFsgb2JqZWN0IF07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRwcm92aWRlci51bml0cy5wdXNoKG9iamVjdCk7XHJcblx0XHR9XHJcblx0XHRQcm92aWRlci5maW5kT25lKF9pZCwgZnVuY3Rpb24oZXJyLCBwcm92KSB7XHJcblx0XHRcdGlmICghcHJvdikgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRwcm92LnVuaXRzID0gcHJvdmlkZXIudW5pdHM7XHJcblx0XHRcdFx0cHJvdi51cGRhdGUocHJvdikudGhlbigoeCkgPT4ge30pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dmFyIGNvcnBvcmF0aW9uID0gYXdhaXQgQ29ycG9yYXRpb24uZmluZEJ5SWQoX2lkKTtcclxuXHRcdGlmIChjb3Jwb3JhdGlvbi51bml0cyA9PT0gdW5kZWZpbmVkIHx8IGNvcnBvcmF0aW9uLnVuaXRzLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdGNvcnBvcmF0aW9uWyd1bml0cyddID0gWyBvYmplY3QgXTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvcnBvcmF0aW9uLnVuaXRzLnB1c2gob2JqZWN0KTtcclxuXHRcdH1cclxuXHRcdGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKF9pZCwgZnVuY3Rpb24oZXJyLCBjb3JwKSB7XHJcblx0XHRcdGlmICghY29ycCkgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRjb3JwLnVuaXRzID0gY29ycG9yYXRpb24udW5pdHM7XHJcblx0XHRcdFx0Y29ycC51cGRhdGUoY29ycCkudGhlbigoeCkgPT4ge30pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "corporation.js"
      ],
      "names": [
        "Corporation",
        "require",
        "Collector",
        "Provider",
        "CheckPoint",
        "TransactionHistory",
        "mongoose",
        "Classification",
        "module",
        "exports",
        "corporation",
        "Query",
        "getCorporation",
        "root",
        "_id",
        "findById",
        "getCorporationByUser",
        "res",
        "findOne",
        "undefined",
        "allCorporations",
        "find",
        "allUnits",
        "unit",
        "units",
        "i",
        "length",
        "unitsId",
        "push",
        "allDocuments",
        "documents",
        "allDepartments",
        "departments",
        "allResiduesRegister",
        "residuesRegister",
        "allResidueArrived",
        "residuesPerformed",
        "allSchedulings",
        "scheduling",
        "allEntries",
        "entries",
        "allProvidersId",
        "myProviders",
        "Mutation",
        "createCorporation",
        "input",
        "users",
        "email",
        "Error",
        "create",
        "createCorporationUnit",
        "typeCorporation",
        "x",
        "session",
        "startSession",
        "startTransaction",
        "id",
        "returned",
        "then",
        "addID",
        "commitTransaction",
        "endSession",
        "console",
        "log",
        "error",
        "abortTransaction",
        "updateCorporation",
        "findOneAndUpdate",
        "new",
        "deleteCorporation",
        "createorUpdateDepartment",
        "err",
        "corp",
        "next",
        "index",
        "findIndex",
        "save",
        "createorUpdateResiduesRegister",
        "returnElement",
        "elementSaved",
        "Promise",
        "resolve",
        "reject",
        "forEach",
        "department",
        "Object",
        "depart",
        "name",
        "isChanged",
        "description",
        "active",
        "qrCode",
        "exist",
        "departmentDB",
        "update",
        "checkpoint",
        "_idCorporation",
        "isNew",
        "checkpoin",
        "value",
        "code",
        "material",
        "wastegenerated",
        "check",
        "transaction",
        "history",
        "date",
        "Date",
        "checkPoints",
        "trans",
        "removed",
        "existRemoved",
        "y",
        "indexQrCode",
        "splice",
        "element",
        "q",
        "isUpdated",
        "set",
        "isPushed",
        "createorUpdateScheduling",
        "collectionrequested",
        "existQr",
        "createorUpdateEntries",
        "sale",
        "collectionperformed",
        "purchase",
        "createorUpdateResidueArrived",
        "createorUpdateDocument",
        "object",
        "collector",
        "coll",
        "provider",
        "prov"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\corporation\\Mutation",
      "sourcesContent": [
        "var Corporation = require('../../../models/corporation.model');\r\nvar Collector = require('../../../models/collector.model');\r\nvar Provider = require('../../../models/provider.model');\r\nvar CheckPoint = require('../../../models/checkpoint.model');\r\nvar TransactionHistory = require('../../../models/transactionhistory.model');\r\nmongoose = require('mongoose');\r\n\r\nvar Classification = {\r\n\tProvider: 'Fornecedor',\r\n\tCollector: 'Empresa Coletora'\r\n};\r\n\r\nmodule.exports = corporation = {\r\n\tQuery: {\r\n\t\tasync getCorporation(root, { _id }) {\r\n\t\t\treturn await Corporation.findById(_id);\r\n\t\t},\r\n\t\tasync getCorporationByUser(root, { _id }) {\r\n\t\t\tvar res = await Corporation.findOne({ 'users._id': _id });\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t} else {\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allCorporations() {\r\n\t\t\treturn await Corporation.find();\r\n\t\t},\r\n\r\n\t\tasync allUnits(root, { _id }) {\r\n\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\tvar unit;\r\n\t\t\t\tvar units = [];\r\n\t\t\t\tfor (var i = 0; res.units.length > i; i++) {\r\n\t\t\t\t\tunit = undefined;\r\n\t\t\t\t\tunit = await Corporation.findById(res.units[i].unitsId);\r\n\t\t\t\t\tif (!unit) {\r\n\t\t\t\t\t\tunit = await Collector.findById(res.units[i].unitsId);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!unit) {\r\n\t\t\t\t\t\tunit = await Provider.findById(res.units[i].unitsId);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (unit) {\r\n\t\t\t\t\t\tunits.push(unit);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn units;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync allDocuments(root, { _id }) {\r\n\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.documents;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync allDepartments(root, { _id }) {\r\n\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.departments;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allResiduesRegister(root, { _id }) {\r\n\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.residuesRegister;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allResidueArrived(root, { _id }) {\r\n\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.residuesPerformed;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allSchedulings(root, { _id }) {\r\n\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.scheduling;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allEntries(root, { _id }) {\r\n\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.entries;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allProvidersId(root, { _id }) {\r\n\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.myProviders;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tMutation: {\r\n\t\tasync createCorporation(root, { input }) {\r\n\t\t\tvar res = await Corporation.findOne({ 'users.email': input.users[0].email });\r\n\t\t\tif (res) {\r\n\t\t\t\tthrow new Error('WRE005');\r\n\t\t\t} else {\r\n\t\t\t\treturn await Corporation.create(input);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync createCorporationUnit(root, { _id, typeCorporation, input }) {\r\n\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\tfor (var x = 0; res.units.length > x; x++) {\r\n\t\t\t\t\tif (input[i].users[0].email === res.units[x].email) {\r\n\t\t\t\t\t\tthrow new Error('WRE005');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst session = await mongoose.startSession();\r\n\t\t\ttry {\r\n\t\t\t\tsession.startTransaction();\r\n\t\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\t\tvar id = undefined;\r\n\t\t\t\t\tvar returned = await Corporation.create(input[i]).then((x) => {\r\n\t\t\t\t\t\tid = x._id;\r\n\t\t\t\t\t});\r\n\t\t\t\t\taddID(_id, id, typeCorporation);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait session.commitTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log('resolved');\r\n\t\t\t\treturn await Corporation.findById(_id);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tawait session.abortTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log('aborting');\r\n\t\t\t\treturn new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync updateCorporation(root, { _id, input }) {\r\n\t\t\treturn await Corporation.findOneAndUpdate(\r\n\t\t\t\t{\r\n\t\t\t\t\t_id\r\n\t\t\t\t},\r\n\t\t\t\tinput,\r\n\t\t\t\t{\r\n\t\t\t\t\tnew: true\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tasync deleteCorporation(root, { _id }) {\r\n\t\t\t// return await Collector.findOneAndRemove({\r\n\t\t\t// \t_id\r\n\t\t\t// });\r\n\t\t},\r\n\t\tasync createorUpdateDepartment(root, { _id, input }) {\r\n\t\t\ttry {\r\n\t\t\t\tres = await Corporation.findById(_id, function(err, corp) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\treturn next(new Error('ERE009'));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\t\t\t\tif (input[i]._id) {\r\n\t\t\t\t\t\t\t\tindex = corp.departments.findIndex((x) => x._id == input[i]._id);\r\n\t\t\t\t\t\t\t\tif (index) {\r\n\t\t\t\t\t\t\t\t\tcorp.departments[index] = input[i];\r\n\t\t\t\t\t\t\t\t} else if (!corp.departments || corp.departments.length <= 0) {\r\n\t\t\t\t\t\t\t\t\tcorp.departments = [ input[i] ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (!corp.departments || corp.departments.length <= 0) {\r\n\t\t\t\t\t\t\t\t\tcorp.departments = [ input[i] ];\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcorp.departments.push(input[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcorp.save();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\t\treturn res.departments;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthrow new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync createorUpdateResiduesRegister(root, { _id, input }) {\r\n\t\t\tconst session = await mongoose.startSession();\r\n\t\t\ttry {\r\n\t\t\t\tsession.startTransaction();\r\n\t\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\t\tvar returnElement;\r\n\t\t\t\tif (\r\n\t\t\t\t\t!res.residuesRegister ||\r\n\t\t\t\t\t!res.residuesRegister.departments ||\r\n\t\t\t\t\tres.residuesRegister.departments.length <= 0\r\n\t\t\t\t) {\r\n\t\t\t\t\tvar elementSaved;\r\n\t\t\t\t\treturnElement = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tCorporation.findById(_id, function(err, corp) {\r\n\t\t\t\t\t\t\tif (!corp) console.log('ERE009');\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tinput.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!res.residuesRegister ||\r\n\t\t\t\t\t\t\t\t\t\t!res.residuesRegister.departments ||\r\n\t\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\tres['residuesRegister'] = new Object();\r\n\t\t\t\t\t\t\t\t\t\tvar depart = {\r\n\t\t\t\t\t\t\t\t\t\t\t_id: department._id,\r\n\t\t\t\t\t\t\t\t\t\t\tname: department.name,\r\n\t\t\t\t\t\t\t\t\t\t\tisChanged: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: department.description,\r\n\t\t\t\t\t\t\t\t\t\t\tactive: department.active,\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: []\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tres['residuesRegister']['departments'] = [ depart ];\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tvar depart = {\r\n\t\t\t\t\t\t\t\t\t\t\t_id: department._id,\r\n\t\t\t\t\t\t\t\t\t\t\tname: department.name,\r\n\t\t\t\t\t\t\t\t\t\t\tisChanged: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: department.description,\r\n\t\t\t\t\t\t\t\t\t\t\tactive: department.active,\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: []\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tvar exist = res.residuesRegister.departments.find(\r\n\t\t\t\t\t\t\t\t\t\t\t(x) => x.name === depart.name\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\tif (!exist) {\r\n\t\t\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.push(depart);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tinput.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((departmentDB) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (department.name === departmentDB.name) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdepartmentDB.qrCode.push(qrCode);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tcorp.residuesRegister = res.residuesRegister;\r\n\t\t\t\t\t\t\t\tcorp.update(corp).then((x) => {\r\n\t\t\t\t\t\t\t\t\tresolve(corp);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\tvar checkpoin = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\tif (!checkpoint) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t_idCorporation: _id,\r\n\t\t\t\t\t\t\t\t\t\twastegenerated: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (!checkpoint.wastegenerated || checkpoint.wastegenerated.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t_idCorporation: _id,\r\n\t\t\t\t\t\t\t\t\t\t\twastegenerated: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await CheckPoint.create(checkpoint);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tCheckPoint.findOne(function(err, check) {\r\n\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (!check || check.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheck = check;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheck.wastegenerated = checkpoint.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/*Gerando historico */\r\n\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\tvar history = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\tif (!transaction) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t_idCorporation: _id,\r\n\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\twastegenerated: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.wastegenerated === undefined ||\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.wastegenerated.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t_idCorporation: _id,\r\n\t\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\twastegenerated: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await TransactionHistory.create(transaction);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tTransactionHistory.findOne(function(err, trans) {\r\n\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (trans === undefined || trans.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\ttrans = transaction;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.wastegenerated = transaction.checkPoints.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar removed = false;\r\n\t\t\t\t\tfor (i = 0; input.departments.length > i; i++) {\r\n\t\t\t\t\t\tif (input.departments[i].isChanged) {\r\n\t\t\t\t\t\t\tvar existRemoved = false;\r\n\t\t\t\t\t\t\t/*verifica se existe mudança de departamento e exclui o item que esta salvo no departamento antigo para depois inserir no novo\r\n\t\t\t\t\t\tSe por acaso o usuário modificou, mas voltou ao antigo ele apenas não exclui e retorn\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\tfor (y = 0; y < input.departments[i].qrCode.length; y++) {\r\n\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department, index) => {\r\n\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode, indexQrCode) => {\r\n\t\t\t\t\t\t\t\t\t\tif (input.departments[i]._id !== department._id) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (qrCode.code === input.departments[i].qrCode[y].code) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdepartment.qrCode.splice(indexQrCode, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t//se não tem mais qrcode remove o departamento\r\n\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department, index) => {\r\n\t\t\t\t\t\t\t\t\tif (!department || !department.qrCode || department.qrCode.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinput.departments[i].isChanged = false;\r\n\t\t\t\t\t\t\tremoved = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tawait res.update(res).then(console.log('ok removed from old'));\r\n\t\t\t\t\tres = await Corporation.findById(_id);\r\n\r\n\t\t\t\t\tfor (i = 0; input.departments.length > i; i++) {\r\n\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\tvar exist = await res.residuesRegister.departments.find(\r\n\t\t\t\t\t\t\t(x) => x._id == input.departments[i]._id\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tif (exist === undefined || exist.length <= 0) {\r\n\t\t\t\t\t\t\tawait res.residuesRegister.departments.push(input.departments[i]);\r\n\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push in department'));\r\n\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\r\n\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\tif (input.departments[i].name === department.name) {\r\n\t\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.push(qrCode);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tcheck.wastegenerated = checkpoint.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\t\tvar transaction = TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar history = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\tif (input.departments[i].name === department.name) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (q = 0; input.departments[i].qrCode.length > q; q++) {\r\n\t\t\t\t\t\t\t\tvar isUpdated = false;\r\n\t\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\t\t\tif (input.departments[i].qrCode[q]._id) {\r\n\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (qrCode.code == input.departments[i].qrCode[q].code) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode.set(input.departments[i].qrCode[q]);\r\n\t\t\t\t\t\t\t\t\t\t\t\tisUpdated = true;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tif (isUpdated) {\r\n\t\t\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok set qr codes'));\r\n\t\t\t\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\t\t\t\t\tisUpdated = false;\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (qrCode.code == input.departments[i].qrCode[q].code) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode.set(input.departments[i].qrCode[q]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcheck.wastegenerated = checkpoint.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\t\t\t\t\tvar history = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tcode: input.departments[i].qrCode[q].code,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaterial: input.departments[i].qrCode[q].material\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\t\tif (input.departments[i]._id == department._id) {\r\n\t\t\t\t\t\t\t\t\t\t\tdepartment.qrCode.push(input.departments[i].qrCode[q]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push to exist department'));\r\n\t\t\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\r\n\t\t\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\t\t\tvar isPushed = false;\r\n\t\t\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.forEach((qrCode, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!isPushed) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.push(input.departments[i].qrCode[q]);\r\n\t\t\t\t\t\t\t\t\t\t\t\tisPushed = true;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcheck.wastegenerated = checkpoint.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\t\t\tvar history = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\t\tcode: input.departments[i].qrCode[q].code,\r\n\t\t\t\t\t\t\t\t\t\t\tmaterial: input.departments[i].qrCode[q].material\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait session.commitTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log('resolved');\r\n\r\n\t\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\t\treturn res.residuesRegister;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tawait session.abortTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log('aborting');\r\n\t\t\t\treturn new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync createorUpdateScheduling(root, { _id, input }) {\r\n\t\t\tconst session = await mongoose.startSession();\r\n\t\t\ttry {\r\n\t\t\t\tsession.startTransaction();\r\n\t\t\t\tvar res = await Corporation.findById(_id);\r\n\r\n\t\t\t\tif (!res.scheduling || res.scheduling.length <= 0) {\r\n\t\t\t\t\treturnElement = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tCorporation.findById(_id, function(err, corp) {\r\n\t\t\t\t\t\t\tif (!corp) console.log('ERE009');\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tinput.forEach((scheduling) => {\r\n\t\t\t\t\t\t\t\t\tif (res.scheduling === undefined || res.scheduling.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tres.scheduling = [ scheduling ];\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tres.scheduling.push(scheduling);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tcorp.scheduling = res.scheduling;\r\n\t\t\t\t\t\t\tcorp.update(corp).then((x) => {\r\n\t\t\t\t\t\t\t\tresolve(corp);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tvar checkpoin = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tres.scheduling.forEach((scheduling) => {\r\n\t\t\t\t\t\t\tscheduling.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\tif (!checkpoint) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcollectionrequested: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (!checkpoint.collectionrequested || checkpoint.collectionrequested.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionrequested: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionrequested.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await CheckPoint.create(checkpoint);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id },function(err, check) {\r\n\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (!check || check.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheck = check;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheck.collectionrequested = checkpoint.collectionrequested;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/*Gerando historico */\r\n\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tvar history = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tres.scheduling.forEach((scheduling) => {\r\n\t\t\t\t\t\t\tscheduling.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\tif (!transaction) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionrequested: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints ||\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints.collectionrequested ||\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionrequested.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcollectionrequested: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionrequested.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await TransactionHistory.create(transaction);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id },function(err, trans) {\r\n\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (!trans || trans.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\ttrans = transaction;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionrequested =\r\n\t\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionrequested;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\t\t\tvar exist = await res.scheduling.find((x) => x._id == input[i]._id);\r\n\r\n\t\t\t\t\t\tif (!exist || exist.length <= 0) {\r\n\t\t\t\t\t\t\tres.scheduling.push(input[i]);\r\n\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push scheduling'));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\texist.set(input[i]);\r\n\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok set scheduling'));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\r\n\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\tfor (var x = 0; input[i].qrCode.length > x; x++) {\r\n\t\t\t\t\t\t\t\tvar existQr = undefined;\r\n\t\t\t\t\t\t\t\tfor (y = 0; y < checkpoint.collectionrequested.qrCode.length; y++) {\r\n\t\t\t\t\t\t\t\t\tif (checkpoint.collectionrequested.qrCode[y].code === input[i].qrCode[x].code) {\r\n\t\t\t\t\t\t\t\t\t\texistQr = checkpoint.collectionrequested.qrCode[y];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (existQr) {\r\n\t\t\t\t\t\t\t\t\texistQr.set(input[i].qrCode[x]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcheckpoint.collectionrequested.qrCode.push(input[i].qrCode[x]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id },function(err, check) {\r\n\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tcheck.collectionrequested = checkpoint.collectionrequested;\r\n\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\tfor (var x = 0; input[i].qrCode.length > x; x++) {\r\n\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionrequested.qrCode.push(input[i].qrCode[x]);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id },function(err, trans) {\r\n\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionrequested = transaction.checkPoints.collectionrequested;\r\n\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait session.commitTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log('resolved');\r\n\r\n\t\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\t\treturn res.scheduling;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tawait session.abortTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log('aborting');\r\n\t\t\t\treturn new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync createorUpdateEntries(root, { _id, input }) {\r\n\t\t\tconst session = await mongoose.startSession();\r\n\t\t\ttry {\r\n\t\t\t\tsession.startTransaction();\r\n\t\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\t\tif (res.entries === undefined || res.entries === null) {\r\n\t\t\t\t\treturnElement = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tCorporation.findById(_id, function(err, corp) {\r\n\t\t\t\t\t\t\tif (!corp) console.log('ERE009');\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif (res.entries === undefined || res.entries === null) {\r\n\t\t\t\t\t\t\t\t\tres.entries = input;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tres.entries = input;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tcorp.entries = res.entries;\r\n\t\t\t\t\t\t\tcorp.update(corp).then((x) => {\r\n\t\t\t\t\t\t\t\tresolve(corp);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\tvar checkpoint = await CheckPoint.find({ _idCorporation: _id });\r\n\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tvar checkpoin = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tif (res.entries.sale && res.entries.sale.length > 0) {\r\n\t\t\t\t\t\t\tres.entries.sale.forEach((sale) => {\r\n\t\t\t\t\t\t\t\tif (!checkpoint || checkpoint.length <= 0) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: sale.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: sale.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: sale.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: sale.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (!checkpoint.collectionperformed || checkpoint.collectionperformed.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (res.entries.purchase && res.entries.purchase.length > 0) {\r\n\t\t\t\t\t\t\tres.entries.purchase.forEach((purchase) => {\r\n\t\t\t\t\t\t\t\tif (!checkpoint || checkpoint.length <= 0) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: purchase.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: purchase.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: purchase.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: purchase.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (!checkpoint.collectionperformed || checkpoint.collectionperformed.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await CheckPoint.create(checkpoint);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id },function(err, check) {\r\n\t\t\t\t\t\t\t\tif (!check) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('ERE009');\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (!check || check.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheck = checkpoint;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheck.collectionperformed = checkpoint.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\tvar transaction = await TransactionHistory.find({ _idCorporation: _id });\r\n\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tvar history = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tif (res.entries.sale && res.entries.sale.length > 0) {\r\n\t\t\t\t\t\t\tres.entries.sale.forEach((sale) => {\r\n\t\t\t\t\t\t\t\tif (transaction === undefined || transaction === null) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: sale.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: sale.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: sale.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: sale.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints ||\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints.collectionperformed ||\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (res.entries.purchase && res.entries.purchase.length > 0) {\r\n\t\t\t\t\t\t\tres.entries.purchase.forEach((purchase) => {\r\n\t\t\t\t\t\t\t\tif (transaction === undefined || transaction === null) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: purchase.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: purchase.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: purchase.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: purchase.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints ||\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints.collectionperformed ||\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await TransactionHistory.create(transaction);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id },function(err, trans) {\r\n\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (trans === undefined || trans === null) {\r\n\t\t\t\t\t\t\t\t\t\ttrans = transaction;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionperformed =\r\n\t\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (input.sale !== undefined || input.sale.length > 0) {\r\n\t\t\t\t\t\tfor (i = 0; i < input.sale.length; i++) {\r\n\t\t\t\t\t\t\tvar exist = await res.entries.sale.find((x) => x._id == input.sale[i]._id);\r\n\t\t\t\t\t\t\tif (exist) {\r\n\t\t\t\t\t\t\t\texist.set(input.sale[i]);\r\n\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok set entries sale'));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tawait res.entries.sale.push(input.sale[i]);\r\n\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push entries sale'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\r\n\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tif (input.sale !== undefined && input.sale.length > 0) {\r\n\t\t\t\t\t\t\t\t\tvar existQr = undefined;\r\n\t\t\t\t\t\t\t\t\tfor (y = 0; y < checkpoint.collectionperformed.qrCode.length; y++) {\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode[y].code === input.sale[i].qrCode.code\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\texistQr = checkpoint.collectionperformed.qrCode[y];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (existQr) {\r\n\t\t\t\t\t\t\t\t\t\texistQr.set(input.sale[i].qrCode);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode.push(input.sale[i].qrCode);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id },function(err, check) {\r\n\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tcheck.collectionperformed = checkpoint.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tif (input.sale !== undefined && input.sale.length > 0) {\r\n\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.qrCode.push(input.sale[i].qrCode);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id },function(err, trans) {\r\n\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionperformed =\r\n\t\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (input.purchase !== undefined || input.purchase.length > 0) {\r\n\t\t\t\t\t\tfor (i = 0; i < input.purchase.length; i++) {\r\n\t\t\t\t\t\t\tvar exist = await res.entries.purchase.find((x) => x._id == input.purchase[i]._id);\r\n\t\t\t\t\t\t\tif (exist) {\r\n\t\t\t\t\t\t\t\texist.set(input.purchase[i]);\r\n\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok set entries purchase'));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tawait res.entries.purchase.push(input.purchase[i]);\r\n\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push entries purchase'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\r\n\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tif (input.purchase !== undefined && input.purchase.length > 0) {\r\n\t\t\t\t\t\t\t\t\tvar existQr = undefined;\r\n\t\t\t\t\t\t\t\t\tfor (y = 0; y < checkpoint.collectionperformed.qrCode.length; y++) {\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode[y].code ===\r\n\t\t\t\t\t\t\t\t\t\t\tinput.purchase[i].qrCode.code\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\texistQr = checkpoint.collectionperformed.qrCode[y];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (existQr) {\r\n\t\t\t\t\t\t\t\t\t\texistQr.set(input.purchase[i].qrCode);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode.push(input.purchase[i].qrCode);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id },function(err, check) {\r\n\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tcheck.collectionperformed = checkpoint.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne();\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tif (input.purchase !== undefined && input.purchase.length > 0) {\r\n\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.qrCode.push(input.purchase[i].qrCode);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id },function(err, trans) {\r\n\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionperformed =\r\n\t\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tres = await Corporation.findById(_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tawait session.commitTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log('resolved');\r\n\r\n\t\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\t\treturn res.entries;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tawait session.abortTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log('aborting');\r\n\t\t\t\treturn new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync createorUpdateResidueArrived(root, { _id, input }) {},\r\n\t\tasync createorUpdateDocument(root, { _id, input }) {\r\n\t\t\ttry {\r\n\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\tvar res = Corporation.findById(_id, function(err, corp) {\r\n\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\treject(next(new Error('ERE009')));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\t\t\t\t\tif (input[i]._id) {\r\n\t\t\t\t\t\t\t\t\tindex = corp.documents.findIndex((x) => x._id == input[i]._id);\r\n\t\t\t\t\t\t\t\t\tcorp.documents[index] = input[i];\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcorp.documents.push(input[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcorp.save();\r\n\t\t\t\t\t\t\tresolve(corp);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar res = await Corporation.findById(_id);\r\n\t\t\t\treturn res.documents;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthrow new Error('ERE009');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nasync function addID(_id, id, typeCorporation) {\r\n\tvar object = {\r\n\t\tunitsId: id\r\n\t};\r\n\tif (typeCorporation === Classification.Collector) {\r\n\t\tvar collector = await Collector.findById(_id);\r\n\t\tif (collector.units === undefined || collector.units.length <= 0) {\r\n\t\t\tcollector['units'] = [ object ];\r\n\t\t} else {\r\n\t\t\tcollector.units.push(object);\r\n\t\t}\r\n\t\tCollector.findOne(_id, function(err, coll) {\r\n\t\t\tif (!coll) console.log('ERE009');\r\n\t\t\telse {\r\n\t\t\t\tcoll.units = collector.units;\r\n\t\t\t\tcoll.update(coll).then((x) => {});\r\n\t\t\t}\r\n\t\t});\r\n\t} else if (typeCorporation === Classification.Provider) {\r\n\t\tvar provider = await Provider.findById(_id);\r\n\t\tif (provider.units === undefined || provider.units.length <= 0) {\r\n\t\t\tprovider['units'] = [ object ];\r\n\t\t} else {\r\n\t\t\tprovider.units.push(object);\r\n\t\t}\r\n\t\tProvider.findOne(_id, function(err, prov) {\r\n\t\t\tif (!prov) console.log('ERE009');\r\n\t\t\telse {\r\n\t\t\t\tprov.units = provider.units;\r\n\t\t\t\tprov.update(prov).then((x) => {});\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tvar corporation = await Corporation.findById(_id);\r\n\t\tif (corporation.units === undefined || corporation.units.length <= 0) {\r\n\t\t\tcorporation['units'] = [ object ];\r\n\t\t} else {\r\n\t\t\tcorporation.units.push(object);\r\n\t\t}\r\n\t\tawait Corporation.findById(_id, function(err, corp) {\r\n\t\t\tif (!corp) console.log('ERE009');\r\n\t\t\telse {\r\n\t\t\t\tcorp.units = corporation.units;\r\n\t\t\t\tcorp.update(corp).then((x) => {});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1574219831459
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\models\\\\corporation.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\models\\corporation.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\models\\corporation.model.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\models\\corporation.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
        "sourceFileName": "corporation.model.js"
      }
    },
    "ast": null,
    "code": "mongoose = require('mongoose');\nconst Schema = mongoose.Schema;\nconst Documents = new Schema({\n  type: {\n    type: String\n  },\n  name: String,\n  archive: String,\n  daysNotification: Number,\n  date: Date,\n  expire: Boolean\n});\nconst Material = new Schema({\n  type: {\n    type: String\n  },\n  name: String,\n  weight: Number,\n  quantity: Number,\n  active: Boolean,\n  unity: String\n});\nconst QrCode = new Schema({\n  code: String,\n  date: Date,\n  material: Material\n});\nconst ResidueArrived = new Schema({\n  date: Date,\n  name: String,\n  cost: Number,\n  typeEntrie: String,\n  quantity: Number,\n  weight: Number,\n  amount: Number,\n  qrCode: QrCode,\n  observation: String,\n  confirmedByCorporation: String,\n  confirmedByCollector: String\n});\nconst ResiduesRegisterSchema = new Schema({\n  departments: [{\n    isChanged: Boolean,\n    name: String,\n    description: String,\n    active: Boolean,\n    qrCode: [QrCode]\n  }]\n});\nconst Entries = new Schema({\n  purchase: [{\n    date: Date,\n    name: String,\n    cost: Number,\n    typeEntrie: String,\n    quantity: Number,\n    weight: Number,\n    amount: Number,\n    qrCode: QrCode\n  }],\n  sale: [{\n    date: Date,\n    name: String,\n    cost: Number,\n    typeEntrie: String,\n    quantity: Number,\n    weight: Number,\n    amount: Number,\n    qrCode: QrCode,\n    _idColector: String\n  }]\n});\nvar CorporationSchema = new Schema({\n  company: String,\n  cnpj: String,\n  tradingName: String,\n  active: Boolean,\n  class: String,\n  phone: Number,\n  email: String,\n  picture: String,\n  classification: String,\n  cellPhone: Number,\n  creationDate: Date,\n  activationDate: Date,\n  verificationDate: Date,\n  location: {\n    country: String,\n    state: String,\n    latitude: Number,\n    longitude: Number,\n    cep: String,\n    publicPlace: String,\n    neighborhood: String,\n    number: Number,\n    county: String,\n    complement: String\n  },\n  units: [{\n    unitsId: String\n  }],\n  users: [{\n    name: String,\n    email: String,\n    profile: {\n      name: String,\n      access: [String]\n    },\n    password: String,\n    active: Boolean\n  }],\n  myProviders: [{\n    providerId: String\n  }],\n  departments: [{\n    name: String,\n    description: String,\n    active: Boolean,\n    isChanged: Boolean\n  }],\n  residuesRegister: ResiduesRegisterSchema,\n  scheduling: [{\n    hour: Date,\n    date: Date,\n    active: Boolean,\n    collector: {\n      _id: String,\n      company: String,\n      cnpj: String,\n      tradingName: String,\n      active: Boolean,\n      phone: Number,\n      cellPhone: Number,\n      class: String,\n      email: String,\n      classification: String\n    },\n    qrCode: [QrCode]\n  }],\n  entries: Entries,\n  residuesArrived: [ResidueArrived],\n  documents: [Documents]\n});\nmodule.exports = mongoose.model('corporation', CorporationSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcnBvcmF0aW9uLm1vZGVsLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsIkRvY3VtZW50cyIsInR5cGUiLCJTdHJpbmciLCJuYW1lIiwiYXJjaGl2ZSIsImRheXNOb3RpZmljYXRpb24iLCJOdW1iZXIiLCJkYXRlIiwiRGF0ZSIsImV4cGlyZSIsIkJvb2xlYW4iLCJNYXRlcmlhbCIsIndlaWdodCIsInF1YW50aXR5IiwiYWN0aXZlIiwidW5pdHkiLCJRckNvZGUiLCJjb2RlIiwibWF0ZXJpYWwiLCJSZXNpZHVlQXJyaXZlZCIsImNvc3QiLCJ0eXBlRW50cmllIiwiYW1vdW50IiwicXJDb2RlIiwib2JzZXJ2YXRpb24iLCJjb25maXJtZWRCeUNvcnBvcmF0aW9uIiwiY29uZmlybWVkQnlDb2xsZWN0b3IiLCJSZXNpZHVlc1JlZ2lzdGVyU2NoZW1hIiwiZGVwYXJ0bWVudHMiLCJpc0NoYW5nZWQiLCJkZXNjcmlwdGlvbiIsIkVudHJpZXMiLCJwdXJjaGFzZSIsInNhbGUiLCJfaWRDb2xlY3RvciIsIkNvcnBvcmF0aW9uU2NoZW1hIiwiY29tcGFueSIsImNucGoiLCJ0cmFkaW5nTmFtZSIsImNsYXNzIiwicGhvbmUiLCJlbWFpbCIsInBpY3R1cmUiLCJjbGFzc2lmaWNhdGlvbiIsImNlbGxQaG9uZSIsImNyZWF0aW9uRGF0ZSIsImFjdGl2YXRpb25EYXRlIiwidmVyaWZpY2F0aW9uRGF0ZSIsImxvY2F0aW9uIiwiY291bnRyeSIsInN0YXRlIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJjZXAiLCJwdWJsaWNQbGFjZSIsIm5laWdoYm9yaG9vZCIsIm51bWJlciIsImNvdW50eSIsImNvbXBsZW1lbnQiLCJ1bml0cyIsInVuaXRzSWQiLCJ1c2VycyIsInByb2ZpbGUiLCJhY2Nlc3MiLCJwYXNzd29yZCIsIm15UHJvdmlkZXJzIiwicHJvdmlkZXJJZCIsInJlc2lkdWVzUmVnaXN0ZXIiLCJzY2hlZHVsaW5nIiwiaG91ciIsImNvbGxlY3RvciIsIl9pZCIsImVudHJpZXMiLCJyZXNpZHVlc0Fycml2ZWQiLCJkb2N1bWVudHMiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQWxCO0FBQ0EsTUFBTUMsTUFBTSxHQUFHRixRQUFRLENBQUNFLE1BQXhCO0FBRUEsTUFBTUMsU0FBUyxHQUFHLElBQUlELE1BQUosQ0FBVztBQUM1QkUsRUFBQUEsSUFBSSxFQUFFO0FBQUVBLElBQUFBLElBQUksRUFBRUM7QUFBUixHQURzQjtBQUU1QkMsRUFBQUEsSUFBSSxFQUFFRCxNQUZzQjtBQUc1QkUsRUFBQUEsT0FBTyxFQUFFRixNQUhtQjtBQUk1QkcsRUFBQUEsZ0JBQWdCLEVBQUVDLE1BSlU7QUFLNUJDLEVBQUFBLElBQUksRUFBRUMsSUFMc0I7QUFNNUJDLEVBQUFBLE1BQU0sRUFBRUM7QUFOb0IsQ0FBWCxDQUFsQjtBQVNBLE1BQU1DLFFBQVEsR0FBRyxJQUFJWixNQUFKLENBQVc7QUFDM0JFLEVBQUFBLElBQUksRUFBRTtBQUFFQSxJQUFBQSxJQUFJLEVBQUVDO0FBQVIsR0FEcUI7QUFFM0JDLEVBQUFBLElBQUksRUFBRUQsTUFGcUI7QUFHM0JVLEVBQUFBLE1BQU0sRUFBRU4sTUFIbUI7QUFJM0JPLEVBQUFBLFFBQVEsRUFBRVAsTUFKaUI7QUFLM0JRLEVBQUFBLE1BQU0sRUFBRUosT0FMbUI7QUFNM0JLLEVBQUFBLEtBQUssRUFBRWI7QUFOb0IsQ0FBWCxDQUFqQjtBQVNBLE1BQU1jLE1BQU0sR0FBRyxJQUFJakIsTUFBSixDQUFXO0FBQ3pCa0IsRUFBQUEsSUFBSSxFQUFFZixNQURtQjtBQUV6QkssRUFBQUEsSUFBSSxFQUFFQyxJQUZtQjtBQUd6QlUsRUFBQUEsUUFBUSxFQUFFUDtBQUhlLENBQVgsQ0FBZjtBQU1BLE1BQU1RLGNBQWMsR0FBRyxJQUFJcEIsTUFBSixDQUFXO0FBQ2pDUSxFQUFBQSxJQUFJLEVBQUVDLElBRDJCO0FBRWpDTCxFQUFB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LE1BQUFBLEdBQUcsRUFBRXJFLE1BREs7QUFFVmtDLE1BQUFBLE9BQU8sRUFBRWxDLE1BRkM7QUFHVm1DLE1BQUFBLElBQUksRUFBRW5DLE1BSEk7QUFJVm9DLE1BQUFBLFdBQVcsRUFBRXBDLE1BSkg7QUFLVlksTUFBQUEsTUFBTSxFQUFFSixPQUxFO0FBTVY4QixNQUFBQSxLQUFLLEVBQUVsQyxNQU5HO0FBT1ZzQyxNQUFBQSxTQUFTLEVBQUV0QyxNQVBEO0FBUVZpQyxNQUFBQSxLQUFLLEVBQUVyQyxNQVJHO0FBU1Z1QyxNQUFBQSxLQUFLLEVBQUV2QyxNQVRHO0FBVVZ5QyxNQUFBQSxjQUFjLEVBQUV6QztBQVZOLEtBSlo7QUFnQkNxQixJQUFBQSxNQUFNLEVBQUUsQ0FBRVAsTUFBRjtBQWhCVCxHQURXLENBMURzQjtBQThFbEN3RCxFQUFBQSxPQUFPLEVBQUV6QyxPQTlFeUI7QUErRWxDMEMsRUFBQUEsZUFBZSxFQUFFLENBQUV0RCxjQUFGLENBL0VpQjtBQWdGbEN1RCxFQUFBQSxTQUFTLEVBQUUsQ0FBRTFFLFNBQUY7QUFoRnVCLENBQVgsQ0FBeEI7QUFtRkEyRSxNQUFNLENBQUNDLE9BQVAsR0FBaUIvRSxRQUFRLENBQUNnRixLQUFULENBQWUsYUFBZixFQUE4QjFDLGlCQUE5QixDQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxccmVjb25zaWRlcmVcXHJlY29uc2lkZXJlLWNvcnBvcmF0aW9uLWFwaVxcbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsibW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBEb2N1bWVudHMgPSBuZXcgU2NoZW1hKHtcclxuXHR0eXBlOiB7IHR5cGU6IFN0cmluZyB9LFxyXG5cdG5hbWU6IFN0cmluZyxcclxuXHRhcmNoaXZlOiBTdHJpbmcsXHJcblx0ZGF5c05vdGlmaWNhdGlvbjogTnVtYmVyLFxyXG5cdGRhdGU6IERhdGUsXHJcblx0ZXhwaXJlOiBCb29sZWFuXHJcbn0pO1xyXG5cclxuY29uc3QgTWF0ZXJpYWwgPSBuZXcgU2NoZW1hKHtcclxuXHR0eXBlOiB7IHR5cGU6IFN0cmluZyB9LFxyXG5cdG5hbWU6IFN0cmluZyxcclxuXHR3ZWlnaHQ6IE51bWJlcixcclxuXHRxdWFudGl0eTogTnVtYmVyLFxyXG5cdGFjdGl2ZTogQm9vbGVhbixcclxuXHR1bml0eTogU3RyaW5nXHJcbn0pO1xyXG5cclxuY29uc3QgUXJDb2RlID0gbmV3IFNjaGVtYSh7XHJcblx0Y29kZTogU3RyaW5nLFxyXG5cdGRhdGU6IERhdGUsXHJcblx0bWF0ZXJpYWw6IE1hdGVyaWFsXHJcbn0pO1xyXG5cclxuY29uc3QgUmVzaWR1ZUFycml2ZWQgPSBuZXcgU2NoZW1hKHtcclxuXHRkYXRlOiBEYXRlLFxyXG5cdG5hbWU6IFN0cmluZyxcclxuXHRjb3N0OiBOdW1iZXIsXHJcblx0dHlwZUVudHJpZTogU3RyaW5nLFxyXG5cdHF1YW50aXR5OiBOdW1iZXIsXHJcblx0d2VpZ2h0OiBOdW1iZXIsXHJcblx0YW1vdW50OiBOdW1iZXIsXHJcblx0cXJDb2RlOiBRckNvZGUsXHJcblx0b2JzZXJ2YXRpb246IFN0cmluZyxcclxuXHRjb25maXJtZWRCeUNvcnBvcmF0aW9uOiBTdHJpbmcsXHJcblx0Y29uZmlybWVkQnlDb2xsZWN0b3I6IFN0cmluZ1xyXG59KTtcclxuXHJcbmNvbnN0IFJlc2lkdWVzUmVnaXN0ZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuXHRkZXBhcnRtZW50czogW1xyXG5cdFx0e1xyXG5cdFx0XHRpc0NoYW5nZWQ6IEJvb2xlYW4sXHJcblx0XHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdFx0ZGVzY3JpcHRpb246IFN0cmluZyxcclxuXHRcdFx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdFx0XHRxckNvZGU6IFsgUXJDb2RlIF1cclxuXHRcdH1cclxuXHRdXHJcbn0pO1xyXG5cclxuY29uc3QgRW50cmllcyA9IG5ldyBTY2hlbWEoe1xyXG5cdHB1cmNoYXNlOiBbXHJcblx0XHR7XHJcblx0XHRcdGRhdGU6IERhdGUsXHJcblx0XHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdFx0Y29zdDogTnVtYmVyLFxyXG5cdFx0XHR0eXBlRW50cmllOiBTdHJpbmcsXHJcblx0XHRcdHF1YW50aXR5OiBOdW1iZXIsXHJcblx0XHRcdHdlaWdodDogTnVtYmVyLFxyXG5cdFx0XHRhbW91bnQ6IE51bWJlcixcclxuXHRcdFx0cXJDb2RlOiBRckNvZGVcclxuXHRcdH1cclxuXHRdLFxyXG5cdHNhbGU6IFtcclxuXHRcdHtcclxuXHRcdFx0ZGF0ZTogRGF0ZSxcclxuXHRcdFx0bmFtZTogU3RyaW5nLFxyXG5cdFx0XHRjb3N0OiBOdW1iZXIsXHJcblx0XHRcdHR5cGVFbnRyaWU6IFN0cmluZyxcclxuXHRcdFx0cXVhbnRpdHk6IE51bWJlcixcclxuXHRcdFx0d2VpZ2h0OiBOdW1iZXIsXHJcblx0XHRcdGFtb3VudDogTnVtYmVyLFxyXG5cdFx0XHRxckNvZGU6IFFyQ29kZSxcclxuXHRcdFx0X2lkQ29sZWN0b3I6IFN0cmluZ1xyXG5cdFx0fVxyXG5cdF1cclxufSk7XHJcblxyXG52YXIgQ29ycG9yYXRpb25TY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuXHRjb21wYW55OiBTdHJpbmcsXHJcblx0Y25wajogU3RyaW5nLFxyXG5cdHRyYWRpbmdOYW1lOiBTdHJpbmcsXHJcblx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdGNsYXNzOiBTdHJpbmcsXHJcblx0cGhvbmU6IE51bWJlcixcclxuXHRlbWFpbDogU3RyaW5nLFxyXG5cdHBpY3R1cmU6IFN0cmluZyxcclxuXHRjbGFzc2lmaWNhdGlvbjogU3RyaW5nLFxyXG5cdGNlbGxQaG9uZTogTnVtYmVyLFxyXG5cdGNyZWF0aW9uRGF0ZTogRGF0ZSxcclxuXHRhY3RpdmF0aW9uRGF0ZTogRGF0ZSxcclxuXHR2ZXJpZmljYXRpb25EYXRlOiBEYXRlLFxyXG5cdGxvY2F0aW9uOiB7XHJcblx0XHRjb3VudHJ5OiBTdHJpbmcsXHJcblx0XHRzdGF0ZTogU3RyaW5nLFxyXG5cdFx0bGF0aXR1ZGU6IE51bWJlcixcclxuXHRcdGxvbmdpdHVkZTogTnVtYmVyLFxyXG5cdFx0Y2VwOiBTdHJpbmcsXHJcblx0XHRwdWJsaWNQbGFjZTogU3RyaW5nLFxyXG5cdFx0bmVpZ2hib3Job29kOiBTdHJpbmcsXHJcblx0XHRudW1iZXI6IE51bWJlcixcclxuXHRcdGNvdW50eTogU3RyaW5nLFxyXG5cdFx0Y29tcGxlbWVudDogU3RyaW5nXHJcblx0fSxcclxuXHR1bml0czogW1xyXG5cdFx0e1xyXG5cdFx0XHR1bml0c0lkOiBTdHJpbmdcclxuXHRcdH1cclxuXHRdLFxyXG5cdHVzZXJzOiBbXHJcblx0XHR7XHJcblx0XHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdFx0ZW1haWw6IFN0cmluZyxcclxuXHRcdFx0cHJvZmlsZToge1xyXG5cdFx0XHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdFx0XHRhY2Nlc3M6IFsgU3RyaW5nIF1cclxuXHRcdFx0fSxcclxuXHRcdFx0cGFzc3dvcmQ6IFN0cmluZyxcclxuXHRcdFx0YWN0aXZlOiBCb29sZWFuXHJcblx0XHR9XHJcblx0XSxcclxuXHRteVByb3ZpZGVyczogW1xyXG5cdFx0e1xyXG5cdFx0XHRwcm92aWRlcklkOiBTdHJpbmdcclxuXHRcdH1cclxuXHRdLFxyXG5cdGRlcGFydG1lbnRzOiBbXHJcblx0XHR7XHJcblx0XHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdFx0ZGVzY3JpcHRpb246IFN0cmluZyxcclxuXHRcdFx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdFx0XHRpc0NoYW5nZWQ6IEJvb2xlYW5cclxuXHRcdH1cclxuXHRdLFxyXG5cclxuXHRyZXNpZHVlc1JlZ2lzdGVyOiBSZXNpZHVlc1JlZ2lzdGVyU2NoZW1hLFxyXG5cdHNjaGVkdWxpbmc6IFtcclxuXHRcdHtcclxuXHRcdFx0aG91cjogRGF0ZSxcclxuXHRcdFx0ZGF0ZTogRGF0ZSxcclxuXHRcdFx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdFx0XHRjb2xsZWN0b3I6IHtcclxuXHRcdFx0XHRfaWQ6IFN0cmluZyxcclxuXHRcdFx0XHRjb21wYW55OiBTdHJpbmcsXHJcblx0XHRcdFx0Y25wajogU3RyaW5nLFxyXG5cdFx0XHRcdHRyYWRpbmdOYW1lOiBTdHJpbmcsXHJcblx0XHRcdFx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdFx0XHRcdHBob25lOiBOdW1iZXIsXHJcblx0XHRcdFx0Y2VsbFBob25lOiBOdW1iZXIsXHJcblx0XHRcdFx0Y2xhc3M6IFN0cmluZyxcclxuXHRcdFx0XHRlbWFpbDogU3RyaW5nLFxyXG5cdFx0XHRcdGNsYXNzaWZpY2F0aW9uOiBTdHJpbmdcclxuXHRcdFx0fSxcclxuXHRcdFx0cXJDb2RlOiBbIFFyQ29kZSBdXHJcblx0XHR9XHJcblx0XSxcclxuXHRlbnRyaWVzOiBFbnRyaWVzLFxyXG5cdHJlc2lkdWVzQXJyaXZlZDogWyBSZXNpZHVlQXJyaXZlZCBdLFxyXG5cdGRvY3VtZW50czogWyBEb2N1bWVudHMgXVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ2NvcnBvcmF0aW9uJywgQ29ycG9yYXRpb25TY2hlbWEpO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "corporation.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "Documents",
        "type",
        "String",
        "name",
        "archive",
        "daysNotification",
        "Number",
        "date",
        "Date",
        "expire",
        "Boolean",
        "Material",
        "weight",
        "quantity",
        "active",
        "unity",
        "QrCode",
        "code",
        "material",
        "ResidueArrived",
        "cost",
        "typeEntrie",
        "amount",
        "qrCode",
        "observation",
        "confirmedByCorporation",
        "confirmedByCollector",
        "ResiduesRegisterSchema",
        "departments",
        "isChanged",
        "description",
        "Entries",
        "purchase",
        "sale",
        "_idColector",
        "CorporationSchema",
        "company",
        "cnpj",
        "tradingName",
        "class",
        "phone",
        "email",
        "picture",
        "classification",
        "cellPhone",
        "creationDate",
        "activationDate",
        "verificationDate",
        "location",
        "country",
        "state",
        "latitude",
        "longitude",
        "cep",
        "publicPlace",
        "neighborhood",
        "number",
        "county",
        "complement",
        "units",
        "unitsId",
        "users",
        "profile",
        "access",
        "password",
        "myProviders",
        "providerId",
        "residuesRegister",
        "scheduling",
        "hour",
        "collector",
        "_id",
        "entries",
        "residuesArrived",
        "documents",
        "module",
        "exports",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
      "sourcesContent": [
        "mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst Documents = new Schema({\r\n\ttype: { type: String },\r\n\tname: String,\r\n\tarchive: String,\r\n\tdaysNotification: Number,\r\n\tdate: Date,\r\n\texpire: Boolean\r\n});\r\n\r\nconst Material = new Schema({\r\n\ttype: { type: String },\r\n\tname: String,\r\n\tweight: Number,\r\n\tquantity: Number,\r\n\tactive: Boolean,\r\n\tunity: String\r\n});\r\n\r\nconst QrCode = new Schema({\r\n\tcode: String,\r\n\tdate: Date,\r\n\tmaterial: Material\r\n});\r\n\r\nconst ResidueArrived = new Schema({\r\n\tdate: Date,\r\n\tname: String,\r\n\tcost: Number,\r\n\ttypeEntrie: String,\r\n\tquantity: Number,\r\n\tweight: Number,\r\n\tamount: Number,\r\n\tqrCode: QrCode,\r\n\tobservation: String,\r\n\tconfirmedByCorporation: String,\r\n\tconfirmedByCollector: String\r\n});\r\n\r\nconst ResiduesRegisterSchema = new Schema({\r\n\tdepartments: [\r\n\t\t{\r\n\t\t\tisChanged: Boolean,\r\n\t\t\tname: String,\r\n\t\t\tdescription: String,\r\n\t\t\tactive: Boolean,\r\n\t\t\tqrCode: [ QrCode ]\r\n\t\t}\r\n\t]\r\n});\r\n\r\nconst Entries = new Schema({\r\n\tpurchase: [\r\n\t\t{\r\n\t\t\tdate: Date,\r\n\t\t\tname: String,\r\n\t\t\tcost: Number,\r\n\t\t\ttypeEntrie: String,\r\n\t\t\tquantity: Number,\r\n\t\t\tweight: Number,\r\n\t\t\tamount: Number,\r\n\t\t\tqrCode: QrCode\r\n\t\t}\r\n\t],\r\n\tsale: [\r\n\t\t{\r\n\t\t\tdate: Date,\r\n\t\t\tname: String,\r\n\t\t\tcost: Number,\r\n\t\t\ttypeEntrie: String,\r\n\t\t\tquantity: Number,\r\n\t\t\tweight: Number,\r\n\t\t\tamount: Number,\r\n\t\t\tqrCode: QrCode,\r\n\t\t\t_idColector: String\r\n\t\t}\r\n\t]\r\n});\r\n\r\nvar CorporationSchema = new Schema({\r\n\tcompany: String,\r\n\tcnpj: String,\r\n\ttradingName: String,\r\n\tactive: Boolean,\r\n\tclass: String,\r\n\tphone: Number,\r\n\temail: String,\r\n\tpicture: String,\r\n\tclassification: String,\r\n\tcellPhone: Number,\r\n\tcreationDate: Date,\r\n\tactivationDate: Date,\r\n\tverificationDate: Date,\r\n\tlocation: {\r\n\t\tcountry: String,\r\n\t\tstate: String,\r\n\t\tlatitude: Number,\r\n\t\tlongitude: Number,\r\n\t\tcep: String,\r\n\t\tpublicPlace: String,\r\n\t\tneighborhood: String,\r\n\t\tnumber: Number,\r\n\t\tcounty: String,\r\n\t\tcomplement: String\r\n\t},\r\n\tunits: [\r\n\t\t{\r\n\t\t\tunitsId: String\r\n\t\t}\r\n\t],\r\n\tusers: [\r\n\t\t{\r\n\t\t\tname: String,\r\n\t\t\temail: String,\r\n\t\t\tprofile: {\r\n\t\t\t\tname: String,\r\n\t\t\t\taccess: [ String ]\r\n\t\t\t},\r\n\t\t\tpassword: String,\r\n\t\t\tactive: Boolean\r\n\t\t}\r\n\t],\r\n\tmyProviders: [\r\n\t\t{\r\n\t\t\tproviderId: String\r\n\t\t}\r\n\t],\r\n\tdepartments: [\r\n\t\t{\r\n\t\t\tname: String,\r\n\t\t\tdescription: String,\r\n\t\t\tactive: Boolean,\r\n\t\t\tisChanged: Boolean\r\n\t\t}\r\n\t],\r\n\r\n\tresiduesRegister: ResiduesRegisterSchema,\r\n\tscheduling: [\r\n\t\t{\r\n\t\t\thour: Date,\r\n\t\t\tdate: Date,\r\n\t\t\tactive: Boolean,\r\n\t\t\tcollector: {\r\n\t\t\t\t_id: String,\r\n\t\t\t\tcompany: String,\r\n\t\t\t\tcnpj: String,\r\n\t\t\t\ttradingName: String,\r\n\t\t\t\tactive: Boolean,\r\n\t\t\t\tphone: Number,\r\n\t\t\t\tcellPhone: Number,\r\n\t\t\t\tclass: String,\r\n\t\t\t\temail: String,\r\n\t\t\t\tclassification: String\r\n\t\t\t},\r\n\t\t\tqrCode: [ QrCode ]\r\n\t\t}\r\n\t],\r\n\tentries: Entries,\r\n\tresiduesArrived: [ ResidueArrived ],\r\n\tdocuments: [ Documents ]\r\n});\r\n\r\nmodule.exports = mongoose.model('corporation', CorporationSchema);\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1574221034563
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\indexLogin.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexLogin.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexLogin.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexLogin.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
        "sourceFileName": "indexLogin.js"
      }
    },
    "ast": null,
    "code": "const login = require('./login/Mutation/login');\n\nmodule.exports = { ...login\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4TG9naW4uanMiXSwibmFtZXMiOlsibG9naW4iLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsd0JBQUQsQ0FBckI7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixFQUNoQixHQUFHSDtBQURhLENBQWpCIiwic291cmNlUm9vdCI6IkM6XFxyZWNvbnNpZGVyZVxccmVjb25zaWRlcmUtY29ycG9yYXRpb24tYXBpXFxyZXNvbHZlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBsb2dpbiA9IHJlcXVpcmUoJy4vbG9naW4vTXV0YXRpb24vbG9naW4nKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdC4uLmxvZ2luXHJcbn07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "indexLogin.js"
      ],
      "names": [
        "login",
        "require",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,wBAAD,CAArB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,EAChB,GAAGH;AADa,CAAjB",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "sourcesContent": [
        "const login = require('./login/Mutation/login');\r\n\r\nmodule.exports = {\r\n\t...login\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1563984618905
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\login\\\\Mutation\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\login\\\\Mutation\\\\login.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\login\\Mutation",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\login\\Mutation\\login.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\login\\Mutation\\login.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\login\\Mutation\\login.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\login\\Mutation",
        "sourceFileName": "login.js"
      }
    },
    "ast": null,
    "code": "Corporation = require('../../../models/corporation.model');\nCollector = require('../../../models/collector.model');\nProvider = require('../../../models/provider.model');\nmodule.exports = login = {\n  Query: {\n    async signIn(root, {\n      email,\n      password\n    }) {\n      try {\n        var res = await Corporation.findOne({\n          $and: [{\n            'users.email': email\n          }, {\n            'users.password': password\n          }]\n        });\n\n        if (!res) {} else {\n          res.users = res.users.filter(x => x.email === email && x.password === password);\n          return res;\n        }\n\n        res = await Collector.findOne({\n          $and: [{\n            'users.email': email\n          }, {\n            'users.password': password\n          }]\n        });\n\n        if (!res) {} else {\n          res.users = res.users.filter(x => x.email === email && x.password === password);\n          return res;\n        }\n\n        res = await Provider.findOne({\n          $and: [{\n            'users.email': email\n          }, {\n            'users.password': password\n          }]\n        });\n\n        if (!res) {\n          return null;\n        } else {\n          res.users = res.users.filter(x => x.email === email && x.password === password);\n          return res;\n        }\n      } catch (error) {\n        return null;\n      }\n    }\n\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmpzIl0sIm5hbWVzIjpbIkNvcnBvcmF0aW9uIiwicmVxdWlyZSIsIkNvbGxlY3RvciIsIlByb3ZpZGVyIiwibW9kdWxlIiwiZXhwb3J0cyIsImxvZ2luIiwiUXVlcnkiLCJzaWduSW4iLCJyb290IiwiZW1haWwiLCJwYXNzd29yZCIsInJlcyIsImZpbmRPbmUiLCIkYW5kIiwidXNlcnMiLCJmaWx0ZXIiLCJ4IiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBQSxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxtQ0FBRCxDQUFyQjtBQUNBQyxTQUFTLEdBQUdELE9BQU8sQ0FBQyxpQ0FBRCxDQUFuQjtBQUNBRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxnQ0FBRCxDQUFsQjtBQUNBRyxNQUFNLENBQUNDLE9BQVAsR0FBaUJDLEtBQUssR0FBRztBQUN4QkMsRUFBQUEsS0FBSyxFQUFFO0FBQ04sVUFBTUMsTUFBTixDQUFhQyxJQUFiLEVBQW1CO0FBQUVDLE1BQUFBLEtBQUY7QUFBU0MsTUFBQUE7QUFBVCxLQUFuQixFQUF3QztBQUN2QyxVQUFJO0FBQ0gsWUFBSUMsR0FBRyxHQUFHLE1BQU1aLFdBQVcsQ0FBQ2EsT0FBWixDQUFvQjtBQUNuQ0MsVUFBQUEsSUFBSSxFQUFFLENBQUU7QUFBRSwyQkFBZUo7QUFBakIsV0FBRixFQUE0QjtBQUFFLDhCQUFrQkM7QUFBcEIsV0FBNUI7QUFENkIsU0FBcEIsQ0FBaEI7O0FBR0EsWUFBSSxDQUFDQyxHQUFMLEVBQVUsQ0FDVCxDQURELE1BQ087QUFDTkEsVUFBQUEsR0FBRyxDQUFDRyxLQUFKLEdBQVlILEdBQUcsQ0FBQ0csS0FBSixDQUFVQyxNQUFWLENBQWtCQyxDQUFELElBQU9BLENBQUMsQ0FBQ1AsS0FBRixLQUFZQSxLQUFaLElBQXFCTyxDQUFDLENBQUNOLFFBQUYsS0FBZUEsUUFBNUQsQ0FBWjtBQUNBLGlCQUFPQyxHQUFQO0FBQ0E7O0FBRURBLFFBQUFBLEdBQUcsR0FBRyxNQUFNVixTQUFTLENBQUNXLE9BQVYsQ0FBa0I7QUFDN0JDLFVBQUFBLElBQUksRUFBRSxDQUFFO0FBQUUsMkJBQWVKO0FBQWpCLFdBQUYsRUFBNEI7QUFBRSw4QkFBa0JDO0FBQXBCLFdBQTVCO0FBRHVCLFNBQWxCLENBQVo7O0FBR0EsWUFBSSxDQUFDQyxHQUFMLEVBQVUsQ0FDVCxDQURELE1BQ087QUFDTkEsVUFBQUEsR0FBRyxDQUFDRyxLQUFKLEdBQVlILEdBQUcsQ0FBQ0csS0FBSixDQUFVQyxNQUFWLENBQWtCQyxDQUFELElBQU9BLENBQUMsQ0FBQ1AsS0FBRixLQUFZQSxLQUFaLElBQXFCTyxDQUFDLENBQUNOLFFBQUYsS0FBZUEsUUFBNUQsQ0FBWjtBQUNBLGlCQUFPQyxHQUFQO0FBQ0E7O0FBRURBLFFBQUFBLEdBQUcsR0FBRyxNQUFNVCxRQUFRLENBQUNVLE9BQVQsQ0FBaUI7QUFDNUJDLFVBQUFBLElBQUksRUFBRSxDQUFFO0FBQUUsMkJBQWVKO0FBQWpCLFdBQUYsRUFBNEI7QUFBRSw4QkFBa0JDO0FBQXBCLFdBQTVCO0FBRHNCLFNBQWpCLENBQVo7O0FBR0EsWUFBSSxDQUFDQyxHQUFMLEVBQVU7QUFDVCxpQkFBTyxJQUFQO0FBQ0EsU0FGRCxNQUVPO0FBQ05BLFVBQUFBLEdBQUcsQ0FBQ0csS0FBSixHQUFZSCxHQUFHLENBQUNHLEtBQUosQ0FBVUMsTUFBVixDQUFrQkMsQ0FBRCxJQUFPQSxDQUFDLENBQUNQLEtBQUYsS0FBWUEsS0FBWixJQUFxQk8sQ0FBQyxDQUFDTixRQUFGLEtBQWVBLFFBQTVELENBQVo7QUFDQSxpQkFBT0MsR0FBUDtBQUNBO0FBQ0QsT0E1QkQsQ0E0QkUsT0FBT00sS0FBUCxFQUFjO0FBQ2YsZUFBTyxJQUFQO0FBQ0E7QUFDRDs7QUFqQ0s7QUFEaUIsQ0FBekIiLCJzb3VyY2VSb290IjoiQzpcXHJlY29uc2lkZXJlXFxyZWNvbnNpZGVyZS1jb3Jwb3JhdGlvbi1hcGlcXHJlc29sdmVyc1xcbG9naW5cXE11dGF0aW9uIiwic291cmNlc0NvbnRlbnQiOlsiQ29ycG9yYXRpb24gPSByZXF1aXJlKCcuLi8uLi8uLi9tb2RlbHMvY29ycG9yYXRpb24ubW9kZWwnKTtcclxuQ29sbGVjdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vbW9kZWxzL2NvbGxlY3Rvci5tb2RlbCcpO1xyXG5Qcm92aWRlciA9IHJlcXVpcmUoJy4uLy4uLy4uL21vZGVscy9wcm92aWRlci5tb2RlbCcpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGxvZ2luID0ge1xyXG5cdFF1ZXJ5OiB7XHJcblx0XHRhc3luYyBzaWduSW4ocm9vdCwgeyBlbWFpbCwgcGFzc3dvcmQgfSkge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHZhciByZXMgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kT25lKHtcclxuXHRcdFx0XHRcdCRhbmQ6IFsgeyAndXNlcnMuZW1haWwnOiBlbWFpbCB9LCB7ICd1c2Vycy5wYXNzd29yZCc6IHBhc3N3b3JkIH0gXVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGlmICghcmVzKSB7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlcy51c2VycyA9IHJlcy51c2Vycy5maWx0ZXIoKHgpID0+IHguZW1haWwgPT09IGVtYWlsICYmIHgucGFzc3dvcmQgPT09IHBhc3N3b3JkKTtcclxuXHRcdFx0XHRcdHJldHVybiByZXM7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXMgPSBhd2FpdCBDb2xsZWN0b3IuZmluZE9uZSh7XHJcblx0XHRcdFx0XHQkYW5kOiBbIHsgJ3VzZXJzLmVtYWlsJzogZW1haWwgfSwgeyAndXNlcnMucGFzc3dvcmQnOiBwYXNzd29yZCB9IF1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRpZiAoIXJlcykge1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXMudXNlcnMgPSByZXMudXNlcnMuZmlsdGVyKCh4KSA9PiB4LmVtYWlsID09PSBlbWFpbCAmJiB4LnBhc3N3b3JkID09PSBwYXNzd29yZCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZE9uZSh7XHJcblx0XHRcdFx0XHQkYW5kOiBbIHsgJ3VzZXJzLmVtYWlsJzogZW1haWwgfSwgeyAndXNlcnMucGFzc3dvcmQnOiBwYXNzd29yZCB9IF1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRpZiAoIXJlcykge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlcy51c2VycyA9IHJlcy51c2Vycy5maWx0ZXIoKHgpID0+IHguZW1haWwgPT09IGVtYWlsICYmIHgucGFzc3dvcmQgPT09IHBhc3N3b3JkKTtcclxuXHRcdFx0XHRcdHJldHVybiByZXM7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "login.js"
      ],
      "names": [
        "Corporation",
        "require",
        "Collector",
        "Provider",
        "module",
        "exports",
        "login",
        "Query",
        "signIn",
        "root",
        "email",
        "password",
        "res",
        "findOne",
        "$and",
        "users",
        "filter",
        "x",
        "error"
      ],
      "mappings": "AAAAA,WAAW,GAAGC,OAAO,CAAC,mCAAD,CAArB;AACAC,SAAS,GAAGD,OAAO,CAAC,iCAAD,CAAnB;AACAE,QAAQ,GAAGF,OAAO,CAAC,gCAAD,CAAlB;AACAG,MAAM,CAACC,OAAP,GAAiBC,KAAK,GAAG;AACxBC,EAAAA,KAAK,EAAE;AACN,UAAMC,MAAN,CAAaC,IAAb,EAAmB;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAnB,EAAwC;AACvC,UAAI;AACH,YAAIC,GAAG,GAAG,MAAMZ,WAAW,CAACa,OAAZ,CAAoB;AACnCC,UAAAA,IAAI,EAAE,CAAE;AAAE,2BAAeJ;AAAjB,WAAF,EAA4B;AAAE,8BAAkBC;AAApB,WAA5B;AAD6B,SAApB,CAAhB;;AAGA,YAAI,CAACC,GAAL,EAAU,CACT,CADD,MACO;AACNA,UAAAA,GAAG,CAACG,KAAJ,GAAYH,GAAG,CAACG,KAAJ,CAAUC,MAAV,CAAkBC,CAAD,IAAOA,CAAC,CAACP,KAAF,KAAYA,KAAZ,IAAqBO,CAAC,CAACN,QAAF,KAAeA,QAA5D,CAAZ;AACA,iBAAOC,GAAP;AACA;;AAEDA,QAAAA,GAAG,GAAG,MAAMV,SAAS,CAACW,OAAV,CAAkB;AAC7BC,UAAAA,IAAI,EAAE,CAAE;AAAE,2BAAeJ;AAAjB,WAAF,EAA4B;AAAE,8BAAkBC;AAApB,WAA5B;AADuB,SAAlB,CAAZ;;AAGA,YAAI,CAACC,GAAL,EAAU,CACT,CADD,MACO;AACNA,UAAAA,GAAG,CAACG,KAAJ,GAAYH,GAAG,CAACG,KAAJ,CAAUC,MAAV,CAAkBC,CAAD,IAAOA,CAAC,CAACP,KAAF,KAAYA,KAAZ,IAAqBO,CAAC,CAACN,QAAF,KAAeA,QAA5D,CAAZ;AACA,iBAAOC,GAAP;AACA;;AAEDA,QAAAA,GAAG,GAAG,MAAMT,QAAQ,CAACU,OAAT,CAAiB;AAC5BC,UAAAA,IAAI,EAAE,CAAE;AAAE,2BAAeJ;AAAjB,WAAF,EAA4B;AAAE,8BAAkBC;AAApB,WAA5B;AADsB,SAAjB,CAAZ;;AAGA,YAAI,CAACC,GAAL,EAAU;AACT,iBAAO,IAAP;AACA,SAFD,MAEO;AACNA,UAAAA,GAAG,CAACG,KAAJ,GAAYH,GAAG,CAACG,KAAJ,CAAUC,MAAV,CAAkBC,CAAD,IAAOA,CAAC,CAACP,KAAF,KAAYA,KAAZ,IAAqBO,CAAC,CAACN,QAAF,KAAeA,QAA5D,CAAZ;AACA,iBAAOC,GAAP;AACA;AACD,OA5BD,CA4BE,OAAOM,KAAP,EAAc;AACf,eAAO,IAAP;AACA;AACD;;AAjCK;AADiB,CAAzB",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\login\\Mutation",
      "sourcesContent": [
        "Corporation = require('../../../models/corporation.model');\r\nCollector = require('../../../models/collector.model');\r\nProvider = require('../../../models/provider.model');\r\nmodule.exports = login = {\r\n\tQuery: {\r\n\t\tasync signIn(root, { email, password }) {\r\n\t\t\ttry {\r\n\t\t\t\tvar res = await Corporation.findOne({\r\n\t\t\t\t\t$and: [ { 'users.email': email }, { 'users.password': password } ]\r\n\t\t\t\t});\r\n\t\t\t\tif (!res) {\r\n\t\t\t\t} else {\r\n\t\t\t\t\tres.users = res.users.filter((x) => x.email === email && x.password === password);\r\n\t\t\t\t\treturn res;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tres = await Collector.findOne({\r\n\t\t\t\t\t$and: [ { 'users.email': email }, { 'users.password': password } ]\r\n\t\t\t\t});\r\n\t\t\t\tif (!res) {\r\n\t\t\t\t} else {\r\n\t\t\t\t\tres.users = res.users.filter((x) => x.email === email && x.password === password);\r\n\t\t\t\t\treturn res;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tres = await Provider.findOne({\r\n\t\t\t\t\t$and: [ { 'users.email': email }, { 'users.password': password } ]\r\n\t\t\t\t});\r\n\t\t\t\tif (!res) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tres.users = res.users.filter((x) => x.email === email && x.password === password);\r\n\t\t\t\t\treturn res;\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1567465431556
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\indexCheckPoint.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexCheckPoint.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexCheckPoint.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexCheckPoint.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
        "sourceFileName": "indexCheckPoint.js"
      }
    },
    "ast": null,
    "code": "const checkpoint = require('./checkpoint/Mutation/checkpoint');\n\nmodule.exports = { ...checkpoint\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4Q2hlY2tQb2ludC5qcyJdLCJuYW1lcyI6WyJjaGVja3BvaW50IiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFVBQVUsR0FBR0MsT0FBTyxDQUFDLGtDQUFELENBQTFCOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsRUFDaEIsR0FBR0g7QUFEYSxDQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxccmVjb25zaWRlcmVcXHJlY29uc2lkZXJlLWNvcnBvcmF0aW9uLWFwaVxccmVzb2x2ZXJzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY2hlY2twb2ludCA9IHJlcXVpcmUoJy4vY2hlY2twb2ludC9NdXRhdGlvbi9jaGVja3BvaW50Jyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHQuLi5jaGVja3BvaW50XHJcbn07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "indexCheckPoint.js"
      ],
      "names": [
        "checkpoint",
        "require",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,kCAAD,CAA1B;;AAEAC,MAAM,CAACC,OAAP,GAAiB,EAChB,GAAGH;AADa,CAAjB",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "sourcesContent": [
        "const checkpoint = require('./checkpoint/Mutation/checkpoint');\r\n\r\nmodule.exports = {\r\n\t...checkpoint\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1564087865309
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\checkpoint\\\\Mutation\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\checkpoint\\\\Mutation\\\\checkpoint.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\checkpoint\\Mutation",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\checkpoint\\Mutation\\checkpoint.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\checkpoint\\Mutation\\checkpoint.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\checkpoint\\Mutation\\checkpoint.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\checkpoint\\Mutation",
        "sourceFileName": "checkpoint.js"
      }
    },
    "ast": null,
    "code": "CheckPoint = require('../../../models/checkpoint.model');\nmodule.exports = checkpoint = {\n  Query: {\n    //verificar se não achar o id na criação deve ser do tipo coletor se o id do coletor fizer parte \n    //do check point carregar\n    async allCheckPoint(root, {\n      _idCorporation\n    }) {\n      return await CheckPoint.findOne({\n        _idCorporation: _idCorporation\n      });\n    }\n\n  },\n  Mutation: {}\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrcG9pbnQuanMiXSwibmFtZXMiOlsiQ2hlY2tQb2ludCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiY2hlY2twb2ludCIsIlF1ZXJ5IiwiYWxsQ2hlY2tQb2ludCIsInJvb3QiLCJfaWRDb3Jwb3JhdGlvbiIsImZpbmRPbmUiLCJNdXRhdGlvbiJdLCJtYXBwaW5ncyI6IkFBQUFBLFVBQVUsR0FBR0MsT0FBTyxDQUFDLGtDQUFELENBQXBCO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQkMsVUFBVSxHQUFHO0FBQzdCQyxFQUFBQSxLQUFLLEVBQUU7QUFDTjtBQUNBO0FBQ0EsVUFBTUMsYUFBTixDQUFvQkMsSUFBcEIsRUFBMEI7QUFBRUMsTUFBQUE7QUFBRixLQUExQixFQUE4QztBQUM3QyxhQUFPLE1BQU1SLFVBQVUsQ0FBQ1MsT0FBWCxDQUFtQjtBQUFFRCxRQUFBQSxjQUFjLEVBQUVBO0FBQWxCLE9BQW5CLENBQWI7QUFDQTs7QUFMSyxHQURzQjtBQVE3QkUsRUFBQUEsUUFBUSxFQUFFO0FBUm1CLENBQTlCIiwic291cmNlUm9vdCI6IkM6XFxyZWNvbnNpZGVyZVxccmVjb25zaWRlcmUtY29ycG9yYXRpb24tYXBpXFxyZXNvbHZlcnNcXGNoZWNrcG9pbnRcXE11dGF0aW9uIiwic291cmNlc0NvbnRlbnQiOlsiQ2hlY2tQb2ludCA9IHJlcXVpcmUoJy4uLy4uLy4uL21vZGVscy9jaGVja3BvaW50Lm1vZGVsJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNoZWNrcG9pbnQgPSB7XHJcblx0UXVlcnk6IHtcclxuXHRcdC8vdmVyaWZpY2FyIHNlIG7Do28gYWNoYXIgbyBpZCBuYSBjcmlhw6fDo28gZGV2ZSBzZXIgZG8gdGlwbyBjb2xldG9yIHNlIG8gaWQgZG8gY29sZXRvciBmaXplciBwYXJ0ZSBcclxuXHRcdC8vZG8gY2hlY2sgcG9pbnQgY2FycmVnYXJcclxuXHRcdGFzeW5jIGFsbENoZWNrUG9pbnQocm9vdCwgeyBfaWRDb3Jwb3JhdGlvbiB9KSB7XHJcblx0XHRcdHJldHVybiBhd2FpdCBDaGVja1BvaW50LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkQ29ycG9yYXRpb24gfSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHRNdXRhdGlvbjoge1xyXG5cdH1cclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "checkpoint.js"
      ],
      "names": [
        "CheckPoint",
        "require",
        "module",
        "exports",
        "checkpoint",
        "Query",
        "allCheckPoint",
        "root",
        "_idCorporation",
        "findOne",
        "Mutation"
      ],
      "mappings": "AAAAA,UAAU,GAAGC,OAAO,CAAC,kCAAD,CAApB;AAEAC,MAAM,CAACC,OAAP,GAAiBC,UAAU,GAAG;AAC7BC,EAAAA,KAAK,EAAE;AACN;AACA;AACA,UAAMC,aAAN,CAAoBC,IAApB,EAA0B;AAAEC,MAAAA;AAAF,KAA1B,EAA8C;AAC7C,aAAO,MAAMR,UAAU,CAACS,OAAX,CAAmB;AAAED,QAAAA,cAAc,EAAEA;AAAlB,OAAnB,CAAb;AACA;;AALK,GADsB;AAQ7BE,EAAAA,QAAQ,EAAE;AARmB,CAA9B",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\checkpoint\\Mutation",
      "sourcesContent": [
        "CheckPoint = require('../../../models/checkpoint.model');\r\n\r\nmodule.exports = checkpoint = {\r\n\tQuery: {\r\n\t\t//verificar se não achar o id na criação deve ser do tipo coletor se o id do coletor fizer parte \r\n\t\t//do check point carregar\r\n\t\tasync allCheckPoint(root, { _idCorporation }) {\r\n\t\t\treturn await CheckPoint.findOne({ _idCorporation: _idCorporation });\r\n\t\t}\r\n\t},\r\n\tMutation: {\r\n\t}\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1573057601015
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\indexTransactionHistory.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexTransactionHistory.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexTransactionHistory.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexTransactionHistory.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
        "sourceFileName": "indexTransactionHistory.js"
      }
    },
    "ast": null,
    "code": "const transactionhistory = require('./transactionhistory/Mutation/transactionhistory');\n\nmodule.exports = { ...transactionhistory\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4VHJhbnNhY3Rpb25IaXN0b3J5LmpzIl0sIm5hbWVzIjpbInRyYW5zYWN0aW9uaGlzdG9yeSIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxrQkFBa0IsR0FBR0MsT0FBTyxDQUFDLGtEQUFELENBQWxDOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsRUFDaEIsR0FBR0g7QUFEYSxDQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxccmVjb25zaWRlcmVcXHJlY29uc2lkZXJlLWNvcnBvcmF0aW9uLWFwaVxccmVzb2x2ZXJzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdHJhbnNhY3Rpb25oaXN0b3J5ID0gcmVxdWlyZSgnLi90cmFuc2FjdGlvbmhpc3RvcnkvTXV0YXRpb24vdHJhbnNhY3Rpb25oaXN0b3J5Jyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHQuLi50cmFuc2FjdGlvbmhpc3RvcnlcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "indexTransactionHistory.js"
      ],
      "names": [
        "transactionhistory",
        "require",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,kBAAkB,GAAGC,OAAO,CAAC,kDAAD,CAAlC;;AAEAC,MAAM,CAACC,OAAP,GAAiB,EAChB,GAAGH;AADa,CAAjB",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "sourcesContent": [
        "const transactionhistory = require('./transactionhistory/Mutation/transactionhistory');\r\n\r\nmodule.exports = {\r\n\t...transactionhistory\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1564087234023
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\transactionhistory\\\\Mutation\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\transactionhistory\\\\Mutation\\\\transactionhistory.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\transactionhistory\\Mutation",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\transactionhistory\\Mutation\\transactionhistory.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\transactionhistory\\Mutation\\transactionhistory.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\transactionhistory\\Mutation\\transactionhistory.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\transactionhistory\\Mutation",
        "sourceFileName": "transactionhistory.js"
      }
    },
    "ast": null,
    "code": "TransactionHistory = require('../../../models/transactionhistory.model');\nmodule.exports = transactionhistory = {\n  Query: {\n    async allTransactionHistory(root, {\n      _idCorporation\n    }) {\n      return await TransactionHistory.findOne({\n        _idCorporation: _idCorporation\n      });\n    }\n\n  },\n  Mutation: {}\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zYWN0aW9uaGlzdG9yeS5qcyJdLCJuYW1lcyI6WyJUcmFuc2FjdGlvbkhpc3RvcnkiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInRyYW5zYWN0aW9uaGlzdG9yeSIsIlF1ZXJ5IiwiYWxsVHJhbnNhY3Rpb25IaXN0b3J5Iiwicm9vdCIsIl9pZENvcnBvcmF0aW9uIiwiZmluZE9uZSIsIk11dGF0aW9uIl0sIm1hcHBpbmdzIjoiQUFBQUEsa0JBQWtCLEdBQUdDLE9BQU8sQ0FBQywwQ0FBRCxDQUE1QjtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJDLGtCQUFrQixHQUFHO0FBQ3JDQyxFQUFBQSxLQUFLLEVBQUU7QUFDTixVQUFNQyxxQkFBTixDQUE0QkMsSUFBNUIsRUFBa0M7QUFBRUMsTUFBQUE7QUFBRixLQUFsQyxFQUFzRDtBQUNyRCxhQUFPLE1BQU1SLGtCQUFrQixDQUFDUyxPQUFuQixDQUEyQjtBQUFFRCxRQUFBQSxjQUFjLEVBQUVBO0FBQWxCLE9BQTNCLENBQWI7QUFDQTs7QUFISyxHQUQ4QjtBQU1yQ0UsRUFBQUEsUUFBUSxFQUFFO0FBTjJCLENBQXRDIiwic291cmNlUm9vdCI6IkM6XFxyZWNvbnNpZGVyZVxccmVjb25zaWRlcmUtY29ycG9yYXRpb24tYXBpXFxyZXNvbHZlcnNcXHRyYW5zYWN0aW9uaGlzdG9yeVxcTXV0YXRpb24iLCJzb3VyY2VzQ29udGVudCI6WyJUcmFuc2FjdGlvbkhpc3RvcnkgPSByZXF1aXJlKCcuLi8uLi8uLi9tb2RlbHMvdHJhbnNhY3Rpb25oaXN0b3J5Lm1vZGVsJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHRyYW5zYWN0aW9uaGlzdG9yeSA9IHtcclxuXHRRdWVyeToge1xyXG5cdFx0YXN5bmMgYWxsVHJhbnNhY3Rpb25IaXN0b3J5KHJvb3QsIHsgX2lkQ29ycG9yYXRpb24gfSkge1xyXG5cdFx0XHRyZXR1cm4gYXdhaXQgVHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkQ29ycG9yYXRpb24gfSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHRNdXRhdGlvbjoge1xyXG5cdH1cclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "transactionhistory.js"
      ],
      "names": [
        "TransactionHistory",
        "require",
        "module",
        "exports",
        "transactionhistory",
        "Query",
        "allTransactionHistory",
        "root",
        "_idCorporation",
        "findOne",
        "Mutation"
      ],
      "mappings": "AAAAA,kBAAkB,GAAGC,OAAO,CAAC,0CAAD,CAA5B;AAEAC,MAAM,CAACC,OAAP,GAAiBC,kBAAkB,GAAG;AACrCC,EAAAA,KAAK,EAAE;AACN,UAAMC,qBAAN,CAA4BC,IAA5B,EAAkC;AAAEC,MAAAA;AAAF,KAAlC,EAAsD;AACrD,aAAO,MAAMR,kBAAkB,CAACS,OAAnB,CAA2B;AAAED,QAAAA,cAAc,EAAEA;AAAlB,OAA3B,CAAb;AACA;;AAHK,GAD8B;AAMrCE,EAAAA,QAAQ,EAAE;AAN2B,CAAtC",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\transactionhistory\\Mutation",
      "sourcesContent": [
        "TransactionHistory = require('../../../models/transactionhistory.model');\r\n\r\nmodule.exports = transactionhistory = {\r\n\tQuery: {\r\n\t\tasync allTransactionHistory(root, { _idCorporation }) {\r\n\t\t\treturn await TransactionHistory.findOne({ _idCorporation: _idCorporation });\r\n\t\t}\r\n\t},\r\n\tMutation: {\r\n\t}\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1572650883722
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\indexProvider.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexProvider.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexProvider.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexProvider.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
        "sourceFileName": "indexProvider.js"
      }
    },
    "ast": null,
    "code": "const provider = require('./provider/Mutation/provider');\n\nmodule.exports = { ...provider\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4UHJvdmlkZXIuanMiXSwibmFtZXMiOlsicHJvdmlkZXIiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsOEJBQUQsQ0FBeEI7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixFQUNoQixHQUFHSDtBQURhLENBQWpCIiwic291cmNlUm9vdCI6IkM6XFxyZWNvbnNpZGVyZVxccmVjb25zaWRlcmUtY29ycG9yYXRpb24tYXBpXFxyZXNvbHZlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwcm92aWRlciA9IHJlcXVpcmUoJy4vcHJvdmlkZXIvTXV0YXRpb24vcHJvdmlkZXInKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdC4uLnByb3ZpZGVyXHJcbn07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "indexProvider.js"
      ],
      "names": [
        "provider",
        "require",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,8BAAD,CAAxB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,EAChB,GAAGH;AADa,CAAjB",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "sourcesContent": [
        "const provider = require('./provider/Mutation/provider');\r\n\r\nmodule.exports = {\r\n\t...provider\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1566866247314
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\provider\\\\Mutation\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\provider\\\\Mutation\\\\provider.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\provider\\Mutation",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\provider\\Mutation\\provider.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\provider\\Mutation\\provider.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\provider\\Mutation\\provider.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\provider\\Mutation",
        "sourceFileName": "provider.js"
      }
    },
    "ast": null,
    "code": "var Provider = require('../../../models/provider.model');\n\nvar Corporation = require('../../../models/corporation.model');\n\nvar Collector = require('../../../models/collector.model');\n\nvar CheckPoint = require('../../../models/checkpoint.model');\n\nvar TransactionHistory = require('../../../models/transactionhistory.model');\n\nmongoose = require('mongoose');\nvar Classification = {\n  Provider: 'Fornecedor',\n  Collector: 'Empresa Coletora'\n};\nmodule.exports = provider = {\n  Query: {\n    async getProvider(root, {\n      _id\n    }) {\n      return await Provider.findById(_id);\n    },\n\n    async getProviderByUser(root, {\n      _id\n    }) {\n      var res = await Provider.findOne({\n        'users._id': _id\n      });\n\n      if (!res) {\n        return undefined;\n      } else {\n        return res;\n      }\n    },\n\n    async allProviders() {\n      return await Provider.find();\n    },\n\n    async allUnits(root, {\n      _id\n    }) {\n      var res = await Provider.findById(_id);\n\n      if (res) {\n        var unit;\n        var units = [];\n\n        for (var i = 0; res.units.length > i; i++) {\n          unit = undefined;\n          unit = await Provider.findById(res.units[i]._id);\n\n          if (!unit) {\n            unit = await Corporation.findById(res.units[i]._id);\n          }\n\n          if (!unit) {\n            unit = await Collector.findById(res.units[i]._id);\n          }\n\n          units.push(unit);\n        }\n\n        return units;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allDepartments(root, {\n      _id\n    }) {\n      var res = await Provider.findById(_id);\n\n      if (res) {\n        return res.departments;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allDocuments(root, {\n      _id\n    }) {\n      var res = await Provider.findById(_id);\n\n      if (res) {\n        return res.documents;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allResiduesRegister(root, {\n      _id\n    }) {\n      var res = await Provider.findById(_id);\n\n      if (res) {\n        return res.residuesRegister;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allResidueArrived(root, {\n      _id\n    }) {\n      var res = await Provider.findById(_id);\n\n      if (res) {\n        return res.residuesPerformed;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allSchedulings(root, {\n      _id\n    }) {\n      var res = await Provider.findById(_id);\n\n      if (res) {\n        return res.scheduling;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allEntries(root, {\n      _id\n    }) {\n      var res = await Provider.findById(_id);\n\n      if (res) {\n        return res.entries;\n      } else {\n        return undefined;\n      }\n    },\n\n    async allProvidersId(root, {\n      _id\n    }) {\n      var res = await Provider.findById(_id);\n\n      if (res) {\n        return res.myProviders;\n      } else {\n        return undefined;\n      }\n    }\n\n  },\n  Mutation: {\n    async createorUpdateProvider(root, {\n      _id,\n      typeCorporation,\n      input\n    }) {\n      const session = await mongoose.startSession();\n\n      try {\n        session.startTransaction();\n\n        for (var i = 0; input.length > i; i++) {\n          var res = await Provider.findOne();\n\n          if (res === undefined || res === null) {\n            var id = undefined;\n            var returned = await Provider.create(input[i]).then(x => {\n              id = x._id;\n            });\n            addID(_id, id, typeCorporation);\n          } else if (input[i]._id) {\n            Provider.findByIdAndUpdate(input[i]._id, input[i], {\n              new: true\n            }, (err, todo) => {\n              if (err) throw new Error('ERE009');\n            });\n          } else {\n            var id;\n\n            for (var x = 0; input[i].users.length > x; x++) {\n              var res = await Provider.findOne({\n                email: input[i].users[x].email\n              });\n              id = undefined;\n\n              if (!res) {\n                var returned = await Provider.create(input[i]).then(x => {\n                  id = x._id;\n                });\n                addID(_id, id, typeCorporation);\n              }\n            }\n          }\n        }\n\n        await session.commitTransaction();\n        await session.endSession();\n        console.log('resolved');\n        var res = await Provider.find();\n        return res;\n      } catch (error) {\n        await session.abortTransaction();\n        await session.endSession();\n        console.log(error);\n        console.log('aborting');\n        return new Error('ERE009');\n      }\n    },\n\n    async deleteProvider(root, {\n      _id\n    }) {// return await Provider.findOneAndRemove({\n      // \t_id\n      // });\n    },\n\n    async createorUpdateDepartment(root, {\n      _id,\n      input\n    }) {\n      try {\n        res = await Provider.findById(_id, function (err, corp) {\n          if (err) {\n            return next(new Error('ERE009'));\n          } else {\n            for (var i = 0; input.length > i; i++) {\n              if (input[i]._id) {\n                index = corp.departments.findIndex(x => x._id == input[i]._id);\n\n                if (index) {\n                  corp.departments[index] = input[i];\n                } else if (!corp.departments || corp.departments.length <= 0) {\n                  corp.departments = [input[i]];\n                }\n              } else {\n                if (!corp.departments || corp.departments.length <= 0) {\n                  corp.departments = [input[i]];\n                } else {\n                  corp.departments.push(input[i]);\n                }\n              }\n            }\n\n            corp.save();\n            return;\n          }\n        });\n        var res = await Provider.findById(_id);\n        return res.departments;\n      } catch (error) {\n        throw new Error('ERE009');\n      }\n    },\n\n    async createorUpdateResiduesRegister(root, {\n      _id,\n      input\n    }) {\n      const session = await mongoose.startSession();\n\n      try {\n        session.startTransaction();\n        var res = await Provider.findById(_id);\n        var returnElement;\n\n        if (!res.residuesRegister || !res.residuesRegister.departments || res.residuesRegister.departments.length <= 0) {\n          var elementSaved;\n          returnElement = await new Promise((resolve, reject) => {\n            Provider.findById(_id, function (err, corp) {\n              if (!corp) console.log('ERE009');else {\n                input.departments.forEach(department => {\n                  if (!res.residuesRegister || !res.residuesRegister.departments || res.residuesRegister.departments.length <= 0) {\n                    res['residuesRegister'] = new Object();\n                    var depart = {\n                      _id: department._id,\n                      name: department.name,\n                      isChanged: false,\n                      description: department.description,\n                      active: department.active,\n                      qrCode: []\n                    };\n                    res['residuesRegister']['departments'] = [depart];\n                  } else {\n                    var depart = {\n                      _id: department._id,\n                      name: department.name,\n                      isChanged: false,\n                      description: department.description,\n                      active: department.active,\n                      qrCode: []\n                    };\n                    var exist = res.residuesRegister.departments.find(x => x.name === depart.name);\n\n                    if (!exist) {\n                      res.residuesRegister.departments.push(depart);\n                    }\n                  }\n                });\n                input.departments.forEach(department => {\n                  department.qrCode.forEach(qrCode => {\n                    res.residuesRegister.departments.forEach(departmentDB => {\n                      if (department.name === departmentDB.name) {\n                        departmentDB.qrCode.push(qrCode);\n                      }\n                    });\n                  });\n                });\n                corp.residuesRegister = res.residuesRegister;\n                corp.update(corp).then(x => {\n                  resolve(corp);\n                });\n              }\n            });\n          });\n          /* gerando checkPoint */\n\n          var checkpoint = await CheckPoint.findOne({\n            _idCorporation: _id\n          });\n          var isNew = false;\n          res = await Provider.findById(_id);\n          var checkpoin = await new Promise(async (resolve, reject) => {\n            res.residuesRegister.departments.forEach(department => {\n              department.qrCode.forEach(qrCode => {\n                if (!checkpoint) {\n                  var value = {\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n                  checkpoint = new Object({\n                    _idCorporation: _id,\n                    wastegenerated: new Object({\n                      qrCode: [value]\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n\n                  if (!checkpoint.wastegenerated || checkpoint.wastegenerated.length <= 0) {\n                    checkpoint = new Object({\n                      _idCorporation: _id,\n                      wastegenerated: new Object({\n                        qrCode: [value]\n                      })\n                    });\n                  } else {\n                    checkpoint.wastegenerated.qrCode.push(value);\n                  }\n                }\n              });\n            });\n\n            if (isNew) {\n              var returned = await CheckPoint.create(checkpoint);\n            } else {\n              CheckPoint.findOne(function (err, check) {\n                if (!check) console.log('ERE009');else {\n                  if (!check || check.length <= 0) {\n                    check = check;\n                  } else {\n                    check.wastegenerated = checkpoint.wastegenerated;\n                  }\n\n                  check.update(check).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n          /*Gerando historico */\n\n          var transaction = await TransactionHistory.findOne({\n            _idCorporation: _id\n          });\n          var isNew = false;\n          res = await Provider.findById(_id);\n          var history = await new Promise(async (resolve, reject) => {\n            res.residuesRegister.departments.forEach(department => {\n              department.qrCode.forEach(qrCode => {\n                if (!transaction) {\n                  var value = {\n                    date: new Date(),\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n                  transaction = new Object({\n                    _idCorporation: _id,\n                    checkPoints: new Object({\n                      wastegenerated: new Object({\n                        qrCode: [value]\n                      })\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    date: new Date(),\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n\n                  if (transaction.checkPoints.wastegenerated === undefined || transaction.checkPoints.wastegenerated.length <= 0) {\n                    transaction = new Object({\n                      _idCorporation: _id,\n                      checkPoints: new Object({\n                        wastegenerated: new Object({\n                          qrCode: [value]\n                        })\n                      })\n                    });\n                  } else {\n                    transaction.checkPoints.wastegenerated.qrCode.push(value);\n                  }\n                }\n              });\n            });\n\n            if (isNew) {\n              var returned = await TransactionHistory.create(transaction);\n            } else {\n              TransactionHistory.findOne(function (err, trans) {\n                if (!trans) console.log('ERE009');else {\n                  if (trans === undefined || trans.length <= 0) {\n                    trans = transaction;\n                  } else {\n                    trans.checkPoints.wastegenerated = transaction.checkPoints.wastegenerated;\n                  }\n\n                  trans.update(trans).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n        } else {\n          var removed = false;\n\n          for (i = 0; input.departments.length > i; i++) {\n            if (input.departments[i].isChanged) {\n              var existRemoved = false;\n              /*verifica se existe mudança de departamento e exclui o item que esta salvo no departamento antigo para depois inserir no novo\r\n              Se por acaso o usuário modificou, mas voltou ao antigo ele apenas não exclui e retorn\r\n              */\n\n              for (y = 0; y < input.departments[i].qrCode.length; y++) {\n                res.residuesRegister.departments.forEach((department, index) => {\n                  department.qrCode.forEach((qrCode, indexQrCode) => {\n                    if (input.departments[i]._id !== department._id) {\n                      if (qrCode.code === input.departments[i].qrCode[y].code) {\n                        department.qrCode.splice(indexQrCode, 1);\n                      }\n                    }\n                  });\n                }); //se não tem mais qrcode remove o departamento\n\n                res.residuesRegister.departments.forEach((department, index) => {\n                  if (!department || !department.qrCode || department.qrCode.length <= 0) {\n                    res.residuesRegister.departments.splice(index, 1);\n                  }\n                });\n              }\n\n              input.departments[i].isChanged = false;\n              removed = true;\n            }\n          }\n\n          await res.update(res).then(console.log('ok removed from old'));\n          res = await Provider.findById(_id);\n\n          for (i = 0; input.departments.length > i; i++) {\n            res = await Provider.findById(_id);\n            var exist = await res.residuesRegister.departments.find(x => x._id == input.departments[i]._id);\n\n            if (exist === undefined || exist.length <= 0) {\n              await res.residuesRegister.departments.push(input.departments[i]);\n              await res.update(res).then(console.log('ok push in department'));\n              res = await Provider.findById(_id);\n              /* gerando checkPoint */\n\n              var checkpoint = await CheckPoint.findOne({\n                _idCorporation: _id\n              });\n              var element = await new Promise((resolve, reject) => {\n                res.residuesRegister.departments.forEach(department => {\n                  department.qrCode.forEach(qrCode => {\n                    if (input.departments[i].name === department.name) {\n                      checkpoint.wastegenerated.qrCode.push(qrCode);\n                    }\n                  });\n                });\n                CheckPoint.findOne({\n                  _idCorporation: _id\n                }, function (err, check) {\n                  if (!check) console.log('ERE009');else {\n                    check.wastegenerated = checkpoint.wastegenerated;\n                    check.update(check).then(x => {});\n                  }\n                });\n                resolve();\n              });\n              /* gerando histórico de alterações */\n\n              res = await Provider.findById(_id);\n              var transaction = TransactionHistory.findOne({\n                _idCorporation: _id\n              });\n              var history = await new Promise((resolve, reject) => {\n                res.residuesRegister.departments.forEach(department => {\n                  department.qrCode.forEach(qrCode => {\n                    if (input.departments[i].name === department.name) {\n                      var value = {\n                        date: new Date(),\n                        code: qrCode.code,\n                        material: qrCode.material\n                      };\n                      TransactionHistory.findOne({\n                        _idCorporation: _id\n                      }, function (err, trans) {\n                        if (!trans) console.log('ERE009');else {\n                          trans.checkPoints.wastegenerated.qrCode.push(value);\n                          trans.update(trans).then(x => {});\n                        }\n                      });\n                    }\n                  });\n                });\n                resolve();\n              });\n              res = await Provider.findById(_id);\n            } else {\n              for (q = 0; input.departments[i].qrCode.length > q; q++) {\n                var isUpdated = false;\n                res = await Provider.findById(_id);\n\n                if (input.departments[i].qrCode[q]._id) {\n                  res.residuesRegister.departments.forEach(department => {\n                    department.qrCode.forEach(qrCode => {\n                      if (qrCode.code == input.departments[i].qrCode[q].code) {\n                        qrCode.set(input.departments[i].qrCode[q]);\n                        isUpdated = true;\n                      }\n                    });\n                  });\n\n                  if (isUpdated) {\n                    await res.update(res).then(console.log('ok set qr codes'));\n                    res = await Provider.findById(_id);\n                    isUpdated = false;\n                    /* gerando checkPoint */\n\n                    var checkpoint = await CheckPoint.findOne({\n                      _idCorporation: _id\n                    });\n                    var element = await new Promise((resolve, reject) => {\n                      checkpoint.wastegenerated.qrCode.forEach(qrCode => {\n                        if (qrCode.code == input.departments[i].qrCode[q].code) {\n                          qrCode.set(input.departments[i].qrCode[q]);\n                        }\n                      });\n                      CheckPoint.findOne({\n                        _idCorporation: _id\n                      }, function (err, check) {\n                        if (!check) console.log('ERE009');else {\n                          check.wastegenerated = checkpoint.wastegenerated;\n                          check.update(check).then(x => {\n                            resolve();\n                          });\n                        }\n                      });\n                    });\n                    /* gerando histórico de alterações */\n\n                    var transaction = await TransactionHistory.findOne({\n                      _idCorporation: _id\n                    });\n                    res = await Provider.findById(_id);\n                    var history = await new Promise((resolve, reject) => {\n                      var value = {\n                        date: new Date(),\n                        code: input.departments[i].qrCode[q].code,\n                        material: input.departments[i].qrCode[q].material\n                      };\n                      TransactionHistory.findOne({\n                        _idCorporation: _id\n                      }, function (err, trans) {\n                        if (!trans) console.log('ERE009');else {\n                          trans.checkPoints.wastegenerated.qrCode.push(value);\n                          trans.update(trans).then(x => {});\n                        }\n                      });\n                      resolve();\n                    });\n                    res = await Provider.findById(_id);\n                  }\n                } else {\n                  res.residuesRegister.departments.forEach(department => {\n                    if (input.departments[i]._id == department._id) {\n                      department.qrCode.push(input.departments[i].qrCode[q]);\n                    }\n                  });\n                  await res.update(res).then(console.log('ok push to exist department'));\n                  res = await Provider.findById(_id);\n                  /* gerando checkPoint */\n\n                  var checkpoint = await CheckPoint.findOne({\n                    _idCorporation: _id\n                  });\n                  var isPushed = false;\n                  var element = await new Promise((resolve, reject) => {\n                    checkpoint.wastegenerated.qrCode.forEach((qrCode, index) => {\n                      if (!isPushed) {\n                        checkpoint.wastegenerated.qrCode.push(input.departments[i].qrCode[q]);\n                        isPushed = true;\n                      }\n                    });\n                    CheckPoint.findOne({\n                      _idCorporation: _id\n                    }, function (err, check) {\n                      if (!check) console.log('ERE009');else {\n                        check.wastegenerated = checkpoint.wastegenerated;\n                        check.update(check).then(x => {\n                          resolve();\n                        });\n                      }\n                    });\n                  });\n                  /* gerando histórico de alterações */\n\n                  res = await Provider.findById(_id);\n                  var transaction = await TransactionHistory.findOne({\n                    _idCorporation: _id\n                  });\n                  var history = await new Promise((resolve, reject) => {\n                    var value = {\n                      date: new Date(),\n                      code: input.departments[i].qrCode[q].code,\n                      material: input.departments[i].qrCode[q].material\n                    };\n                    TransactionHistory.findOne({\n                      _idCorporation: _id\n                    }, function (err, trans) {\n                      if (!trans) console.log('ERE009');else {\n                        trans.checkPoints.wastegenerated.qrCode.push(value);\n                        trans.update(trans).then(x => {});\n                        resolve();\n                      }\n                    });\n                  });\n                  res = await Provider.findById(_id);\n                }\n              }\n            }\n          }\n        }\n\n        await session.commitTransaction();\n        await session.endSession();\n        console.log('resolved');\n        var res = await Provider.findById(_id);\n        return res.residuesRegister;\n      } catch (error) {\n        await session.abortTransaction();\n        await session.endSession();\n        console.log(error);\n        console.log('aborting');\n        return new Error('ERE009');\n      }\n    },\n\n    async createorUpdateScheduling(root, {\n      _id,\n      input\n    }) {\n      const session = await mongoose.startSession();\n\n      try {\n        session.startTransaction();\n        var res = await Provider.findById(_id);\n\n        if (!res.scheduling || res.scheduling.length <= 0) {\n          returnElement = await new Promise((resolve, reject) => {\n            Provider.findById(_id, function (err, corp) {\n              if (!corp) console.log('ERE009');else {\n                input.forEach(scheduling => {\n                  if (res.scheduling === undefined || res.scheduling.length <= 0) {\n                    res.scheduling = [scheduling];\n                  } else {\n                    res.scheduling.push(scheduling);\n                  }\n                });\n              }\n              corp.scheduling = res.scheduling;\n              corp.update(corp).then(x => {\n                resolve(corp);\n              });\n            });\n          });\n          /* gerando checkPoint */\n\n          var checkpoint = await CheckPoint.findOne({\n            _idCorporation: _id\n          });\n          res = await Provider.findById(_id);\n          var isNew = false;\n          var checkpoin = await new Promise(async (resolve, reject) => {\n            res.scheduling.forEach(scheduling => {\n              scheduling.qrCode.forEach(qrCode => {\n                if (!checkpoint) {\n                  var value = {\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n                  checkpoint = new Object({\n                    collectionrequested: new Object({\n                      qrCode: [value]\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n\n                  if (!checkpoint.collectionrequested || checkpoint.collectionrequested.length <= 0) {\n                    checkpoint = new Object({\n                      collectionrequested: new Object({\n                        qrCode: [value]\n                      })\n                    });\n                  } else {\n                    checkpoint.collectionrequested.qrCode.push(value);\n                  }\n                }\n              });\n            });\n\n            if (isNew) {\n              var returned = await CheckPoint.create(checkpoint);\n            } else {\n              CheckPoint.findOne({\n                _idCorporation: _id\n              }, function (err, check) {\n                if (!check) console.log('ERE009');else {\n                  if (!check || check.length <= 0) {\n                    check = check;\n                  } else {\n                    check.collectionrequested = checkpoint.collectionrequested;\n                  }\n\n                  check.update(check).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n          /*Gerando historico */\n\n          var transaction = await TransactionHistory.findOne({\n            _idCorporation: _id\n          });\n          res = await Provider.findById(_id);\n          var isNew = false;\n          var history = await new Promise(async (resolve, reject) => {\n            res.scheduling.forEach(scheduling => {\n              scheduling.qrCode.forEach(qrCode => {\n                if (!transaction) {\n                  var value = {\n                    date: new Date(),\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n                  transaction = new Object({\n                    checkPoints: new Object({\n                      collectionrequested: new Object({\n                        qrCode: [value]\n                      })\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    date: new Date(),\n                    code: qrCode.code,\n                    material: qrCode.material\n                  };\n\n                  if (!transaction.checkPoints || !transaction.checkPoints.collectionrequested || transaction.checkPoints.collectionrequested.length <= 0) {\n                    transaction = new Object({\n                      checkPoints: new Object({\n                        collectionrequested: new Object({\n                          qrCode: [value]\n                        })\n                      })\n                    });\n                  } else {\n                    transaction.checkPoints.collectionrequested.qrCode.push(value);\n                  }\n                }\n              });\n            });\n\n            if (isNew) {\n              var returned = await TransactionHistory.create(transaction);\n            } else {\n              TransactionHistory.findOne({\n                _idCorporation: _id\n              }, function (err, trans) {\n                if (!trans) console.log('ERE009');else {\n                  if (!trans || trans.length <= 0) {\n                    trans = transaction;\n                  } else {\n                    trans.checkPoints.collectionrequested = transaction.checkPoints.collectionrequested;\n                  }\n\n                  trans.update(trans).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n        } else {\n          for (var i = 0; input.length > i; i++) {\n            var exist = await res.scheduling.find(x => x._id == input[i]._id);\n\n            if (!exist || exist.length <= 0) {\n              res.scheduling.push(input[i]);\n              await res.update(res).then(console.log('ok push scheduling'));\n            } else {\n              exist.set(input[i]);\n              await res.update(res).then(console.log('ok set scheduling'));\n            }\n\n            res = await Provider.findById(_id);\n            /* gerando checkPoint */\n\n            var checkpoint = await CheckPoint.findOne({\n              _idCorporation: _id\n            });\n            var element = await new Promise((resolve, reject) => {\n              for (var x = 0; input[i].qrCode.length > x; x++) {\n                var existQr = undefined;\n\n                for (y = 0; y < checkpoint.collectionrequested.qrCode.length; y++) {\n                  if (checkpoint.collectionrequested.qrCode[y].code === input[i].qrCode[x].code) {\n                    existQr = checkpoint.collectionrequested.qrCode[y];\n                  }\n                }\n\n                if (existQr) {\n                  existQr.set(input[i].qrCode[x]);\n                } else {\n                  checkpoint.collectionrequested.qrCode.push(input[i].qrCode[x]);\n                }\n              }\n\n              CheckPoint.findOne({\n                _idCorporation: _id\n              }, function (err, check) {\n                if (!check) console.log('ERE009');else {\n                  check.collectionrequested = checkpoint.collectionrequested;\n                  check.update(check).then(x => {\n                    resolve();\n                  });\n                }\n              });\n            });\n            /* gerando histórico de alterações */\n\n            var transaction = await TransactionHistory.findOne({\n              _idCorporation: _id\n            });\n            var element = await new Promise((resolve, reject) => {\n              for (var x = 0; input[i].qrCode.length > x; x++) {\n                transaction.checkPoints.collectionrequested.qrCode.push(input[i].qrCode[x]);\n              }\n\n              TransactionHistory.findOne({\n                _idCorporation: _id\n              }, function (err, trans) {\n                if (!trans) console.log('ERE009');else {\n                  trans.checkPoints.collectionrequested = transaction.checkPoints.collectionrequested;\n                  trans.update(trans).then(x => {\n                    resolve();\n                  });\n                }\n              });\n            });\n            res = await Provider.findById(_id);\n          }\n        }\n\n        await session.commitTransaction();\n        await session.endSession();\n        console.log('resolved');\n        var res = await Provider.findById(_id);\n        return res.scheduling;\n      } catch (error) {\n        await session.abortTransaction();\n        await session.endSession();\n        console.log(error);\n        console.log('aborting');\n        return new Error('ERE009');\n      }\n    },\n\n    async createorUpdateEntries(root, {\n      _id,\n      input\n    }) {\n      const session = await mongoose.startSession();\n\n      try {\n        session.startTransaction();\n        var res = await Provider.findById(_id);\n\n        if (res.entries === undefined || res.entries === null) {\n          returnElement = await new Promise((resolve, reject) => {\n            Provider.findById(_id, function (err, corp) {\n              if (!corp) console.log('ERE009');else {\n                if (res.entries === undefined || res.entries === null) {\n                  res.entries = input;\n                } else {\n                  res.entries = input;\n                }\n              }\n              corp.entries = res.entries;\n              corp.update(corp).then(x => {\n                resolve(corp);\n              });\n            });\n          });\n          /* gerando checkPoint */\n\n          var checkpoint = await CheckPoint.find({\n            _idCorporation: _id\n          });\n          res = await Provider.findById(_id);\n          var isNew = false;\n          var checkpoin = await new Promise(async (resolve, reject) => {\n            if (res.entries.sale && res.entries.sale.length > 0) {\n              res.entries.sale.forEach(sale => {\n                if (!checkpoint || checkpoint.length <= 0) {\n                  var value = {\n                    code: sale.qrCode.code,\n                    material: sale.qrCode.material\n                  };\n                  checkpoint = new Object({\n                    collectionperformed: new Object({\n                      qrCode: [value]\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    code: sale.qrCode.code,\n                    material: sale.qrCode.material\n                  };\n\n                  if (!checkpoint.collectionperformed || checkpoint.collectionperformed.length <= 0) {\n                    checkpoint = new Object({\n                      collectionperformed: new Object({\n                        qrCode: [value]\n                      })\n                    });\n                  } else {\n                    checkpoint.collectionperformed.qrCode.push(value);\n                  }\n                }\n              });\n            } else if (res.entries.purchase && res.entries.purchase.length > 0) {\n              res.entries.purchase.forEach(purchase => {\n                if (!checkpoint || checkpoint.length <= 0) {\n                  var value = {\n                    code: purchase.qrCode.code,\n                    material: purchase.qrCode.material\n                  };\n                  checkpoint = new Object({\n                    collectionperformed: new Object({\n                      qrCode: [value]\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    code: purchase.qrCode.code,\n                    material: purchase.qrCode.material\n                  };\n\n                  if (!checkpoint.collectionperformed || checkpoint.collectionperformed.length <= 0) {\n                    checkpoint = new Object({\n                      collectionperformed: new Object({\n                        qrCode: [value]\n                      })\n                    });\n                  } else {\n                    checkpoint.collectionperformed.qrCode.push(value);\n                  }\n                }\n              });\n            }\n\n            if (isNew) {\n              var returned = await CheckPoint.create(checkpoint);\n            } else {\n              CheckPoint.findOne({\n                _idCorporation: _id\n              }, function (err, check) {\n                if (!check) {\n                  console.log('ERE009');\n                } else {\n                  if (!check || check.length <= 0) {\n                    check = checkpoint;\n                  } else {\n                    check.collectionperformed = checkpoint.collectionperformed;\n                  }\n\n                  check.update(check).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n          /* gerando histórico de alterações */\n\n          var transaction = await TransactionHistory.find({\n            _idCorporation: _id\n          });\n          res = await Provider.findById(_id);\n          var isNew = false;\n          var history = await new Promise(async (resolve, reject) => {\n            if (res.entries.sale && res.entries.sale.length > 0) {\n              res.entries.sale.forEach(sale => {\n                if (transaction === undefined || transaction === null) {\n                  var value = {\n                    date: new Date(),\n                    code: sale.qrCode.code,\n                    material: sale.qrCode.material\n                  };\n                  transaction = new Object({\n                    checkPoints: new Object({\n                      collectionperformed: new Object({\n                        qrCode: [value]\n                      })\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    date: new Date(),\n                    code: sale.qrCode.code,\n                    material: sale.qrCode.material\n                  };\n\n                  if (!transaction.checkPoints || !transaction.checkPoints.collectionperformed || transaction.checkPoints.collectionperformed.length <= 0) {\n                    transaction = new Object({\n                      checkPoints: new Object({\n                        collectionperformed: new Object({\n                          qrCode: [value]\n                        })\n                      })\n                    });\n                  } else {\n                    transaction.checkPoints.collectionperformed.qrCode.push(value);\n                  }\n                }\n              });\n            } else if (res.entries.purchase && res.entries.purchase.length > 0) {\n              res.entries.purchase.forEach(purchase => {\n                if (transaction === undefined || transaction === null) {\n                  var value = {\n                    date: new Date(),\n                    code: purchase.qrCode.code,\n                    material: purchase.qrCode.material\n                  };\n                  transaction = new Object({\n                    checkPoints: new Object({\n                      collectionperformed: new Object({\n                        qrCode: [value]\n                      })\n                    })\n                  });\n                  isNew = true;\n                } else {\n                  var value = {\n                    date: new Date(),\n                    code: purchase.qrCode.code,\n                    material: purchase.qrCode.material\n                  };\n\n                  if (!transaction.checkPoints || !transaction.checkPoints.collectionperformed || transaction.checkPoints.collectionperformed.length <= 0) {\n                    transaction = new Object({\n                      checkPoints: new Object({\n                        collectionperformed: new Object({\n                          qrCode: [value]\n                        })\n                      })\n                    });\n                  } else {\n                    transaction.checkPoints.collectionperformed.qrCode.push(value);\n                  }\n                }\n              });\n            }\n\n            if (isNew) {\n              var returned = await TransactionHistory.create(transaction);\n            } else {\n              TransactionHistory.findOne({\n                _idCorporation: _id\n              }, function (err, trans) {\n                if (!trans) console.log('ERE009');else {\n                  if (trans === undefined || trans === null) {\n                    trans = transaction;\n                  } else {\n                    trans.checkPoints.collectionperformed = transaction.checkPoints.collectionperformed;\n                  }\n\n                  trans.update(trans).then(x => {});\n                }\n              });\n            }\n\n            resolve();\n          });\n        } else {\n          if (input.sale !== undefined || input.sale.length > 0) {\n            for (i = 0; i < input.sale.length; i++) {\n              var exist = await res.entries.sale.find(x => x._id == input.sale[i]._id);\n\n              if (exist) {\n                exist.set(input.sale[i]);\n                await res.update(res).then(console.log('ok set entries sale'));\n              } else {\n                await res.entries.sale.push(input.sale[i]);\n                await res.update(res).then(console.log('ok push entries sale'));\n              }\n\n              res = await Provider.findById(_id);\n              /* gerando checkPoint */\n\n              var checkpoint = await CheckPoint.findOne({\n                _idCorporation: _id\n              });\n              var element = await new Promise((resolve, reject) => {\n                if (input.sale !== undefined && input.sale.length > 0) {\n                  var existQr = undefined;\n\n                  for (y = 0; y < checkpoint.collectionperformed.qrCode.length; y++) {\n                    if (checkpoint.collectionperformed.qrCode[y].code === input.sale[i].qrCode.code) {\n                      existQr = checkpoint.collectionperformed.qrCode[y];\n                    }\n                  }\n\n                  if (existQr) {\n                    existQr.set(input.sale[i].qrCode);\n                  } else {\n                    checkpoint.collectionperformed.qrCode.push(input.sale[i].qrCode);\n                  }\n                }\n\n                CheckPoint.findOne({\n                  _idCorporation: _id\n                }, function (err, check) {\n                  if (!check) console.log('ERE009');else {\n                    check.collectionperformed = checkpoint.collectionperformed;\n                    check.update(check).then(x => {\n                      resolve();\n                    });\n                  }\n                });\n              });\n              /* gerando histórico de alterações */\n\n              res = await Provider.findById(_id);\n              var transaction = await TransactionHistory.findOne({\n                _idCorporation: _id\n              });\n              var element = await new Promise((resolve, reject) => {\n                if (input.sale !== undefined && input.sale.length > 0) {\n                  transaction.checkPoints.collectionperformed.qrCode.push(input.sale[i].qrCode);\n                }\n\n                TransactionHistory.findOne({\n                  _idCorporation: _id\n                }, function (err, trans) {\n                  if (!trans) console.log('ERE009');else {\n                    trans.checkPoints.collectionperformed = transaction.checkPoints.collectionperformed;\n                    trans.update(trans).then(x => {\n                      resolve();\n                    });\n                  }\n                });\n              });\n              res = await Provider.findById(_id);\n            }\n          } else if (input.purchase !== undefined || input.purchase.length > 0) {\n            for (i = 0; i < input.purchase.length; i++) {\n              var exist = await res.entries.purchase.find(x => x._id == input.purchase[i]._id);\n\n              if (exist) {\n                exist.set(input.purchase[i]);\n                await res.update(res).then(console.log('ok set entries purchase'));\n              } else {\n                await res.entries.purchase.push(input.purchase[i]);\n                await res.update(res).then(console.log('ok push entries purchase'));\n              }\n\n              res = await Provider.findById(_id);\n              /* gerando checkPoint */\n\n              var checkpoint = await CheckPoint.findOne({\n                _idCorporation: _id\n              });\n              var element = await new Promise((resolve, reject) => {\n                if (input.purchase !== undefined && input.purchase.length > 0) {\n                  var existQr = undefined;\n\n                  for (y = 0; y < checkpoint.collectionperformed.qrCode.length; y++) {\n                    if (checkpoint.collectionperformed.qrCode[y].code === input.purchase[i].qrCode.code) {\n                      existQr = checkpoint.collectionperformed.qrCode[y];\n                    }\n                  }\n\n                  if (existQr) {\n                    existQr.set(input.purchase[i].qrCode);\n                  } else {\n                    checkpoint.collectionperformed.qrCode.push(input.purchase[i].qrCode);\n                  }\n                }\n\n                CheckPoint.findOne({\n                  _idCorporation: _id\n                }, function (err, check) {\n                  if (!check) console.log('ERE009');else {\n                    check.collectionperformed = checkpoint.collectionperformed;\n                    check.update(check).then(x => {\n                      resolve();\n                    });\n                  }\n                });\n              });\n              /* gerando histórico de alterações */\n\n              res = await Provider.findById(_id);\n              var transaction = await TransactionHistory.findOne();\n              var element = await new Promise((resolve, reject) => {\n                if (input.purchase !== undefined && input.purchase.length > 0) {\n                  transaction.checkPoints.collectionperformed.qrCode.push(input.purchase[i].qrCode);\n                }\n\n                TransactionHistory.findOne({\n                  _idCorporation: _id\n                }, function (err, trans) {\n                  if (!trans) console.log('ERE009');else {\n                    trans.checkPoints.collectionperformed = transaction.checkPoints.collectionperformed;\n                    trans.update(trans).then(x => {\n                      resolve();\n                    });\n                  }\n                });\n              });\n              res = await Provider.findById(_id);\n            }\n          }\n        }\n\n        await session.commitTransaction();\n        await session.endSession();\n        console.log('resolved');\n        var res = await Provider.findById(_id);\n        return res.entries;\n      } catch (error) {\n        await session.abortTransaction();\n        await session.endSession();\n        console.log(error);\n        console.log('aborting');\n        return new Error('ERE009');\n      }\n    },\n\n    async createorUpdateResidueArrived(root, {\n      _id,\n      input\n    }) {},\n\n    async createorUpdateDocument(root, {\n      _id,\n      input\n    }) {\n      try {\n        var element = await new Promise((resolve, reject) => {\n          var res = Provider.findById(_id, function (err, corp) {\n            if (err) {\n              reject(next(new Error('ERE009')));\n            } else {\n              for (var i = 0; input.length > i; i++) {\n                if (input[i]._id) {\n                  index = corp.documents.findIndex(x => x._id == input[i]._id);\n                  corp.documents[index] = input[i];\n                } else {\n                  corp.documents.push(input[i]);\n                }\n              }\n\n              corp.save();\n              resolve(corp);\n            }\n          });\n        });\n        var res = await Provider.findById(_id);\n        return res.documents;\n      } catch (error) {\n        throw new Error('ERE009');\n      }\n    }\n\n  }\n};\n/*Salvando os ids 'novos apenas' dos fornecedores criados para que a empresa que os criaram possam \r\n  carregarseus dados futuramente, esta em aberto para que fornecedores cadastrem seus fornecedores tbm \r\n  */\n\nasync function addID(_id, id, typeCorporation) {\n  var object = {\n    providerId: id\n  };\n\n  if (typeCorporation === Classification.Collector) {\n    var collector = await Collector.findById(_id);\n\n    if (collector.myProviders === undefined || collector.myProviders.length <= 0) {\n      collector['myProviders'] = [object];\n    } else {\n      collector.myProviders.push(object);\n    }\n\n    Collector.findOne(_id, function (err, coll) {\n      if (!coll) console.log('ERE009');else {\n        coll.myProviders = collector.myProviders;\n        coll.update(coll).then(x => {});\n      }\n    });\n  } else if (typeCorporation === Classification.Provider) {\n    var provider = await Provider.findById(_id);\n\n    if (provider.myProviders === undefined || provider.myProviders.length <= 0) {\n      provider['myProviders'] = [object];\n    } else {\n      provider.myProviders.push(object);\n    }\n\n    Provider.findOne(_id, function (err, prov) {\n      if (!prov) console.log('ERE009');else {\n        prov.myProviders = provider.myProviders;\n        prov.update(prov).then(x => {});\n      }\n    });\n  } else {\n    var corporation = await Corporation.findById(_id);\n\n    if (corporation.myProviders === undefined || corporation.myProviders.length <= 0) {\n      corporation['myProviders'] = [object];\n    } else {\n      corporation.myProviders.push(object);\n    }\n\n    await Corporation.findById(_id, function (err, corp) {\n      if (!corp) console.log('ERE009');else {\n        corp.myProviders = corporation.myProviders;\n        corp.update(corp).then(x => {});\n      }\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3ZpZGVyLmpzIl0sIm5hbWVzIjpbIlByb3ZpZGVyIiwicmVxdWlyZSIsIkNvcnBvcmF0aW9uIiwiQ29sbGVjdG9yIiwiQ2hlY2tQb2ludCIsIlRyYW5zYWN0aW9uSGlzdG9yeSIsIm1vbmdvb3NlIiwiQ2xhc3NpZmljYXRpb24iLCJtb2R1bGUiLCJleHBvcnRzIiwicHJvdmlkZXIiLCJRdWVyeSIsImdldFByb3ZpZGVyIiwicm9vdCIsIl9pZCIsImZpbmRCeUlkIiwiZ2V0UHJvdmlkZXJCeVVzZXIiLCJyZXMiLCJmaW5kT25lIiwidW5kZWZpbmVkIiwiYWxsUHJvdmlkZXJzIiwiZmluZCIsImFsbFVuaXRzIiwidW5pdCIsInVuaXRzIiwiaSIsImxlbmd0aCIsInB1c2giLCJhbGxEZXBhcnRtZW50cyIsImRlcGFydG1lbnRzIiwiYWxsRG9jdW1lbnRzIiwiZG9jdW1lbnRzIiwiYWxsUmVzaWR1ZXNSZWdpc3RlciIsInJlc2lkdWVzUmVnaXN0ZXIiLCJhbGxSZXNpZHVlQXJyaXZlZCIsInJlc2lkdWVzUGVyZm9ybWVkIiwiYWxsU2NoZWR1bGluZ3MiLCJzY2hlZHVsaW5nIiwiYWxsRW50cmllcyIsImVudHJpZXMiLCJhbGxQcm92aWRlcnNJZCIsIm15UHJvdmlkZXJzIiwiTXV0YXRpb24iLCJjcmVhdGVvclVwZGF0ZVByb3ZpZGVyIiwidHlwZUNvcnBvcmF0aW9uIiwiaW5wdXQiLCJzZXNzaW9uIiwic3RhcnRTZXNzaW9uIiwic3RhcnRUcmFuc2FjdGlvbiIsImlkIiwicmV0dXJuZWQiLCJjcmVhdGUiLCJ0aGVuIiwieCIsImFkZElEIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciLCJlcnIiLCJ0b2RvIiwiRXJyb3IiLCJ1c2VycyIsImVtYWlsIiwiY29tbWl0VHJhbnNhY3Rpb24iLCJlbmRTZXNzaW9uIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiYWJvcnRUcmFuc2FjdGlvbiIsImRlbGV0ZVByb3ZpZGVyIiwiY3JlYXRlb3JVcGRhdGVEZXBhcnRtZW50IiwiY29ycCIsIm5leHQiLCJpbmRleCIsImZpbmRJbmRleCIsInNhdmUiLCJjcmVhdGVvclVwZGF0ZVJlc2lkdWVzUmVnaXN0ZXIiLCJyZXR1cm5FbGVtZW50IiwiZWxlbWVudFNhdmVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmb3JFYWNoIiwiZGVwYXJ0bWVudCIsIk9iamVjdCIsImRlcGFydCIsIm5hbWUiLCJpc0NoYW5nZWQiLCJkZXNjcmlwdGlvbiIsImFjdGl2ZSIsInFyQ29kZSIsImV4aXN0IiwiZGVwYXJ0bWVudERCIiwidXBkYXRlIiwiY2hlY2twb2ludCIsIl9pZENvcnBvcmF0aW9uIiwiaXNOZXciLCJjaGVja3BvaW4iLCJ2YWx1ZSIsImNvZGUiLCJtYXRlcmlhbCIsIndhc3RlZ2VuZXJhdGVkIiwiY2hlY2siLCJ0cmFuc2FjdGlvbiIsImhpc3RvcnkiLCJkYXRlIiwiRGF0ZSIsImNoZWNrUG9pbnRzIiwidHJhbnMiLCJyZW1vdmVkIiwiZXhpc3RSZW1vdmVkIiwieSIsImluZGV4UXJDb2RlIiwic3BsaWNlIiwiZWxlbWVudCIsInEiLCJpc1VwZGF0ZWQiLCJzZXQiLCJpc1B1c2hlZCIsImNyZWF0ZW9yVXBkYXRlU2NoZWR1bGluZyIsImNvbGxlY3Rpb25yZXF1ZXN0ZWQiLCJleGlzdFFyIiwiY3JlYXRlb3JVcGRhdGVFbnRyaWVzIiwic2FsZSIsImNvbGxlY3Rpb25wZXJmb3JtZWQiLCJwdXJjaGFzZSIsImNyZWF0ZW9yVXBkYXRlUmVzaWR1ZUFycml2ZWQiLCJjcmVhdGVvclVwZGF0ZURvY3VtZW50Iiwib2JqZWN0IiwicHJvdmlkZXJJZCIsImNvbGxlY3RvciIsImNvbGwiLCJwcm92IiwiY29ycG9yYXRpb24iXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLFFBQVEsR0FBR0MsT0FBTyxDQUFDLGdDQUFELENBQXRCOztBQUNBLElBQUlDLFdBQVcsR0FBR0QsT0FBTyxDQUFDLG1DQUFELENBQXpCOztBQUNBLElBQUlFLFNBQVMsR0FBR0YsT0FBTyxDQUFDLGlDQUFE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RCxHQUFyQixFQUEwQixVQUFTMkMsR0FBVCxFQUFjYSxJQUFkLEVBQW9CO0FBQ25ELFVBQUksQ0FBQ0EsSUFBTCxFQUFXTixPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQVgsS0FDSztBQUNKSyxRQUFBQSxJQUFJLENBQUM3QixXQUFMLEdBQW1CMkYsV0FBVyxDQUFDM0YsV0FBL0I7QUFDQTZCLFFBQUFBLElBQUksQ0FBQ3NCLE1BQUwsQ0FBWXRCLElBQVosRUFBa0JsQixJQUFsQixDQUF3QkMsQ0FBRCxJQUFPLENBQUUsQ0FBaEM7QUFDQTtBQUNELEtBTkssQ0FBTjtBQU9BO0FBQ0QiLCJzb3VyY2VSb290IjoiQzpcXHJlY29uc2lkZXJlXFxyZWNvbnNpZGVyZS1jb3Jwb3JhdGlvbi1hcGlcXHJlc29sdmVyc1xccHJvdmlkZXJcXE11dGF0aW9uIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFByb3ZpZGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vbW9kZWxzL3Byb3ZpZGVyLm1vZGVsJyk7XHJcbnZhciBDb3Jwb3JhdGlvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL21vZGVscy9jb3Jwb3JhdGlvbi5tb2RlbCcpO1xyXG52YXIgQ29sbGVjdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vbW9kZWxzL2NvbGxlY3Rvci5tb2RlbCcpO1xyXG52YXIgQ2hlY2tQb2ludCA9IHJlcXVpcmUoJy4uLy4uLy4uL21vZGVscy9jaGVja3BvaW50Lm1vZGVsJyk7XHJcbnZhciBUcmFuc2FjdGlvbkhpc3RvcnkgPSByZXF1aXJlKCcuLi8uLi8uLi9tb2RlbHMvdHJhbnNhY3Rpb25oaXN0b3J5Lm1vZGVsJyk7XHJcbm1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbnZhciBDbGFzc2lmaWNhdGlvbiA9IHtcclxuXHRQcm92aWRlcjogJ0Zvcm5lY2Vkb3InLFxyXG5cdENvbGxlY3RvcjogJ0VtcHJlc2EgQ29sZXRvcmEnXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHByb3ZpZGVyID0ge1xyXG5cdFF1ZXJ5OiB7XHJcblx0XHRhc3luYyBnZXRQcm92aWRlcihyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHJldHVybiBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0fSxcclxuXHRcdGFzeW5jIGdldFByb3ZpZGVyQnlVc2VyKHJvb3QsIHsgX2lkIH0pIHtcclxuXHRcdFx0dmFyIHJlcyA9IGF3YWl0IFByb3ZpZGVyLmZpbmRPbmUoeyAndXNlcnMuX2lkJzogX2lkIH0pO1xyXG5cdFx0XHRpZiAoIXJlcykge1xyXG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcztcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGFzeW5jIGFsbFByb3ZpZGVycygpIHtcclxuXHRcdFx0cmV0dXJuIGF3YWl0IFByb3ZpZGVyLmZpbmQoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0YXN5bmMgYWxsVW5pdHMocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHR2YXIgcmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0aWYgKHJlcykge1xyXG5cdFx0XHRcdHZhciB1bml0O1xyXG5cdFx0XHRcdHZhciB1bml0cyA9IFtdO1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyByZXMudW5pdHMubGVuZ3RoID4gaTsgaSsrKSB7XHJcblx0XHRcdFx0XHR1bml0ID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0dW5pdCA9IGF3YWl0IFByb3ZpZGVyLmZpbmRCeUlkKHJlcy51bml0c1tpXS5faWQpO1xyXG5cdFx0XHRcdFx0aWYgKCF1bml0KSB7XHJcblx0XHRcdFx0XHRcdHVuaXQgPSBhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChyZXMudW5pdHNbaV0uX2lkKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICghdW5pdCkge1xyXG5cdFx0XHRcdFx0XHR1bml0ID0gYXdhaXQgQ29sbGVjdG9yLmZpbmRCeUlkKHJlcy51bml0c1tpXS5faWQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHVuaXRzLnB1c2godW5pdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB1bml0cztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0YXN5bmMgYWxsRGVwYXJ0bWVudHMocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHR2YXIgcmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0aWYgKHJlcykge1xyXG5cdFx0XHRcdHJldHVybiByZXMuZGVwYXJ0bWVudHM7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRhc3luYyBhbGxEb2N1bWVudHMocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHR2YXIgcmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0aWYgKHJlcykge1xyXG5cdFx0XHRcdHJldHVybiByZXMuZG9jdW1lbnRzO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0YXN5bmMgYWxsUmVzaWR1ZXNSZWdpc3Rlcihyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRpZiAocmVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5yZXNpZHVlc1JlZ2lzdGVyO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRhc3luYyBhbGxSZXNpZHVlQXJyaXZlZChyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRpZiAocmVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5yZXNpZHVlc1BlcmZvcm1lZDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0YXN5bmMgYWxsU2NoZWR1bGluZ3Mocm9vdCwgeyBfaWQgfSkge1xyXG5cdFx0XHR2YXIgcmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0aWYgKHJlcykge1xyXG5cdFx0XHRcdHJldHVybiByZXMuc2NoZWR1bGluZztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0YXN5bmMgYWxsRW50cmllcyhyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRpZiAocmVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5lbnRyaWVzO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRhc3luYyBhbGxQcm92aWRlcnNJZChyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdHZhciByZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRpZiAocmVzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5teVByb3ZpZGVycztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHRNdXRhdGlvbjoge1xyXG5cdFx0YXN5bmMgY3JlYXRlb3JVcGRhdGVQcm92aWRlcihyb290LCB7IF9pZCwgdHlwZUNvcnBvcmF0aW9uLCBpbnB1dCB9KSB7XHJcblx0XHRcdGNvbnN0IHNlc3Npb24gPSBhd2FpdCBtb25nb29zZS5zdGFydFNlc3Npb24oKTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRzZXNzaW9uLnN0YXJ0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaW5wdXQubGVuZ3RoID4gaTsgaSsrKSB7XHJcblx0XHRcdFx0XHR2YXIgcmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZE9uZSgpO1xyXG5cdFx0XHRcdFx0aWYgKHJlcyA9PT0gdW5kZWZpbmVkIHx8IHJlcyA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgaWQgPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGF3YWl0IFByb3ZpZGVyLmNyZWF0ZShpbnB1dFtpXSkudGhlbigoeCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlkID0geC5faWQ7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRhZGRJRChfaWQsIGlkLCB0eXBlQ29ycG9yYXRpb24pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpbnB1dFtpXS5faWQpIHtcclxuXHRcdFx0XHRcdFx0UHJvdmlkZXIuZmluZEJ5SWRBbmRVcGRhdGUoaW5wdXRbaV0uX2lkLCBpbnB1dFtpXSwgeyBuZXc6IHRydWUgfSwgKGVyciwgdG9kbykgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChlcnIpIHRocm93IG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dmFyIGlkO1xyXG5cdFx0XHRcdFx0XHRmb3IgKHZhciB4ID0gMDsgaW5wdXRbaV0udXNlcnMubGVuZ3RoID4geDsgeCsrKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHJlcyA9IGF3YWl0IFByb3ZpZGVyLmZpbmRPbmUoeyBlbWFpbDogaW5wdXRbaV0udXNlcnNbeF0uZW1haWwgfSk7XHJcblx0XHRcdFx0XHRcdFx0aWQgPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCFyZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGF3YWl0IFByb3ZpZGVyLmNyZWF0ZShpbnB1dFtpXSkudGhlbigoeCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZCA9IHguX2lkO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRhZGRJRChfaWQsIGlkLCB0eXBlQ29ycG9yYXRpb24pO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YXdhaXQgc2Vzc2lvbi5jb21taXRUcmFuc2FjdGlvbigpO1xyXG5cdFx0XHRcdGF3YWl0IHNlc3Npb24uZW5kU2Vzc2lvbigpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdyZXNvbHZlZCcpO1xyXG5cdFx0XHRcdHZhciByZXMgPSBhd2FpdCBQcm92aWRlci5maW5kKCk7XHJcblx0XHRcdFx0cmV0dXJuIHJlcztcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmFib3J0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Fib3J0aW5nJyk7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRhc3luYyBkZWxldGVQcm92aWRlcihyb290LCB7IF9pZCB9KSB7XHJcblx0XHRcdC8vIHJldHVybiBhd2FpdCBQcm92aWRlci5maW5kT25lQW5kUmVtb3ZlKHtcclxuXHRcdFx0Ly8gXHRfaWRcclxuXHRcdFx0Ly8gfSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdGFzeW5jIGNyZWF0ZW9yVXBkYXRlRGVwYXJ0bWVudChyb290LCB7IF9pZCwgaW5wdXQgfSkge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHJlcyA9IGF3YWl0IFByb3ZpZGVyLmZpbmRCeUlkKF9pZCwgZnVuY3Rpb24oZXJyLCBjb3JwKSB7XHJcblx0XHRcdFx0XHRpZiAoZXJyKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBuZXh0KG5ldyBFcnJvcignRVJFMDA5JykpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGlucHV0Lmxlbmd0aCA+IGk7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChpbnB1dFtpXS5faWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gY29ycC5kZXBhcnRtZW50cy5maW5kSW5kZXgoKHgpID0+IHguX2lkID09IGlucHV0W2ldLl9pZCk7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5kZXgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29ycC5kZXBhcnRtZW50c1tpbmRleF0gPSBpbnB1dFtpXTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIWNvcnAuZGVwYXJ0bWVudHMgfHwgY29ycC5kZXBhcnRtZW50cy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb3JwLmRlcGFydG1lbnRzID0gWyBpbnB1dFtpXSBdO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNvcnAuZGVwYXJ0bWVudHMgfHwgY29ycC5kZXBhcnRtZW50cy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb3JwLmRlcGFydG1lbnRzID0gWyBpbnB1dFtpXSBdO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29ycC5kZXBhcnRtZW50cy5wdXNoKGlucHV0W2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Y29ycC5zYXZlKCk7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0dmFyIHJlcyA9IGF3YWl0IFByb3ZpZGVyLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kZXBhcnRtZW50cztcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0VSRTAwOScpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdGFzeW5jIGNyZWF0ZW9yVXBkYXRlUmVzaWR1ZXNSZWdpc3Rlcihyb290LCB7IF9pZCwgaW5wdXQgfSkge1xyXG5cdFx0XHRjb25zdCBzZXNzaW9uID0gYXdhaXQgbW9uZ29vc2Uuc3RhcnRTZXNzaW9uKCk7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0c2Vzc2lvbi5zdGFydFRyYW5zYWN0aW9uKCk7XHJcblx0XHRcdFx0dmFyIHJlcyA9IGF3YWl0IFByb3ZpZGVyLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0dmFyIHJldHVybkVsZW1lbnQ7XHJcblx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0IXJlcy5yZXNpZHVlc1JlZ2lzdGVyIHx8XHJcblx0XHRcdFx0XHQhcmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMgfHxcclxuXHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmxlbmd0aCA8PSAwXHJcblx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHR2YXIgZWxlbWVudFNhdmVkO1xyXG5cdFx0XHRcdFx0cmV0dXJuRWxlbWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0UHJvdmlkZXIuZmluZEJ5SWQoX2lkLCBmdW5jdGlvbihlcnIsIGNvcnApIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIWNvcnApIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlucHV0LmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCFyZXMucmVzaWR1ZXNSZWdpc3RlciB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCFyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cyB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmxlbmd0aCA8PSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlc1sncmVzaWR1ZXNSZWdpc3RlciddID0gbmV3IE9iamVjdCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBkZXBhcnQgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRfaWQ6IGRlcGFydG1lbnQuX2lkLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmFtZTogZGVwYXJ0bWVudC5uYW1lLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aXNDaGFuZ2VkOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBkZXBhcnRtZW50LmRlc2NyaXB0aW9uLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlOiBkZXBhcnRtZW50LmFjdGl2ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogW11cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlc1sncmVzaWR1ZXNSZWdpc3RlciddWydkZXBhcnRtZW50cyddID0gWyBkZXBhcnQgXTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgZGVwYXJ0ID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0X2lkOiBkZXBhcnRtZW50Ll9pZCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5hbWU6IGRlcGFydG1lbnQubmFtZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlzQ2hhbmdlZDogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjogZGVwYXJ0bWVudC5kZXNjcmlwdGlvbixcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZTogZGVwYXJ0bWVudC5hY3RpdmUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFtdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgZXhpc3QgPSByZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5maW5kKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KHgpID0+IHgubmFtZSA9PT0gZGVwYXJ0Lm5hbWVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghZXhpc3QpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLnB1c2goZGVwYXJ0KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGlucHV0LmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVwYXJ0bWVudC5xckNvZGUuZm9yRWFjaCgocXJDb2RlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMuZm9yRWFjaCgoZGVwYXJ0bWVudERCKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoZGVwYXJ0bWVudC5uYW1lID09PSBkZXBhcnRtZW50REIubmFtZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXBhcnRtZW50REIucXJDb2RlLnB1c2gocXJDb2RlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRjb3JwLnJlc2lkdWVzUmVnaXN0ZXIgPSByZXMucmVzaWR1ZXNSZWdpc3RlcjtcclxuXHRcdFx0XHRcdFx0XHRcdGNvcnAudXBkYXRlKGNvcnApLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZShjb3JwKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvKiBnZXJhbmRvIGNoZWNrUG9pbnQgKi9cclxuXHRcdFx0XHRcdHZhciBjaGVja3BvaW50ID0gYXdhaXQgQ2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdHZhciBpc05ldyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdHZhciBjaGVja3BvaW4gPSBhd2FpdCBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRkZXBhcnRtZW50LnFyQ29kZS5mb3JFYWNoKChxckNvZGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2twb2ludCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludCA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdF9pZENvcnBvcmF0aW9uOiBfaWQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2FzdGVnZW5lcmF0ZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBxckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZCB8fCBjaGVja3BvaW50Lndhc3RlZ2VuZXJhdGVkLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludCA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0X2lkQ29ycG9yYXRpb246IF9pZCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdhc3RlZ2VuZXJhdGVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZC5xckNvZGUucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdGlmIChpc05ldykge1xyXG5cdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGF3YWl0IENoZWNrUG9pbnQuY3JlYXRlKGNoZWNrcG9pbnQpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZShmdW5jdGlvbihlcnIsIGNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVjayB8fCBjaGVjay5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrID0gY2hlY2s7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sud2FzdGVnZW5lcmF0ZWQgPSBjaGVja3BvaW50Lndhc3RlZ2VuZXJhdGVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLnVwZGF0ZShjaGVjaykudGhlbigoeCkgPT4ge30pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8qR2VyYW5kbyBoaXN0b3JpY28gKi9cclxuXHRcdFx0XHRcdHZhciB0cmFuc2FjdGlvbiA9IGF3YWl0IFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdHZhciBpc05ldyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdHZhciBoaXN0b3J5ID0gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5mb3JFYWNoKChkZXBhcnRtZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0ZGVwYXJ0bWVudC5xckNvZGUuZm9yRWFjaCgocXJDb2RlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zYWN0aW9uKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBxckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0X2lkQ29ycG9yYXRpb246IF9pZCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja1BvaW50czogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3YXN0ZWdlbmVyYXRlZDogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpc05ldyA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBxckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogcXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMud2FzdGVnZW5lcmF0ZWQgPT09IHVuZGVmaW5lZCB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLndhc3RlZ2VuZXJhdGVkLmxlbmd0aCA8PSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRfaWRDb3Jwb3JhdGlvbjogX2lkLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tQb2ludHM6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3YXN0ZWdlbmVyYXRlZDogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMud2FzdGVnZW5lcmF0ZWQucXJDb2RlLnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNOZXcpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuY3JlYXRlKHRyYW5zYWN0aW9uKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZShmdW5jdGlvbihlcnIsIHRyYW5zKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRyYW5zID09PSB1bmRlZmluZWQgfHwgdHJhbnMubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucyA9IHRyYW5zYWN0aW9uO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLndhc3RlZ2VuZXJhdGVkID0gdHJhbnNhY3Rpb24uY2hlY2tQb2ludHMud2FzdGVnZW5lcmF0ZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMudXBkYXRlKHRyYW5zKS50aGVuKCh4KSA9PiB7fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHZhciByZW1vdmVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpbnB1dC5kZXBhcnRtZW50cy5sZW5ndGggPiBpOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0aWYgKGlucHV0LmRlcGFydG1lbnRzW2ldLmlzQ2hhbmdlZCkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBleGlzdFJlbW92ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHQvKnZlcmlmaWNhIHNlIGV4aXN0ZSBtdWRhbsOnYSBkZSBkZXBhcnRhbWVudG8gZSBleGNsdWkgbyBpdGVtIHF1ZSBlc3RhIHNhbHZvIG5vIGRlcGFydGFtZW50byBhbnRpZ28gcGFyYSBkZXBvaXMgaW5zZXJpciBubyBub3ZvXHJcblx0XHRcdFx0XHRcdFNlIHBvciBhY2FzbyBvIHVzdcOhcmlvIG1vZGlmaWNvdSwgbWFzIHZvbHRvdSBhbyBhbnRpZ28gZWxlIGFwZW5hcyBuw6NvIGV4Y2x1aSBlIHJldG9yblxyXG5cdFx0XHRcdFx0XHQqL1xyXG5cdFx0XHRcdFx0XHRcdGZvciAoeSA9IDA7IHkgPCBpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGUubGVuZ3RoOyB5KyspIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQsIGluZGV4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGRlcGFydG1lbnQucXJDb2RlLmZvckVhY2goKHFyQ29kZSwgaW5kZXhRckNvZGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoaW5wdXQuZGVwYXJ0bWVudHNbaV0uX2lkICE9PSBkZXBhcnRtZW50Ll9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHFyQ29kZS5jb2RlID09PSBpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbeV0uY29kZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXBhcnRtZW50LnFyQ29kZS5zcGxpY2UoaW5kZXhRckNvZGUsIDEpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdC8vc2UgbsOjbyB0ZW0gbWFpcyBxcmNvZGUgcmVtb3ZlIG8gZGVwYXJ0YW1lbnRvXHJcblx0XHRcdFx0XHRcdFx0XHRyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5mb3JFYWNoKChkZXBhcnRtZW50LCBpbmRleCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWRlcGFydG1lbnQgfHwgIWRlcGFydG1lbnQucXJDb2RlIHx8IGRlcGFydG1lbnQucXJDb2RlLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGlucHV0LmRlcGFydG1lbnRzW2ldLmlzQ2hhbmdlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdHJlbW92ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0YXdhaXQgcmVzLnVwZGF0ZShyZXMpLnRoZW4oY29uc29sZS5sb2coJ29rIHJlbW92ZWQgZnJvbSBvbGQnKSk7XHJcblx0XHRcdFx0XHRyZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRcdGZvciAoaSA9IDA7IGlucHV0LmRlcGFydG1lbnRzLmxlbmd0aCA+IGk7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0XHR2YXIgZXhpc3QgPSBhd2FpdCByZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5maW5kKFxyXG5cdFx0XHRcdFx0XHRcdCh4KSA9PiB4Ll9pZCA9PSBpbnB1dC5kZXBhcnRtZW50c1tpXS5faWRcclxuXHRcdFx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChleGlzdCA9PT0gdW5kZWZpbmVkIHx8IGV4aXN0Lmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgcmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMucHVzaChpbnB1dC5kZXBhcnRtZW50c1tpXSk7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgcmVzLnVwZGF0ZShyZXMpLnRoZW4oY29uc29sZS5sb2coJ29rIHB1c2ggaW4gZGVwYXJ0bWVudCcpKTtcclxuXHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGNoZWNrUG9pbnQgKi9cclxuXHRcdFx0XHRcdFx0XHR2YXIgY2hlY2twb2ludCA9IGF3YWl0IENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5mb3JFYWNoKChkZXBhcnRtZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGRlcGFydG1lbnQucXJDb2RlLmZvckVhY2goKHFyQ29kZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5kZXBhcnRtZW50c1tpXS5uYW1lID09PSBkZXBhcnRtZW50Lm5hbWUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQud2FzdGVnZW5lcmF0ZWQucXJDb2RlLnB1c2gocXJDb2RlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRDaGVja1BvaW50LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0sIGZ1bmN0aW9uKGVyciwgY2hlY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVjaykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay53YXN0ZWdlbmVyYXRlZCA9IGNoZWNrcG9pbnQud2FzdGVnZW5lcmF0ZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sudXBkYXRlKGNoZWNrKS50aGVuKCh4KSA9PiB7fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGhpc3TDs3JpY28gZGUgYWx0ZXJhw6fDtWVzICovXHJcblx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGhpc3RvcnkgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXMucmVzaWR1ZXNSZWdpc3Rlci5kZXBhcnRtZW50cy5mb3JFYWNoKChkZXBhcnRtZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGRlcGFydG1lbnQucXJDb2RlLmZvckVhY2goKHFyQ29kZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5kZXBhcnRtZW50c1tpXS5uYW1lID09PSBkZXBhcnRtZW50Lm5hbWUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBxckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCB0cmFucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLndhc3RlZ2VuZXJhdGVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucy51cGRhdGUodHJhbnMpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IFByb3ZpZGVyLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0Zm9yIChxID0gMDsgaW5wdXQuZGVwYXJ0bWVudHNbaV0ucXJDb2RlLmxlbmd0aCA+IHE7IHErKykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIGlzVXBkYXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0uX2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJlcy5yZXNpZHVlc1JlZ2lzdGVyLmRlcGFydG1lbnRzLmZvckVhY2goKGRlcGFydG1lbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkZXBhcnRtZW50LnFyQ29kZS5mb3JFYWNoKChxckNvZGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChxckNvZGUuY29kZSA9PSBpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0uY29kZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGUuc2V0KGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZVtxXSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlzVXBkYXRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoaXNVcGRhdGVkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgcmVzLnVwZGF0ZShyZXMpLnRoZW4oY29uc29sZS5sb2coJ29rIHNldCBxciBjb2RlcycpKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlzVXBkYXRlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGNoZWNrUG9pbnQgKi9cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgY2hlY2twb2ludCA9IGF3YWl0IENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50Lndhc3RlZ2VuZXJhdGVkLnFyQ29kZS5mb3JFYWNoKChxckNvZGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHFyQ29kZS5jb2RlID09IGlucHV0LmRlcGFydG1lbnRzW2ldLnFyQ29kZVtxXS5jb2RlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlLnNldChpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCBjaGVjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLndhc3RlZ2VuZXJhdGVkID0gY2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gaGlzdMOzcmljbyBkZSBhbHRlcmHDp8O1ZXMgKi9cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgaGlzdG9yeSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogaW5wdXQuZGVwYXJ0bWVudHNbaV0ucXJDb2RlW3FdLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0ubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCB0cmFucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLndhc3RlZ2VuZXJhdGVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucy51cGRhdGUodHJhbnMpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzLnJlc2lkdWVzUmVnaXN0ZXIuZGVwYXJ0bWVudHMuZm9yRWFjaCgoZGVwYXJ0bWVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5kZXBhcnRtZW50c1tpXS5faWQgPT0gZGVwYXJ0bWVudC5faWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlcGFydG1lbnQucXJDb2RlLnB1c2goaW5wdXQuZGVwYXJ0bWVudHNbaV0ucXJDb2RlW3FdKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCByZXMudXBkYXRlKHJlcykudGhlbihjb25zb2xlLmxvZygnb2sgcHVzaCB0byBleGlzdCBkZXBhcnRtZW50JykpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0LyogZ2VyYW5kbyBjaGVja1BvaW50ICovXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBjaGVja3BvaW50ID0gYXdhaXQgQ2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGlzUHVzaGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBlbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQud2FzdGVnZW5lcmF0ZWQucXJDb2RlLmZvckVhY2goKHFyQ29kZSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghaXNQdXNoZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludC53YXN0ZWdlbmVyYXRlZC5xckNvZGUucHVzaChpbnB1dC5kZXBhcnRtZW50c1tpXS5xckNvZGVbcV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpc1B1c2hlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Q2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LCBmdW5jdGlvbihlcnIsIGNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sud2FzdGVnZW5lcmF0ZWQgPSBjaGVja3BvaW50Lndhc3RlZ2VuZXJhdGVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gaGlzdMOzcmljbyBkZSBhbHRlcmHDp8O1ZXMgKi9cclxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHRyYW5zYWN0aW9uID0gYXdhaXQgVHJhbnNhY3Rpb25IaXN0b3J5LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgaGlzdG9yeSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogaW5wdXQuZGVwYXJ0bWVudHNbaV0ucXJDb2RlW3FdLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogaW5wdXQuZGVwYXJ0bWVudHNbaV0ucXJDb2RlW3FdLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCB0cmFucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCF0cmFucykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLndhc3RlZ2VuZXJhdGVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMudXBkYXRlKHRyYW5zKS50aGVuKCh4KSA9PiB7fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IFByb3ZpZGVyLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmNvbW1pdFRyYW5zYWN0aW9uKCk7XHJcblx0XHRcdFx0YXdhaXQgc2Vzc2lvbi5lbmRTZXNzaW9uKCk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ3Jlc29sdmVkJyk7XHJcblxyXG5cdFx0XHRcdHZhciByZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdHJldHVybiByZXMucmVzaWR1ZXNSZWdpc3RlcjtcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmFib3J0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Fib3J0aW5nJyk7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0YXN5bmMgY3JlYXRlb3JVcGRhdGVTY2hlZHVsaW5nKHJvb3QsIHsgX2lkLCBpbnB1dCB9KSB7XHJcblx0XHRcdGNvbnN0IHNlc3Npb24gPSBhd2FpdCBtb25nb29zZS5zdGFydFNlc3Npb24oKTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRzZXNzaW9uLnN0YXJ0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHR2YXIgcmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHJcblx0XHRcdFx0aWYgKCFyZXMuc2NoZWR1bGluZyB8fCByZXMuc2NoZWR1bGluZy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuRWxlbWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0UHJvdmlkZXIuZmluZEJ5SWQoX2lkLCBmdW5jdGlvbihlcnIsIGNvcnApIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIWNvcnApIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlucHV0LmZvckVhY2goKHNjaGVkdWxpbmcpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHJlcy5zY2hlZHVsaW5nID09PSB1bmRlZmluZWQgfHwgcmVzLnNjaGVkdWxpbmcubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXMuc2NoZWR1bGluZyA9IFsgc2NoZWR1bGluZyBdO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlcy5zY2hlZHVsaW5nLnB1c2goc2NoZWR1bGluZyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0Y29ycC5zY2hlZHVsaW5nID0gcmVzLnNjaGVkdWxpbmc7XHJcblx0XHRcdFx0XHRcdFx0Y29ycC51cGRhdGUoY29ycCkudGhlbigoeCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZShjb3JwKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvKiBnZXJhbmRvIGNoZWNrUG9pbnQgKi9cclxuXHRcdFx0XHRcdHZhciBjaGVja3BvaW50ID0gYXdhaXQgQ2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdHJlcyA9IGF3YWl0IFByb3ZpZGVyLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHR2YXIgaXNOZXcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHZhciBjaGVja3BvaW4gPSBhd2FpdCBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdHJlcy5zY2hlZHVsaW5nLmZvckVhY2goKHNjaGVkdWxpbmcpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRzY2hlZHVsaW5nLnFyQ29kZS5mb3JFYWNoKChxckNvZGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2twb2ludCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludCA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25yZXF1ZXN0ZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBxckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2twb2ludC5jb2xsZWN0aW9ucmVxdWVzdGVkIHx8IGNoZWNrcG9pbnQuY29sbGVjdGlvbnJlcXVlc3RlZC5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQgPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25yZXF1ZXN0ZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50LmNvbGxlY3Rpb25yZXF1ZXN0ZWQucXJDb2RlLnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNOZXcpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBhd2FpdCBDaGVja1BvaW50LmNyZWF0ZShjaGVja3BvaW50KTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRDaGVja1BvaW50LmZpbmRPbmUoeyBfaWRDb3Jwb3JhdGlvbjogX2lkIH0sIGZ1bmN0aW9uKGVyciwgY2hlY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2spIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrIHx8IGNoZWNrLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sgPSBjaGVjaztcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay5jb2xsZWN0aW9ucmVxdWVzdGVkID0gY2hlY2twb2ludC5jb2xsZWN0aW9ucmVxdWVzdGVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLnVwZGF0ZShjaGVjaykudGhlbigoeCkgPT4ge30pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8qR2VyYW5kbyBoaXN0b3JpY28gKi9cclxuXHRcdFx0XHRcdHZhciB0cmFuc2FjdGlvbiA9IGF3YWl0IFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdHJlcyA9IGF3YWl0IFByb3ZpZGVyLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0XHR2YXIgaXNOZXcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHZhciBoaXN0b3J5ID0gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRyZXMuc2NoZWR1bGluZy5mb3JFYWNoKChzY2hlZHVsaW5nKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0c2NoZWR1bGluZy5xckNvZGUuZm9yRWFjaCgocXJDb2RlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zYWN0aW9uKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBxckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tQb2ludHM6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29sbGVjdGlvbnJlcXVlc3RlZDogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpc05ldyA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBxckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogcXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0IXRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0IXRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25yZXF1ZXN0ZWQgfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucmVxdWVzdGVkLmxlbmd0aCA8PSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja1BvaW50czogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25yZXF1ZXN0ZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25yZXF1ZXN0ZWQucXJDb2RlLnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNOZXcpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuY3JlYXRlKHRyYW5zYWN0aW9uKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCB0cmFucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCF0cmFucykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghdHJhbnMgfHwgdHJhbnMubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucyA9IHRyYW5zYWN0aW9uO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25yZXF1ZXN0ZWQgPVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnJlcXVlc3RlZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFucy51cGRhdGUodHJhbnMpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGlucHV0Lmxlbmd0aCA+IGk7IGkrKykge1xyXG5cdFx0XHRcdFx0XHR2YXIgZXhpc3QgPSBhd2FpdCByZXMuc2NoZWR1bGluZy5maW5kKCh4KSA9PiB4Ll9pZCA9PSBpbnB1dFtpXS5faWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCFleGlzdCB8fCBleGlzdC5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdHJlcy5zY2hlZHVsaW5nLnB1c2goaW5wdXRbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy51cGRhdGUocmVzKS50aGVuKGNvbnNvbGUubG9nKCdvayBwdXNoIHNjaGVkdWxpbmcnKSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZXhpc3Quc2V0KGlucHV0W2ldKTtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCByZXMudXBkYXRlKHJlcykudGhlbihjb25zb2xlLmxvZygnb2sgc2V0IHNjaGVkdWxpbmcnKSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHJcblx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gY2hlY2tQb2ludCAqL1xyXG5cdFx0XHRcdFx0XHR2YXIgY2hlY2twb2ludCA9IGF3YWl0IENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdHZhciBlbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIHggPSAwOyBpbnB1dFtpXS5xckNvZGUubGVuZ3RoID4geDsgeCsrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgZXhpc3RRciA9IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRcdFx0XHRcdGZvciAoeSA9IDA7IHkgPCBjaGVja3BvaW50LmNvbGxlY3Rpb25yZXF1ZXN0ZWQucXJDb2RlLmxlbmd0aDsgeSsrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChjaGVja3BvaW50LmNvbGxlY3Rpb25yZXF1ZXN0ZWQucXJDb2RlW3ldLmNvZGUgPT09IGlucHV0W2ldLnFyQ29kZVt4XS5jb2RlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZXhpc3RRciA9IGNoZWNrcG9pbnQuY29sbGVjdGlvbnJlcXVlc3RlZC5xckNvZGVbeV07XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdGlmIChleGlzdFFyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGV4aXN0UXIuc2V0KGlucHV0W2ldLnFyQ29kZVt4XSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50LmNvbGxlY3Rpb25yZXF1ZXN0ZWQucXJDb2RlLnB1c2goaW5wdXRbaV0ucXJDb2RlW3hdKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCBjaGVjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFjaGVjaykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLmNvbGxlY3Rpb25yZXF1ZXN0ZWQgPSBjaGVja3BvaW50LmNvbGxlY3Rpb25yZXF1ZXN0ZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLnVwZGF0ZShjaGVjaykudGhlbigoeCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0LyogZ2VyYW5kbyBoaXN0w7NyaWNvIGRlIGFsdGVyYcOnw7VlcyAqL1xyXG5cdFx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdHZhciBlbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIHggPSAwOyBpbnB1dFtpXS5xckNvZGUubGVuZ3RoID4geDsgeCsrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucmVxdWVzdGVkLnFyQ29kZS5wdXNoKGlucHV0W2ldLnFyQ29kZVt4XSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCB0cmFucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCF0cmFucykgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25yZXF1ZXN0ZWQgPSB0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucmVxdWVzdGVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFucy51cGRhdGUodHJhbnMpLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGF3YWl0IHNlc3Npb24uY29tbWl0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygncmVzb2x2ZWQnKTtcclxuXHJcblx0XHRcdFx0dmFyIHJlcyA9IGF3YWl0IFByb3ZpZGVyLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5zY2hlZHVsaW5nO1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdGF3YWl0IHNlc3Npb24uYWJvcnRUcmFuc2FjdGlvbigpO1xyXG5cdFx0XHRcdGF3YWl0IHNlc3Npb24uZW5kU2Vzc2lvbigpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnYWJvcnRpbmcnKTtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKCdFUkUwMDknKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRhc3luYyBjcmVhdGVvclVwZGF0ZUVudHJpZXMocm9vdCwgeyBfaWQsIGlucHV0IH0pIHtcclxuXHRcdFx0Y29uc3Qgc2Vzc2lvbiA9IGF3YWl0IG1vbmdvb3NlLnN0YXJ0U2Vzc2lvbigpO1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHNlc3Npb24uc3RhcnRUcmFuc2FjdGlvbigpO1xyXG5cdFx0XHRcdHZhciByZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdGlmIChyZXMuZW50cmllcyA9PT0gdW5kZWZpbmVkIHx8IHJlcy5lbnRyaWVzID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHRyZXR1cm5FbGVtZW50ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRQcm92aWRlci5maW5kQnlJZChfaWQsIGZ1bmN0aW9uKGVyciwgY29ycCkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICghY29ycCkgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHJlcy5lbnRyaWVzID09PSB1bmRlZmluZWQgfHwgcmVzLmVudHJpZXMgPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzLmVudHJpZXMgPSBpbnB1dDtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJlcy5lbnRyaWVzID0gaW5wdXQ7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRjb3JwLmVudHJpZXMgPSByZXMuZW50cmllcztcclxuXHRcdFx0XHRcdFx0XHRjb3JwLnVwZGF0ZShjb3JwKS50aGVuKCh4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKGNvcnApO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0LyogZ2VyYW5kbyBjaGVja1BvaW50ICovXHJcblx0XHRcdFx0XHR2YXIgY2hlY2twb2ludCA9IGF3YWl0IENoZWNrUG9pbnQuZmluZCh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRyZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0dmFyIGlzTmV3ID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2YXIgY2hlY2twb2luID0gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAocmVzLmVudHJpZXMuc2FsZSAmJiByZXMuZW50cmllcy5zYWxlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRyZXMuZW50cmllcy5zYWxlLmZvckVhY2goKHNhbGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2twb2ludCB8fCBjaGVja3BvaW50Lmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBzYWxlLnFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBzYWxlLnFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50ID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29sbGVjdGlvbnBlcmZvcm1lZDogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpc05ldyA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogc2FsZS5xckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogc2FsZS5xckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkIHx8IGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQgPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25wZXJmb3JtZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50LmNvbGxlY3Rpb25wZXJmb3JtZWQucXJDb2RlLnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAocmVzLmVudHJpZXMucHVyY2hhc2UgJiYgcmVzLmVudHJpZXMucHVyY2hhc2UubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRcdHJlcy5lbnRyaWVzLnB1cmNoYXNlLmZvckVhY2goKHB1cmNoYXNlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrcG9pbnQgfHwgY2hlY2twb2ludC5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcHVyY2hhc2UucXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHB1cmNoYXNlLnFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludCA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25wZXJmb3JtZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHB1cmNoYXNlLnFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBwdXJjaGFzZS5xckNvZGUubWF0ZXJpYWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkIHx8IGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQgPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25wZXJmb3JtZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50LmNvbGxlY3Rpb25wZXJmb3JtZWQucXJDb2RlLnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKGlzTmV3KSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gYXdhaXQgQ2hlY2tQb2ludC5jcmVhdGUoY2hlY2twb2ludCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0Q2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LCBmdW5jdGlvbihlcnIsIGNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2sgfHwgY2hlY2subGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjayA9IGNoZWNrcG9pbnQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2suY29sbGVjdGlvbnBlcmZvcm1lZCA9IGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvKiBnZXJhbmRvIGhpc3TDs3JpY28gZGUgYWx0ZXJhw6fDtWVzICovXHJcblx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZCh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRyZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0dmFyIGlzTmV3ID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2YXIgaGlzdG9yeSA9IGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHJlcy5lbnRyaWVzLnNhbGUgJiYgcmVzLmVudHJpZXMuc2FsZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzLmVudHJpZXMuc2FsZS5mb3JFYWNoKChzYWxlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAodHJhbnNhY3Rpb24gPT09IHVuZGVmaW5lZCB8fCB0cmFuc2FjdGlvbiA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBzYWxlLnFyQ29kZS5jb2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hdGVyaWFsOiBzYWxlLnFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24gPSBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja1BvaW50czogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9ucGVyZm9ybWVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cXJDb2RlOiBbIHZhbHVlIF1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlzTmV3ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2YWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvZGU6IHNhbGUucXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHNhbGUucXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0IXRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0IXRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQgfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkLmxlbmd0aCA8PSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uID0gbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja1BvaW50czogbmV3IE9iamVjdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25wZXJmb3JtZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHFyQ29kZTogWyB2YWx1ZSBdXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQucXJDb2RlLnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAocmVzLmVudHJpZXMucHVyY2hhc2UgJiYgcmVzLmVudHJpZXMucHVyY2hhc2UubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRcdHJlcy5lbnRyaWVzLnB1cmNoYXNlLmZvckVhY2goKHB1cmNoYXNlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAodHJhbnNhY3Rpb24gPT09IHVuZGVmaW5lZCB8fCB0cmFuc2FjdGlvbiA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2RlOiBwdXJjaGFzZS5xckNvZGUuY29kZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRlcmlhbDogcHVyY2hhc2UucXJDb2RlLm1hdGVyaWFsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbiA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrUG9pbnRzOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb25wZXJmb3JtZWQ6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNOZXcgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29kZTogcHVyY2hhc2UucXJDb2RlLmNvZGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF0ZXJpYWw6IHB1cmNoYXNlLnFyQ29kZS5tYXRlcmlhbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCF0cmFuc2FjdGlvbi5jaGVja1BvaW50cyB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCF0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZC5sZW5ndGggPD0gMFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbiA9IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tQb2ludHM6IG5ldyBPYmplY3Qoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9ucGVyZm9ybWVkOiBuZXcgT2JqZWN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRxckNvZGU6IFsgdmFsdWUgXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChpc05ldykge1xyXG5cdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGF3YWl0IFRyYW5zYWN0aW9uSGlzdG9yeS5jcmVhdGUodHJhbnNhY3Rpb24pO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LCBmdW5jdGlvbihlcnIsIHRyYW5zKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRyYW5zID09PSB1bmRlZmluZWQgfHwgdHJhbnMgPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucyA9IHRyYW5zYWN0aW9uO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQgPVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFucy51cGRhdGUodHJhbnMpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKGlucHV0LnNhbGUgIT09IHVuZGVmaW5lZCB8fCBpbnB1dC5zYWxlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGlucHV0LnNhbGUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZXhpc3QgPSBhd2FpdCByZXMuZW50cmllcy5zYWxlLmZpbmQoKHgpID0+IHguX2lkID09IGlucHV0LnNhbGVbaV0uX2lkKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZXhpc3QpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGV4aXN0LnNldChpbnB1dC5zYWxlW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy51cGRhdGUocmVzKS50aGVuKGNvbnNvbGUubG9nKCdvayBzZXQgZW50cmllcyBzYWxlJykpO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCByZXMuZW50cmllcy5zYWxlLnB1c2goaW5wdXQuc2FsZVtpXSk7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCByZXMudXBkYXRlKHJlcykudGhlbihjb25zb2xlLmxvZygnb2sgcHVzaCBlbnRyaWVzIHNhbGUnKSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJlcyA9IGF3YWl0IFByb3ZpZGVyLmZpbmRCeUlkKF9pZCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gY2hlY2tQb2ludCAqL1xyXG5cdFx0XHRcdFx0XHRcdHZhciBjaGVja3BvaW50ID0gYXdhaXQgQ2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9KTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZWxlbWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dC5zYWxlICE9PSB1bmRlZmluZWQgJiYgaW5wdXQuc2FsZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBleGlzdFFyID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IgKHkgPSAwOyB5IDwgY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5sZW5ndGg7IHkrKykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGVbeV0uY29kZSA9PT0gaW5wdXQuc2FsZVtpXS5xckNvZGUuY29kZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXhpc3RRciA9IGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGVbeV07XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChleGlzdFFyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZXhpc3RRci5zZXQoaW5wdXQuc2FsZVtpXS5xckNvZGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGUucHVzaChpbnB1dC5zYWxlW2ldLnFyQ29kZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCBjaGVjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNoZWNrKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrLmNvbGxlY3Rpb25wZXJmb3JtZWQgPSBjaGVja3BvaW50LmNvbGxlY3Rpb25wZXJmb3JtZWQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2sudXBkYXRlKGNoZWNrKS50aGVuKCh4KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGhpc3TDs3JpY28gZGUgYWx0ZXJhw6fDtWVzICovXHJcblx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgdHJhbnNhY3Rpb24gPSBhd2FpdCBUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5wdXQuc2FsZSAhPT0gdW5kZWZpbmVkICYmIGlucHV0LnNhbGUubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5wdXNoKGlucHV0LnNhbGVbaV0ucXJDb2RlKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LCBmdW5jdGlvbihlcnIsIHRyYW5zKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghdHJhbnMpIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnMuY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZCA9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFuc2FjdGlvbi5jaGVja1BvaW50cy5jb2xsZWN0aW9ucGVyZm9ybWVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLnVwZGF0ZSh0cmFucykudGhlbigoeCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGlucHV0LnB1cmNoYXNlICE9PSB1bmRlZmluZWQgfHwgaW5wdXQucHVyY2hhc2UubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgaW5wdXQucHVyY2hhc2UubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZXhpc3QgPSBhd2FpdCByZXMuZW50cmllcy5wdXJjaGFzZS5maW5kKCh4KSA9PiB4Ll9pZCA9PSBpbnB1dC5wdXJjaGFzZVtpXS5faWQpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChleGlzdCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZXhpc3Quc2V0KGlucHV0LnB1cmNoYXNlW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHJlcy51cGRhdGUocmVzKS50aGVuKGNvbnNvbGUubG9nKCdvayBzZXQgZW50cmllcyBwdXJjaGFzZScpKTtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgcmVzLmVudHJpZXMucHVyY2hhc2UucHVzaChpbnB1dC5wdXJjaGFzZVtpXSk7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCByZXMudXBkYXRlKHJlcykudGhlbihjb25zb2xlLmxvZygnb2sgcHVzaCBlbnRyaWVzIHB1cmNoYXNlJykpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvKiBnZXJhbmRvIGNoZWNrUG9pbnQgKi9cclxuXHRcdFx0XHRcdFx0XHR2YXIgY2hlY2twb2ludCA9IGF3YWl0IENoZWNrUG9pbnQuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5wdXQucHVyY2hhc2UgIT09IHVuZGVmaW5lZCAmJiBpbnB1dC5wdXJjaGFzZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBleGlzdFFyID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IgKHkgPSAwOyB5IDwgY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZS5sZW5ndGg7IHkrKykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGVbeV0uY29kZSA9PT1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlucHV0LnB1cmNoYXNlW2ldLnFyQ29kZS5jb2RlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRleGlzdFFyID0gY2hlY2twb2ludC5jb2xsZWN0aW9ucGVyZm9ybWVkLnFyQ29kZVt5XTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGV4aXN0UXIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRleGlzdFFyLnNldChpbnB1dC5wdXJjaGFzZVtpXS5xckNvZGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZC5xckNvZGUucHVzaChpbnB1dC5wdXJjaGFzZVtpXS5xckNvZGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0Q2hlY2tQb2ludC5maW5kT25lKHsgX2lkQ29ycG9yYXRpb246IF9pZCB9LCBmdW5jdGlvbihlcnIsIGNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghY2hlY2spIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2suY29sbGVjdGlvbnBlcmZvcm1lZCA9IGNoZWNrcG9pbnQuY29sbGVjdGlvbnBlcmZvcm1lZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVjay51cGRhdGUoY2hlY2spLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8qIGdlcmFuZG8gaGlzdMOzcmljbyBkZSBhbHRlcmHDp8O1ZXMgKi9cclxuXHRcdFx0XHRcdFx0XHRyZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdFx0XHRcdHZhciB0cmFuc2FjdGlvbiA9IGF3YWl0IFRyYW5zYWN0aW9uSGlzdG9yeS5maW5kT25lKCk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5wdXQucHVyY2hhc2UgIT09IHVuZGVmaW5lZCAmJiBpbnB1dC5wdXJjaGFzZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zYWN0aW9uLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQucXJDb2RlLnB1c2goaW5wdXQucHVyY2hhc2VbaV0ucXJDb2RlKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRUcmFuc2FjdGlvbkhpc3RvcnkuZmluZE9uZSh7IF9pZENvcnBvcmF0aW9uOiBfaWQgfSwgZnVuY3Rpb24oZXJyLCB0cmFucykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRyYW5zKSBjb25zb2xlLmxvZygnRVJFMDA5Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyYW5zLmNoZWNrUG9pbnRzLmNvbGxlY3Rpb25wZXJmb3JtZWQgPVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhbnNhY3Rpb24uY2hlY2tQb2ludHMuY29sbGVjdGlvbnBlcmZvcm1lZDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFucy51cGRhdGUodHJhbnMpLnRoZW4oKHgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0cmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmNvbW1pdFRyYW5zYWN0aW9uKCk7XHJcblx0XHRcdFx0YXdhaXQgc2Vzc2lvbi5lbmRTZXNzaW9uKCk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ3Jlc29sdmVkJyk7XHJcblxyXG5cdFx0XHRcdHZhciByZXMgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0XHRcdHJldHVybiByZXMuZW50cmllcztcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmFib3J0VHJhbnNhY3Rpb24oKTtcclxuXHRcdFx0XHRhd2FpdCBzZXNzaW9uLmVuZFNlc3Npb24oKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Fib3J0aW5nJyk7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRhc3luYyBjcmVhdGVvclVwZGF0ZVJlc2lkdWVBcnJpdmVkKHJvb3QsIHsgX2lkLCBpbnB1dCB9KSB7fSxcclxuXHRcdGFzeW5jIGNyZWF0ZW9yVXBkYXRlRG9jdW1lbnQocm9vdCwgeyBfaWQsIGlucHV0IH0pIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHR2YXIgZWxlbWVudCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHRcdHZhciByZXMgPSBQcm92aWRlci5maW5kQnlJZChfaWQsIGZ1bmN0aW9uKGVyciwgY29ycCkge1xyXG5cdFx0XHRcdFx0XHRpZiAoZXJyKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVqZWN0KG5leHQobmV3IEVycm9yKCdFUkUwMDknKSkpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpbnB1dC5sZW5ndGggPiBpOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChpbnB1dFtpXS5faWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aW5kZXggPSBjb3JwLmRvY3VtZW50cy5maW5kSW5kZXgoKHgpID0+IHguX2lkID09IGlucHV0W2ldLl9pZCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvcnAuZG9jdW1lbnRzW2luZGV4XSA9IGlucHV0W2ldO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29ycC5kb2N1bWVudHMucHVzaChpbnB1dFtpXSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGNvcnAuc2F2ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoY29ycCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR2YXIgcmVzID0gYXdhaXQgUHJvdmlkZXIuZmluZEJ5SWQoX2lkKTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRvY3VtZW50cztcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0VSRTAwOScpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuLypTYWx2YW5kbyBvcyBpZHMgJ25vdm9zIGFwZW5hcycgZG9zIGZvcm5lY2Vkb3JlcyBjcmlhZG9zIHBhcmEgcXVlIGEgZW1wcmVzYSBxdWUgb3MgY3JpYXJhbSBwb3NzYW0gXHJcbiAgY2FycmVnYXJzZXVzIGRhZG9zIGZ1dHVyYW1lbnRlLCBlc3RhIGVtIGFiZXJ0byBwYXJhIHF1ZSBmb3JuZWNlZG9yZXMgY2FkYXN0cmVtIHNldXMgZm9ybmVjZWRvcmVzIHRibSBcclxuICAqL1xyXG5hc3luYyBmdW5jdGlvbiBhZGRJRChfaWQsIGlkLCB0eXBlQ29ycG9yYXRpb24pIHtcclxuXHR2YXIgb2JqZWN0ID0ge1xyXG5cdFx0cHJvdmlkZXJJZDogaWRcclxuXHR9O1xyXG5cdGlmICh0eXBlQ29ycG9yYXRpb24gPT09IENsYXNzaWZpY2F0aW9uLkNvbGxlY3Rvcikge1xyXG5cdFx0dmFyIGNvbGxlY3RvciA9IGF3YWl0IENvbGxlY3Rvci5maW5kQnlJZChfaWQpO1xyXG5cdFx0aWYgKGNvbGxlY3Rvci5teVByb3ZpZGVycyA9PT0gdW5kZWZpbmVkIHx8IGNvbGxlY3Rvci5teVByb3ZpZGVycy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRjb2xsZWN0b3JbJ215UHJvdmlkZXJzJ10gPSBbIG9iamVjdCBdO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29sbGVjdG9yLm15UHJvdmlkZXJzLnB1c2gob2JqZWN0KTtcclxuXHRcdH1cclxuXHRcdENvbGxlY3Rvci5maW5kT25lKF9pZCwgZnVuY3Rpb24oZXJyLCBjb2xsKSB7XHJcblx0XHRcdGlmICghY29sbCkgY29uc29sZS5sb2coJ0VSRTAwOScpO1xyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRjb2xsLm15UHJvdmlkZXJzID0gY29sbGVjdG9yLm15UHJvdmlkZXJzO1xyXG5cdFx0XHRcdGNvbGwudXBkYXRlKGNvbGwpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSBlbHNlIGlmICh0eXBlQ29ycG9yYXRpb24gPT09IENsYXNzaWZpY2F0aW9uLlByb3ZpZGVyKSB7XHJcblx0XHR2YXIgcHJvdmlkZXIgPSBhd2FpdCBQcm92aWRlci5maW5kQnlJZChfaWQpO1xyXG5cdFx0aWYgKHByb3ZpZGVyLm15UHJvdmlkZXJzID09PSB1bmRlZmluZWQgfHwgcHJvdmlkZXIubXlQcm92aWRlcnMubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0cHJvdmlkZXJbJ215UHJvdmlkZXJzJ10gPSBbIG9iamVjdCBdO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cHJvdmlkZXIubXlQcm92aWRlcnMucHVzaChvYmplY3QpO1xyXG5cdFx0fVxyXG5cdFx0UHJvdmlkZXIuZmluZE9uZShfaWQsIGZ1bmN0aW9uKGVyciwgcHJvdikge1xyXG5cdFx0XHRpZiAoIXByb3YpIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0cHJvdi5teVByb3ZpZGVycyA9IHByb3ZpZGVyLm15UHJvdmlkZXJzO1xyXG5cdFx0XHRcdHByb3YudXBkYXRlKHByb3YpLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHZhciBjb3Jwb3JhdGlvbiA9IGF3YWl0IENvcnBvcmF0aW9uLmZpbmRCeUlkKF9pZCk7XHJcblx0XHRpZiAoY29ycG9yYXRpb24ubXlQcm92aWRlcnMgPT09IHVuZGVmaW5lZCB8fCBjb3Jwb3JhdGlvbi5teVByb3ZpZGVycy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRjb3Jwb3JhdGlvblsnbXlQcm92aWRlcnMnXSA9IFsgb2JqZWN0IF07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb3Jwb3JhdGlvbi5teVByb3ZpZGVycy5wdXNoKG9iamVjdCk7XHJcblx0XHR9XHJcblx0XHRhd2FpdCBDb3Jwb3JhdGlvbi5maW5kQnlJZChfaWQsIGZ1bmN0aW9uKGVyciwgY29ycCkge1xyXG5cdFx0XHRpZiAoIWNvcnApIGNvbnNvbGUubG9nKCdFUkUwMDknKTtcclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Y29ycC5teVByb3ZpZGVycyA9IGNvcnBvcmF0aW9uLm15UHJvdmlkZXJzO1xyXG5cdFx0XHRcdGNvcnAudXBkYXRlKGNvcnApLnRoZW4oKHgpID0+IHt9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "provider.js"
      ],
      "names": [
        "Provider",
        "require",
        "Corporation",
        "Collector",
        "CheckPoint",
        "TransactionHistory",
        "mongoose",
        "Classification",
        "module",
        "exports",
        "provider",
        "Query",
        "getProvider",
        "root",
        "_id",
        "findById",
        "getProviderByUser",
        "res",
        "findOne",
        "undefined",
        "allProviders",
        "find",
        "allUnits",
        "unit",
        "units",
        "i",
        "length",
        "push",
        "allDepartments",
        "departments",
        "allDocuments",
        "documents",
        "allResiduesRegister",
        "residuesRegister",
        "allResidueArrived",
        "residuesPerformed",
        "allSchedulings",
        "scheduling",
        "allEntries",
        "entries",
        "allProvidersId",
        "myProviders",
        "Mutation",
        "createorUpdateProvider",
        "typeCorporation",
        "input",
        "session",
        "startSession",
        "startTransaction",
        "id",
        "returned",
        "create",
        "then",
        "x",
        "addID",
        "findByIdAndUpdate",
        "new",
        "err",
        "todo",
        "Error",
        "users",
        "email",
        "commitTransaction",
        "endSession",
        "console",
        "log",
        "error",
        "abortTransaction",
        "deleteProvider",
        "createorUpdateDepartment",
        "corp",
        "next",
        "index",
        "findIndex",
        "save",
        "createorUpdateResiduesRegister",
        "returnElement",
        "elementSaved",
        "Promise",
        "resolve",
        "reject",
        "forEach",
        "department",
        "Object",
        "depart",
        "name",
        "isChanged",
        "description",
        "active",
        "qrCode",
        "exist",
        "departmentDB",
        "update",
        "checkpoint",
        "_idCorporation",
        "isNew",
        "checkpoin",
        "value",
        "code",
        "material",
        "wastegenerated",
        "check",
        "transaction",
        "history",
        "date",
        "Date",
        "checkPoints",
        "trans",
        "removed",
        "existRemoved",
        "y",
        "indexQrCode",
        "splice",
        "element",
        "q",
        "isUpdated",
        "set",
        "isPushed",
        "createorUpdateScheduling",
        "collectionrequested",
        "existQr",
        "createorUpdateEntries",
        "sale",
        "collectionperformed",
        "purchase",
        "createorUpdateResidueArrived",
        "createorUpdateDocument",
        "object",
        "providerId",
        "collector",
        "coll",
        "prov",
        "corporation"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\provider\\Mutation",
      "sourcesContent": [
        "var Provider = require('../../../models/provider.model');\r\nvar Corporation = require('../../../models/corporation.model');\r\nvar Collector = require('../../../models/collector.model');\r\nvar CheckPoint = require('../../../models/checkpoint.model');\r\nvar TransactionHistory = require('../../../models/transactionhistory.model');\r\nmongoose = require('mongoose');\r\n\r\nvar Classification = {\r\n\tProvider: 'Fornecedor',\r\n\tCollector: 'Empresa Coletora'\r\n};\r\n\r\nmodule.exports = provider = {\r\n\tQuery: {\r\n\t\tasync getProvider(root, { _id }) {\r\n\t\t\treturn await Provider.findById(_id);\r\n\t\t},\r\n\t\tasync getProviderByUser(root, { _id }) {\r\n\t\t\tvar res = await Provider.findOne({ 'users._id': _id });\r\n\t\t\tif (!res) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t} else {\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allProviders() {\r\n\t\t\treturn await Provider.find();\r\n\t\t},\r\n\r\n\t\tasync allUnits(root, { _id }) {\r\n\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\tvar unit;\r\n\t\t\t\tvar units = [];\r\n\t\t\t\tfor (var i = 0; res.units.length > i; i++) {\r\n\t\t\t\t\tunit = undefined;\r\n\t\t\t\t\tunit = await Provider.findById(res.units[i]._id);\r\n\t\t\t\t\tif (!unit) {\r\n\t\t\t\t\t\tunit = await Corporation.findById(res.units[i]._id);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!unit) {\r\n\t\t\t\t\t\tunit = await Collector.findById(res.units[i]._id);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tunits.push(unit);\r\n\t\t\t\t}\r\n\t\t\t\treturn units;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allDepartments(root, { _id }) {\r\n\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.departments;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync allDocuments(root, { _id }) {\r\n\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.documents;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync allResiduesRegister(root, { _id }) {\r\n\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.residuesRegister;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allResidueArrived(root, { _id }) {\r\n\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.residuesPerformed;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allSchedulings(root, { _id }) {\r\n\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.scheduling;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allEntries(root, { _id }) {\r\n\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.entries;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync allProvidersId(root, { _id }) {\r\n\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\tif (res) {\r\n\t\t\t\treturn res.myProviders;\r\n\t\t\t} else {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tMutation: {\r\n\t\tasync createorUpdateProvider(root, { _id, typeCorporation, input }) {\r\n\t\t\tconst session = await mongoose.startSession();\r\n\t\t\ttry {\r\n\t\t\t\tsession.startTransaction();\r\n\t\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\t\tvar res = await Provider.findOne();\r\n\t\t\t\t\tif (res === undefined || res === null) {\r\n\t\t\t\t\t\tvar id = undefined;\r\n\t\t\t\t\t\tvar returned = await Provider.create(input[i]).then((x) => {\r\n\t\t\t\t\t\t\tid = x._id;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\taddID(_id, id, typeCorporation);\r\n\t\t\t\t\t} else if (input[i]._id) {\r\n\t\t\t\t\t\tProvider.findByIdAndUpdate(input[i]._id, input[i], { new: true }, (err, todo) => {\r\n\t\t\t\t\t\t\tif (err) throw new Error('ERE009');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar id;\r\n\t\t\t\t\t\tfor (var x = 0; input[i].users.length > x; x++) {\r\n\t\t\t\t\t\t\tvar res = await Provider.findOne({ email: input[i].users[x].email });\r\n\t\t\t\t\t\t\tid = undefined;\r\n\t\t\t\t\t\t\tif (!res) {\r\n\t\t\t\t\t\t\t\tvar returned = await Provider.create(input[i]).then((x) => {\r\n\t\t\t\t\t\t\t\t\tid = x._id;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\taddID(_id, id, typeCorporation);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait session.commitTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log('resolved');\r\n\t\t\t\tvar res = await Provider.find();\r\n\t\t\t\treturn res;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tawait session.abortTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log('aborting');\r\n\t\t\t\treturn new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync deleteProvider(root, { _id }) {\r\n\t\t\t// return await Provider.findOneAndRemove({\r\n\t\t\t// \t_id\r\n\t\t\t// });\r\n\t\t},\r\n\r\n\t\tasync createorUpdateDepartment(root, { _id, input }) {\r\n\t\t\ttry {\r\n\t\t\t\tres = await Provider.findById(_id, function(err, corp) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\treturn next(new Error('ERE009'));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\t\t\t\tif (input[i]._id) {\r\n\t\t\t\t\t\t\t\tindex = corp.departments.findIndex((x) => x._id == input[i]._id);\r\n\t\t\t\t\t\t\t\tif (index) {\r\n\t\t\t\t\t\t\t\t\tcorp.departments[index] = input[i];\r\n\t\t\t\t\t\t\t\t} else if (!corp.departments || corp.departments.length <= 0) {\r\n\t\t\t\t\t\t\t\t\tcorp.departments = [ input[i] ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (!corp.departments || corp.departments.length <= 0) {\r\n\t\t\t\t\t\t\t\t\tcorp.departments = [ input[i] ];\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcorp.departments.push(input[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcorp.save();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\t\treturn res.departments;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthrow new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync createorUpdateResiduesRegister(root, { _id, input }) {\r\n\t\t\tconst session = await mongoose.startSession();\r\n\t\t\ttry {\r\n\t\t\t\tsession.startTransaction();\r\n\t\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\t\tvar returnElement;\r\n\t\t\t\tif (\r\n\t\t\t\t\t!res.residuesRegister ||\r\n\t\t\t\t\t!res.residuesRegister.departments ||\r\n\t\t\t\t\tres.residuesRegister.departments.length <= 0\r\n\t\t\t\t) {\r\n\t\t\t\t\tvar elementSaved;\r\n\t\t\t\t\treturnElement = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tProvider.findById(_id, function(err, corp) {\r\n\t\t\t\t\t\t\tif (!corp) console.log('ERE009');\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tinput.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!res.residuesRegister ||\r\n\t\t\t\t\t\t\t\t\t\t!res.residuesRegister.departments ||\r\n\t\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\tres['residuesRegister'] = new Object();\r\n\t\t\t\t\t\t\t\t\t\tvar depart = {\r\n\t\t\t\t\t\t\t\t\t\t\t_id: department._id,\r\n\t\t\t\t\t\t\t\t\t\t\tname: department.name,\r\n\t\t\t\t\t\t\t\t\t\t\tisChanged: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: department.description,\r\n\t\t\t\t\t\t\t\t\t\t\tactive: department.active,\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: []\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tres['residuesRegister']['departments'] = [ depart ];\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tvar depart = {\r\n\t\t\t\t\t\t\t\t\t\t\t_id: department._id,\r\n\t\t\t\t\t\t\t\t\t\t\tname: department.name,\r\n\t\t\t\t\t\t\t\t\t\t\tisChanged: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: department.description,\r\n\t\t\t\t\t\t\t\t\t\t\tactive: department.active,\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: []\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tvar exist = res.residuesRegister.departments.find(\r\n\t\t\t\t\t\t\t\t\t\t\t(x) => x.name === depart.name\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\tif (!exist) {\r\n\t\t\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.push(depart);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tinput.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((departmentDB) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (department.name === departmentDB.name) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdepartmentDB.qrCode.push(qrCode);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tcorp.residuesRegister = res.residuesRegister;\r\n\t\t\t\t\t\t\t\tcorp.update(corp).then((x) => {\r\n\t\t\t\t\t\t\t\t\tresolve(corp);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\tvar checkpoin = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\tif (!checkpoint) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t_idCorporation: _id,\r\n\t\t\t\t\t\t\t\t\t\twastegenerated: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (!checkpoint.wastegenerated || checkpoint.wastegenerated.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t_idCorporation: _id,\r\n\t\t\t\t\t\t\t\t\t\t\twastegenerated: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await CheckPoint.create(checkpoint);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tCheckPoint.findOne(function(err, check) {\r\n\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (!check || check.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheck = check;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheck.wastegenerated = checkpoint.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/*Gerando historico */\r\n\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\tvar history = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\tif (!transaction) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t_idCorporation: _id,\r\n\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\twastegenerated: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.wastegenerated === undefined ||\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.wastegenerated.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t_idCorporation: _id,\r\n\t\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\twastegenerated: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await TransactionHistory.create(transaction);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tTransactionHistory.findOne(function(err, trans) {\r\n\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (trans === undefined || trans.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\ttrans = transaction;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.wastegenerated = transaction.checkPoints.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar removed = false;\r\n\t\t\t\t\tfor (i = 0; input.departments.length > i; i++) {\r\n\t\t\t\t\t\tif (input.departments[i].isChanged) {\r\n\t\t\t\t\t\t\tvar existRemoved = false;\r\n\t\t\t\t\t\t\t/*verifica se existe mudança de departamento e exclui o item que esta salvo no departamento antigo para depois inserir no novo\r\n\t\t\t\t\t\tSe por acaso o usuário modificou, mas voltou ao antigo ele apenas não exclui e retorn\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\tfor (y = 0; y < input.departments[i].qrCode.length; y++) {\r\n\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department, index) => {\r\n\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode, indexQrCode) => {\r\n\t\t\t\t\t\t\t\t\t\tif (input.departments[i]._id !== department._id) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (qrCode.code === input.departments[i].qrCode[y].code) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdepartment.qrCode.splice(indexQrCode, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t//se não tem mais qrcode remove o departamento\r\n\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department, index) => {\r\n\t\t\t\t\t\t\t\t\tif (!department || !department.qrCode || department.qrCode.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinput.departments[i].isChanged = false;\r\n\t\t\t\t\t\t\tremoved = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tawait res.update(res).then(console.log('ok removed from old'));\r\n\t\t\t\t\tres = await Provider.findById(_id);\r\n\r\n\t\t\t\t\tfor (i = 0; input.departments.length > i; i++) {\r\n\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\tvar exist = await res.residuesRegister.departments.find(\r\n\t\t\t\t\t\t\t(x) => x._id == input.departments[i]._id\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tif (exist === undefined || exist.length <= 0) {\r\n\t\t\t\t\t\t\tawait res.residuesRegister.departments.push(input.departments[i]);\r\n\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push in department'));\r\n\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\r\n\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\tif (input.departments[i].name === department.name) {\r\n\t\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.push(qrCode);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tcheck.wastegenerated = checkpoint.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\t\tvar transaction = TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar history = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\tif (input.departments[i].name === department.name) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (q = 0; input.departments[i].qrCode.length > q; q++) {\r\n\t\t\t\t\t\t\t\tvar isUpdated = false;\r\n\t\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\t\t\tif (input.departments[i].qrCode[q]._id) {\r\n\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\t\tdepartment.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (qrCode.code == input.departments[i].qrCode[q].code) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode.set(input.departments[i].qrCode[q]);\r\n\t\t\t\t\t\t\t\t\t\t\t\tisUpdated = true;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tif (isUpdated) {\r\n\t\t\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok set qr codes'));\r\n\t\t\t\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\t\t\t\t\tisUpdated = false;\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (qrCode.code == input.departments[i].qrCode[q].code) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode.set(input.departments[i].qrCode[q]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcheck.wastegenerated = checkpoint.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\t\t\t\t\tvar history = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tcode: input.departments[i].qrCode[q].code,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaterial: input.departments[i].qrCode[q].material\r\n\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tres.residuesRegister.departments.forEach((department) => {\r\n\t\t\t\t\t\t\t\t\t\tif (input.departments[i]._id == department._id) {\r\n\t\t\t\t\t\t\t\t\t\t\tdepartment.qrCode.push(input.departments[i].qrCode[q]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push to exist department'));\r\n\t\t\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\r\n\t\t\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\t\t\tvar isPushed = false;\r\n\t\t\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.forEach((qrCode, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!isPushed) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcheckpoint.wastegenerated.qrCode.push(input.departments[i].qrCode[q]);\r\n\t\t\t\t\t\t\t\t\t\t\t\tisPushed = true;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcheck.wastegenerated = checkpoint.wastegenerated;\r\n\t\t\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\t\t\tvar history = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\t\tcode: input.departments[i].qrCode[q].code,\r\n\t\t\t\t\t\t\t\t\t\t\tmaterial: input.departments[i].qrCode[q].material\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.wastegenerated.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait session.commitTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log('resolved');\r\n\r\n\t\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\t\treturn res.residuesRegister;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tawait session.abortTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log('aborting');\r\n\t\t\t\treturn new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync createorUpdateScheduling(root, { _id, input }) {\r\n\t\t\tconst session = await mongoose.startSession();\r\n\t\t\ttry {\r\n\t\t\t\tsession.startTransaction();\r\n\t\t\t\tvar res = await Provider.findById(_id);\r\n\r\n\t\t\t\tif (!res.scheduling || res.scheduling.length <= 0) {\r\n\t\t\t\t\treturnElement = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tProvider.findById(_id, function(err, corp) {\r\n\t\t\t\t\t\t\tif (!corp) console.log('ERE009');\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tinput.forEach((scheduling) => {\r\n\t\t\t\t\t\t\t\t\tif (res.scheduling === undefined || res.scheduling.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tres.scheduling = [ scheduling ];\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tres.scheduling.push(scheduling);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tcorp.scheduling = res.scheduling;\r\n\t\t\t\t\t\t\tcorp.update(corp).then((x) => {\r\n\t\t\t\t\t\t\t\tresolve(corp);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tvar checkpoin = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tres.scheduling.forEach((scheduling) => {\r\n\t\t\t\t\t\t\tscheduling.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\tif (!checkpoint) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcollectionrequested: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (!checkpoint.collectionrequested || checkpoint.collectionrequested.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionrequested: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionrequested.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await CheckPoint.create(checkpoint);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (!check || check.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheck = check;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheck.collectionrequested = checkpoint.collectionrequested;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/*Gerando historico */\r\n\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tvar history = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tres.scheduling.forEach((scheduling) => {\r\n\t\t\t\t\t\t\tscheduling.qrCode.forEach((qrCode) => {\r\n\t\t\t\t\t\t\t\tif (!transaction) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionrequested: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints ||\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints.collectionrequested ||\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionrequested.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcollectionrequested: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionrequested.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await TransactionHistory.create(transaction);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (!trans || trans.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\ttrans = transaction;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionrequested =\r\n\t\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionrequested;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\t\t\tvar exist = await res.scheduling.find((x) => x._id == input[i]._id);\r\n\r\n\t\t\t\t\t\tif (!exist || exist.length <= 0) {\r\n\t\t\t\t\t\t\tres.scheduling.push(input[i]);\r\n\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push scheduling'));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\texist.set(input[i]);\r\n\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok set scheduling'));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\r\n\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\tfor (var x = 0; input[i].qrCode.length > x; x++) {\r\n\t\t\t\t\t\t\t\tvar existQr = undefined;\r\n\t\t\t\t\t\t\t\tfor (y = 0; y < checkpoint.collectionrequested.qrCode.length; y++) {\r\n\t\t\t\t\t\t\t\t\tif (checkpoint.collectionrequested.qrCode[y].code === input[i].qrCode[x].code) {\r\n\t\t\t\t\t\t\t\t\t\texistQr = checkpoint.collectionrequested.qrCode[y];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (existQr) {\r\n\t\t\t\t\t\t\t\t\texistQr.set(input[i].qrCode[x]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcheckpoint.collectionrequested.qrCode.push(input[i].qrCode[x]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tcheck.collectionrequested = checkpoint.collectionrequested;\r\n\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\tfor (var x = 0; input[i].qrCode.length > x; x++) {\r\n\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionrequested.qrCode.push(input[i].qrCode[x]);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionrequested = transaction.checkPoints.collectionrequested;\r\n\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait session.commitTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log('resolved');\r\n\r\n\t\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\t\treturn res.scheduling;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tawait session.abortTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log('aborting');\r\n\t\t\t\treturn new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync createorUpdateEntries(root, { _id, input }) {\r\n\t\t\tconst session = await mongoose.startSession();\r\n\t\t\ttry {\r\n\t\t\t\tsession.startTransaction();\r\n\t\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\t\tif (res.entries === undefined || res.entries === null) {\r\n\t\t\t\t\treturnElement = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tProvider.findById(_id, function(err, corp) {\r\n\t\t\t\t\t\t\tif (!corp) console.log('ERE009');\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif (res.entries === undefined || res.entries === null) {\r\n\t\t\t\t\t\t\t\t\tres.entries = input;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tres.entries = input;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tcorp.entries = res.entries;\r\n\t\t\t\t\t\t\tcorp.update(corp).then((x) => {\r\n\t\t\t\t\t\t\t\tresolve(corp);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\tvar checkpoint = await CheckPoint.find({ _idCorporation: _id });\r\n\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tvar checkpoin = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tif (res.entries.sale && res.entries.sale.length > 0) {\r\n\t\t\t\t\t\t\tres.entries.sale.forEach((sale) => {\r\n\t\t\t\t\t\t\t\tif (!checkpoint || checkpoint.length <= 0) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: sale.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: sale.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: sale.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: sale.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (!checkpoint.collectionperformed || checkpoint.collectionperformed.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (res.entries.purchase && res.entries.purchase.length > 0) {\r\n\t\t\t\t\t\t\tres.entries.purchase.forEach((purchase) => {\r\n\t\t\t\t\t\t\t\tif (!checkpoint || checkpoint.length <= 0) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: purchase.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: purchase.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tcode: purchase.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: purchase.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (!checkpoint.collectionperformed || checkpoint.collectionperformed.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await CheckPoint.create(checkpoint);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\tif (!check) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('ERE009');\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (!check || check.length <= 0) {\r\n\t\t\t\t\t\t\t\t\t\tcheck = checkpoint;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheck.collectionperformed = checkpoint.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\tvar transaction = await TransactionHistory.find({ _idCorporation: _id });\r\n\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\tvar isNew = false;\r\n\t\t\t\t\tvar history = await new Promise(async (resolve, reject) => {\r\n\t\t\t\t\t\tif (res.entries.sale && res.entries.sale.length > 0) {\r\n\t\t\t\t\t\t\tres.entries.sale.forEach((sale) => {\r\n\t\t\t\t\t\t\t\tif (transaction === undefined || transaction === null) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: sale.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: sale.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: sale.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: sale.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints ||\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints.collectionperformed ||\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (res.entries.purchase && res.entries.purchase.length > 0) {\r\n\t\t\t\t\t\t\tres.entries.purchase.forEach((purchase) => {\r\n\t\t\t\t\t\t\t\tif (transaction === undefined || transaction === null) {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: purchase.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: purchase.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tisNew = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar value = {\r\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\t\t\t\tcode: purchase.qrCode.code,\r\n\t\t\t\t\t\t\t\t\t\tmaterial: purchase.qrCode.material\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints ||\r\n\t\t\t\t\t\t\t\t\t\t!transaction.checkPoints.collectionperformed ||\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.length <= 0\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttransaction = new Object({\r\n\t\t\t\t\t\t\t\t\t\t\tcheckPoints: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcollectionperformed: new Object({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqrCode: [ value ]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.qrCode.push(value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (isNew) {\r\n\t\t\t\t\t\t\tvar returned = await TransactionHistory.create(transaction);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif (trans === undefined || trans === null) {\r\n\t\t\t\t\t\t\t\t\t\ttrans = transaction;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionperformed =\r\n\t\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (input.sale !== undefined || input.sale.length > 0) {\r\n\t\t\t\t\t\tfor (i = 0; i < input.sale.length; i++) {\r\n\t\t\t\t\t\t\tvar exist = await res.entries.sale.find((x) => x._id == input.sale[i]._id);\r\n\t\t\t\t\t\t\tif (exist) {\r\n\t\t\t\t\t\t\t\texist.set(input.sale[i]);\r\n\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok set entries sale'));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tawait res.entries.sale.push(input.sale[i]);\r\n\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push entries sale'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\r\n\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tif (input.sale !== undefined && input.sale.length > 0) {\r\n\t\t\t\t\t\t\t\t\tvar existQr = undefined;\r\n\t\t\t\t\t\t\t\t\tfor (y = 0; y < checkpoint.collectionperformed.qrCode.length; y++) {\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode[y].code === input.sale[i].qrCode.code\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\texistQr = checkpoint.collectionperformed.qrCode[y];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (existQr) {\r\n\t\t\t\t\t\t\t\t\t\texistQr.set(input.sale[i].qrCode);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode.push(input.sale[i].qrCode);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tcheck.collectionperformed = checkpoint.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tif (input.sale !== undefined && input.sale.length > 0) {\r\n\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.qrCode.push(input.sale[i].qrCode);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionperformed =\r\n\t\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (input.purchase !== undefined || input.purchase.length > 0) {\r\n\t\t\t\t\t\tfor (i = 0; i < input.purchase.length; i++) {\r\n\t\t\t\t\t\t\tvar exist = await res.entries.purchase.find((x) => x._id == input.purchase[i]._id);\r\n\t\t\t\t\t\t\tif (exist) {\r\n\t\t\t\t\t\t\t\texist.set(input.purchase[i]);\r\n\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok set entries purchase'));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tawait res.entries.purchase.push(input.purchase[i]);\r\n\t\t\t\t\t\t\t\tawait res.update(res).then(console.log('ok push entries purchase'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\r\n\t\t\t\t\t\t\t/* gerando checkPoint */\r\n\t\t\t\t\t\t\tvar checkpoint = await CheckPoint.findOne({ _idCorporation: _id });\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tif (input.purchase !== undefined && input.purchase.length > 0) {\r\n\t\t\t\t\t\t\t\t\tvar existQr = undefined;\r\n\t\t\t\t\t\t\t\t\tfor (y = 0; y < checkpoint.collectionperformed.qrCode.length; y++) {\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode[y].code ===\r\n\t\t\t\t\t\t\t\t\t\t\tinput.purchase[i].qrCode.code\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\texistQr = checkpoint.collectionperformed.qrCode[y];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (existQr) {\r\n\t\t\t\t\t\t\t\t\t\texistQr.set(input.purchase[i].qrCode);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tcheckpoint.collectionperformed.qrCode.push(input.purchase[i].qrCode);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tCheckPoint.findOne({ _idCorporation: _id }, function(err, check) {\r\n\t\t\t\t\t\t\t\t\tif (!check) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tcheck.collectionperformed = checkpoint.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t\tcheck.update(check).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t/* gerando histórico de alterações */\r\n\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\t\tvar transaction = await TransactionHistory.findOne();\r\n\t\t\t\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\tif (input.purchase !== undefined && input.purchase.length > 0) {\r\n\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed.qrCode.push(input.purchase[i].qrCode);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tTransactionHistory.findOne({ _idCorporation: _id }, function(err, trans) {\r\n\t\t\t\t\t\t\t\t\tif (!trans) console.log('ERE009');\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\ttrans.checkPoints.collectionperformed =\r\n\t\t\t\t\t\t\t\t\t\t\ttransaction.checkPoints.collectionperformed;\r\n\t\t\t\t\t\t\t\t\t\ttrans.update(trans).then((x) => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tres = await Provider.findById(_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tawait session.commitTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log('resolved');\r\n\r\n\t\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\t\treturn res.entries;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tawait session.abortTransaction();\r\n\t\t\t\tawait session.endSession();\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tconsole.log('aborting');\r\n\t\t\t\treturn new Error('ERE009');\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync createorUpdateResidueArrived(root, { _id, input }) {},\r\n\t\tasync createorUpdateDocument(root, { _id, input }) {\r\n\t\t\ttry {\r\n\t\t\t\tvar element = await new Promise((resolve, reject) => {\r\n\t\t\t\t\tvar res = Provider.findById(_id, function(err, corp) {\r\n\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\treject(next(new Error('ERE009')));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (var i = 0; input.length > i; i++) {\r\n\t\t\t\t\t\t\t\tif (input[i]._id) {\r\n\t\t\t\t\t\t\t\t\tindex = corp.documents.findIndex((x) => x._id == input[i]._id);\r\n\t\t\t\t\t\t\t\t\tcorp.documents[index] = input[i];\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcorp.documents.push(input[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcorp.save();\r\n\t\t\t\t\t\t\tresolve(corp);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar res = await Provider.findById(_id);\r\n\t\t\t\treturn res.documents;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthrow new Error('ERE009');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/*Salvando os ids 'novos apenas' dos fornecedores criados para que a empresa que os criaram possam \r\n  carregarseus dados futuramente, esta em aberto para que fornecedores cadastrem seus fornecedores tbm \r\n  */\r\nasync function addID(_id, id, typeCorporation) {\r\n\tvar object = {\r\n\t\tproviderId: id\r\n\t};\r\n\tif (typeCorporation === Classification.Collector) {\r\n\t\tvar collector = await Collector.findById(_id);\r\n\t\tif (collector.myProviders === undefined || collector.myProviders.length <= 0) {\r\n\t\t\tcollector['myProviders'] = [ object ];\r\n\t\t} else {\r\n\t\t\tcollector.myProviders.push(object);\r\n\t\t}\r\n\t\tCollector.findOne(_id, function(err, coll) {\r\n\t\t\tif (!coll) console.log('ERE009');\r\n\t\t\telse {\r\n\t\t\t\tcoll.myProviders = collector.myProviders;\r\n\t\t\t\tcoll.update(coll).then((x) => {});\r\n\t\t\t}\r\n\t\t});\r\n\t} else if (typeCorporation === Classification.Provider) {\r\n\t\tvar provider = await Provider.findById(_id);\r\n\t\tif (provider.myProviders === undefined || provider.myProviders.length <= 0) {\r\n\t\t\tprovider['myProviders'] = [ object ];\r\n\t\t} else {\r\n\t\t\tprovider.myProviders.push(object);\r\n\t\t}\r\n\t\tProvider.findOne(_id, function(err, prov) {\r\n\t\t\tif (!prov) console.log('ERE009');\r\n\t\t\telse {\r\n\t\t\t\tprov.myProviders = provider.myProviders;\r\n\t\t\t\tprov.update(prov).then((x) => {});\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tvar corporation = await Corporation.findById(_id);\r\n\t\tif (corporation.myProviders === undefined || corporation.myProviders.length <= 0) {\r\n\t\t\tcorporation['myProviders'] = [ object ];\r\n\t\t} else {\r\n\t\t\tcorporation.myProviders.push(object);\r\n\t\t}\r\n\t\tawait Corporation.findById(_id, function(err, corp) {\r\n\t\t\tif (!corp) console.log('ERE009');\r\n\t\t\telse {\r\n\t\t\t\tcorp.myProviders = corporation.myProviders;\r\n\t\t\t\tcorp.update(corp).then((x) => {});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1574219831237
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\models\\\\provider.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\models\\provider.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\models\\provider.model.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\models\\provider.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
        "sourceFileName": "provider.model.js"
      }
    },
    "ast": null,
    "code": "mongoose = require('mongoose');\nconst Schema = mongoose.Schema;\nconst Documents = new Schema({\n  type: {\n    type: String\n  },\n  name: String,\n  archive: String,\n  daysNotification: Number,\n  date: Date,\n  expire: Boolean\n});\nconst Material = new Schema({\n  type: {\n    type: String\n  },\n  name: String,\n  weight: Number,\n  quantity: Number,\n  active: Boolean,\n  unity: String\n});\nconst QrCode = new Schema({\n  code: String,\n  date: Date,\n  material: Material\n});\nconst ResidueArrived = new Schema({\n  date: Date,\n  name: String,\n  cost: Number,\n  typeEntrie: String,\n  quantity: Number,\n  weight: Number,\n  amount: Number,\n  qrCode: QrCode,\n  observation: String,\n  confirmedByCorporation: String,\n  confirmedByCollector: String\n});\nconst ResiduesRegisterSchema = new Schema({\n  departments: [{\n    isChanged: Boolean,\n    name: String,\n    description: String,\n    active: Boolean,\n    qrCode: [QrCode]\n  }]\n});\nconst Entries = new Schema({\n  purchase: [{\n    date: Date,\n    name: String,\n    cost: Number,\n    typeEntrie: String,\n    quantity: Number,\n    weight: Number,\n    amount: Number,\n    qrCode: QrCode\n  }],\n  sale: [{\n    date: Date,\n    name: String,\n    cost: Number,\n    typeEntrie: String,\n    quantity: Number,\n    weight: Number,\n    amount: Number,\n    qrCode: QrCode,\n    _idColector: String\n  }]\n});\nvar ProviderSchema = new Schema({\n  picture: String,\n  company: String,\n  cnpj: String,\n  tradingName: String,\n  active: Boolean,\n  class: String,\n  phone: Number,\n  email: String,\n  classification: String,\n  cellPhone: Number,\n  creationDate: Date,\n  activationDate: Date,\n  verificationDate: Date,\n  location: {\n    country: String,\n    state: String,\n    latitude: Number,\n    longitude: Number,\n    cep: String,\n    publicPlace: String,\n    neighborhood: String,\n    number: Number,\n    county: String,\n    complement: String\n  },\n  units: [{\n    unitsId: String\n  }],\n  users: [{\n    name: String,\n    email: String,\n    profile: {\n      name: String,\n      access: [String]\n    },\n    password: String,\n    active: Boolean\n  }],\n  myProviders: [{\n    providerId: String\n  }],\n  departments: [{\n    name: String,\n    description: String,\n    active: Boolean,\n    isChanged: Boolean\n  }],\n  residuesRegister: ResiduesRegisterSchema,\n  scheduling: [{\n    hour: Date,\n    date: Date,\n    active: Boolean,\n    collector: {\n      _id: String,\n      company: String,\n      cnpj: String,\n      tradingName: String,\n      active: Boolean,\n      phone: Number,\n      cellPhone: Number,\n      class: String,\n      email: String,\n      classification: String\n    },\n    qrCode: [QrCode]\n  }],\n  entries: Entries,\n  residuesArrived: [ResidueArrived],\n  documents: [Documents]\n});\nmodule.exports = mongoose.model('provider', ProviderSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3ZpZGVyLm1vZGVsLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsIkRvY3VtZW50cyIsInR5cGUiLCJTdHJpbmciLCJuYW1lIiwiYXJjaGl2ZSIsImRheXNOb3RpZmljYXRpb24iLCJOdW1iZXIiLCJkYXRlIiwiRGF0ZSIsImV4cGlyZSIsIkJvb2xlYW4iLCJNYXRlcmlhbCIsIndlaWdodCIsInF1YW50aXR5IiwiYWN0aXZlIiwidW5pdHkiLCJRckNvZGUiLCJjb2RlIiwibWF0ZXJpYWwiLCJSZXNpZHVlQXJyaXZlZCIsImNvc3QiLCJ0eXBlRW50cmllIiwiYW1vdW50IiwicXJDb2RlIiwib2JzZXJ2YXRpb24iLCJjb25maXJtZWRCeUNvcnBvcmF0aW9uIiwiY29uZmlybWVkQnlDb2xsZWN0b3IiLCJSZXNpZHVlc1JlZ2lzdGVyU2NoZW1hIiwiZGVwYXJ0bWVudHMiLCJpc0NoYW5nZWQiLCJkZXNjcmlwdGlvbiIsIkVudHJpZXMiLCJwdXJjaGFzZSIsInNhbGUiLCJfaWRDb2xlY3RvciIsIlByb3ZpZGVyU2NoZW1hIiwicGljdHVyZSIsImNvbXBhbnkiLCJjbnBqIiwidHJhZGluZ05hbWUiLCJjbGFzcyIsInBob25lIiwiZW1haWwiLCJjbGFzc2lmaWNhdGlvbiIsImNlbGxQaG9uZSIsImNyZWF0aW9uRGF0ZSIsImFjdGl2YXRpb25EYXRlIiwidmVyaWZpY2F0aW9uRGF0ZSIsImxvY2F0aW9uIiwiY291bnRyeSIsInN0YXRlIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJjZXAiLCJwdWJsaWNQbGFjZSIsIm5laWdoYm9yaG9vZCIsIm51bWJlciIsImNvdW50eSIsImNvbXBsZW1lbnQiLCJ1bml0cyIsInVuaXRzSWQiLCJ1c2VycyIsInByb2ZpbGUiLCJhY2Nlc3MiLCJwYXNzd29yZCIsIm15UHJvdmlkZXJzIiwicHJvdmlkZXJJZCIsInJlc2lkdWVzUmVnaXN0ZXIiLCJzY2hlZHVsaW5nIiwiaG91ciIsImNvbGxlY3RvciIsIl9pZCIsImVudHJpZXMiLCJyZXNpZHVlc0Fycml2ZWQiLCJkb2N1bWVudHMiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQWxCO0FBQ0EsTUFBTUMsTUFBTSxHQUFHRixRQUFRLENBQUNFLE1BQXhCO0FBRUEsTUFBTUMsU0FBUyxHQUFHLElBQUlELE1BQUosQ0FBVztBQUM1QkUsRUFBQUEsSUFBSSxFQUFFO0FBQUVBLElBQUFBLElBQUksRUFBRUM7QUFBUixHQURzQjtBQUU1QkMsRUFBQUEsSUFBSSxFQUFFRCxNQUZzQjtBQUc1QkUsRUFBQUEsT0FBTyxFQUFFRixNQUhtQjtBQUk1QkcsRUFBQUEsZ0JBQWdCLEVBQUVDLE1BSlU7QUFLNUJDLEVBQUFBLElBQUksRUFBRUMsSUFMc0I7QUFNNUJDLEVBQUFBLE1BQU0sRUFBRUM7QUFOb0IsQ0FBWCxDQUFsQjtBQVNBLE1BQU1DLFFBQVEsR0FBRyxJQUFJWixNQUFKLENBQVc7QUFDM0JFLEVBQUFBLElBQUksRUFBRTtBQUFFQSxJQUFBQSxJQUFJLEVBQUVDO0FBQVIsR0FEcUI7QUFFM0JDLEVBQUFBLElBQUksRUFBRUQsTUFGcUI7QUFHM0JVLEVBQUFBLE1BQU0sRUFBRU4sTUFIbUI7QUFJM0JPLEVBQUFBLFFBQVEsRUFBRVAsTUFKaUI7QUFLM0JRLEVBQUFBLE1BQU0sRUFBRUosT0FMbUI7QUFNM0JLLEVBQUFBLEtBQUssRUFBRWI7QUFOb0IsQ0FBWCxDQUFqQjtBQVNBLE1BQU1jLE1BQU0sR0FBRyxJQUFJakIsTUFBSixDQUFXO0FBQ3pCa0IsRUFBQUEsSUFBSSxFQUFFZixNQURtQjtBQUV6QkssRUFBQUEsSUFBSSxFQUFFQyxJQUZtQjtBQUd6QlUsRUFBQUEsUUFBUSxFQUFFUDtBQUhlLENBQVgsQ0FBZjtBQU1BLE1BQU1RLGNBQWMsR0FBRyxJQUFJcEIsTUFBSixDQUFXO0FBQ2pDUSxFQUFBQSxJQUFJLEVBQUVDLElBRDJCO0FBRWpDTCxFQUFBQSxJQUFJ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RUFBRXJFLE1BREs7QUFFVm1DLE1BQUFBLE9BQU8sRUFBRW5DLE1BRkM7QUFHVm9DLE1BQUFBLElBQUksRUFBRXBDLE1BSEk7QUFJVnFDLE1BQUFBLFdBQVcsRUFBRXJDLE1BSkg7QUFLVlksTUFBQUEsTUFBTSxFQUFFSixPQUxFO0FBTVYrQixNQUFBQSxLQUFLLEVBQUVuQyxNQU5HO0FBT1ZzQyxNQUFBQSxTQUFTLEVBQUV0QyxNQVBEO0FBUVZrQyxNQUFBQSxLQUFLLEVBQUV0QyxNQVJHO0FBU1Z3QyxNQUFBQSxLQUFLLEVBQUV4QyxNQVRHO0FBVVZ5QyxNQUFBQSxjQUFjLEVBQUV6QztBQVZOLEtBSlo7QUFnQkNxQixJQUFBQSxNQUFNLEVBQUUsQ0FBRVAsTUFBRjtBQWhCVCxHQURXLENBMURtQjtBQThFL0J3RCxFQUFBQSxPQUFPLEVBQUV6QyxPQTlFc0I7QUErRS9CMEMsRUFBQUEsZUFBZSxFQUFFLENBQUN0RCxjQUFELENBL0VjO0FBZ0YvQnVELEVBQUFBLFNBQVMsRUFBRSxDQUFFMUUsU0FBRjtBQWhGb0IsQ0FBWCxDQUFyQjtBQW1GQTJFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQi9FLFFBQVEsQ0FBQ2dGLEtBQVQsQ0FBZSxVQUFmLEVBQTJCMUMsY0FBM0IsQ0FBakIiLCJzb3VyY2VSb290IjoiQzpcXHJlY29uc2lkZXJlXFxyZWNvbnNpZGVyZS1jb3Jwb3JhdGlvbi1hcGlcXG1vZGVscyIsInNvdXJjZXNDb250ZW50IjpbIm1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xyXG5cclxuY29uc3QgRG9jdW1lbnRzID0gbmV3IFNjaGVtYSh7XHJcblx0dHlwZTogeyB0eXBlOiBTdHJpbmcgfSxcclxuXHRuYW1lOiBTdHJpbmcsXHJcblx0YXJjaGl2ZTogU3RyaW5nLFxyXG5cdGRheXNOb3RpZmljYXRpb246IE51bWJlcixcclxuXHRkYXRlOiBEYXRlLFxyXG5cdGV4cGlyZTogQm9vbGVhblxyXG59KTtcclxuXHJcbmNvbnN0IE1hdGVyaWFsID0gbmV3IFNjaGVtYSh7XHJcblx0dHlwZTogeyB0eXBlOiBTdHJpbmcgfSxcclxuXHRuYW1lOiBTdHJpbmcsXHJcblx0d2VpZ2h0OiBOdW1iZXIsXHJcblx0cXVhbnRpdHk6IE51bWJlcixcclxuXHRhY3RpdmU6IEJvb2xlYW4sXHJcblx0dW5pdHk6IFN0cmluZ1xyXG59KTtcclxuXHJcbmNvbnN0IFFyQ29kZSA9IG5ldyBTY2hlbWEoe1xyXG5cdGNvZGU6IFN0cmluZyxcclxuXHRkYXRlOiBEYXRlLFxyXG5cdG1hdGVyaWFsOiBNYXRlcmlhbCxcclxufSk7XHJcblxyXG5jb25zdCBSZXNpZHVlQXJyaXZlZCA9IG5ldyBTY2hlbWEoe1xyXG5cdGRhdGU6IERhdGUsXHJcblx0bmFtZTogU3RyaW5nLFxyXG5cdGNvc3Q6IE51bWJlcixcclxuXHR0eXBlRW50cmllOiBTdHJpbmcsXHJcblx0cXVhbnRpdHk6IE51bWJlcixcclxuXHR3ZWlnaHQ6IE51bWJlcixcclxuXHRhbW91bnQ6IE51bWJlcixcclxuXHRxckNvZGU6IFFyQ29kZSxcclxuXHRvYnNlcnZhdGlvbjogU3RyaW5nLFxyXG5cdGNvbmZpcm1lZEJ5Q29ycG9yYXRpb246IFN0cmluZyxcclxuXHRjb25maXJtZWRCeUNvbGxlY3RvcjogU3RyaW5nXHJcbn0pO1xyXG5cclxuY29uc3QgUmVzaWR1ZXNSZWdpc3RlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG5cdGRlcGFydG1lbnRzOiBbXHJcblx0XHR7XHJcblx0XHRcdGlzQ2hhbmdlZDogQm9vbGVhbixcclxuXHRcdFx0bmFtZTogU3RyaW5nLFxyXG5cdFx0XHRkZXNjcmlwdGlvbjogU3RyaW5nLFxyXG5cdFx0XHRhY3RpdmU6IEJvb2xlYW4sXHJcblx0XHRcdHFyQ29kZTogWyBRckNvZGUgXVxyXG5cdFx0fVxyXG5cdF1cclxufSk7XHJcblxyXG5jb25zdCBFbnRyaWVzID0gbmV3IFNjaGVtYSh7XHJcblx0cHVyY2hhc2U6IFtcclxuXHRcdHtcclxuXHRcdFx0ZGF0ZTogRGF0ZSxcclxuXHRcdFx0bmFtZTogU3RyaW5nLFxyXG5cdFx0XHRjb3N0OiBOdW1iZXIsXHJcblx0XHRcdHR5cGVFbnRyaWU6IFN0cmluZyxcclxuXHRcdFx0cXVhbnRpdHk6IE51bWJlcixcclxuXHRcdFx0d2VpZ2h0OiBOdW1iZXIsXHJcblx0XHRcdGFtb3VudDogTnVtYmVyLFxyXG5cdFx0XHRxckNvZGU6IFFyQ29kZVxyXG5cdFx0fVxyXG5cdF0sXHJcblx0c2FsZTogW1xyXG5cdFx0e1xyXG5cdFx0XHRkYXRlOiBEYXRlLFxyXG5cdFx0XHRuYW1lOiBTdHJpbmcsXHJcblx0XHRcdGNvc3Q6IE51bWJlcixcclxuXHRcdFx0dHlwZUVudHJpZTogU3RyaW5nLFxyXG5cdFx0XHRxdWFudGl0eTogTnVtYmVyLFxyXG5cdFx0XHR3ZWlnaHQ6IE51bWJlcixcclxuXHRcdFx0YW1vdW50OiBOdW1iZXIsXHJcblx0XHRcdHFyQ29kZTogUXJDb2RlLFxyXG5cdFx0XHRfaWRDb2xlY3RvcjpTdHJpbmcsXHJcblx0XHR9XHJcblx0XVxyXG59KTtcclxuXHJcbnZhciBQcm92aWRlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG5cdHBpY3R1cmU6IFN0cmluZyxcclxuXHRjb21wYW55OiBTdHJpbmcsXHJcblx0Y25wajogU3RyaW5nLFxyXG5cdHRyYWRpbmdOYW1lOiBTdHJpbmcsXHJcblx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdGNsYXNzOiBTdHJpbmcsXHJcblx0cGhvbmU6IE51bWJlcixcclxuXHRlbWFpbDogU3RyaW5nLFxyXG5cdGNsYXNzaWZpY2F0aW9uOiBTdHJpbmcsXHJcblx0Y2VsbFBob25lOiBOdW1iZXIsXHJcblx0Y3JlYXRpb25EYXRlOiBEYXRlLFxyXG5cdGFjdGl2YXRpb25EYXRlOiBEYXRlLFxyXG5cdHZlcmlmaWNhdGlvbkRhdGU6IERhdGUsXHJcblx0bG9jYXRpb246IHtcclxuXHRcdGNvdW50cnk6IFN0cmluZyxcclxuXHRcdHN0YXRlOiBTdHJpbmcsXHJcblx0XHRsYXRpdHVkZTogTnVtYmVyLFxyXG5cdFx0bG9uZ2l0dWRlOiBOdW1iZXIsXHJcblx0XHRjZXA6IFN0cmluZyxcclxuXHRcdHB1YmxpY1BsYWNlOiBTdHJpbmcsXHJcblx0XHRuZWlnaGJvcmhvb2Q6IFN0cmluZyxcclxuXHRcdG51bWJlcjogTnVtYmVyLFxyXG5cdFx0Y291bnR5OiBTdHJpbmcsXHJcblx0XHRjb21wbGVtZW50OiBTdHJpbmdcclxuXHR9LFxyXG5cdHVuaXRzOiBbXHJcblx0XHR7XHJcblx0XHRcdHVuaXRzSWQ6IFN0cmluZ1xyXG5cdFx0fVxyXG5cdF0sXHJcblx0dXNlcnM6IFtcclxuXHRcdHtcclxuXHRcdFx0bmFtZTogU3RyaW5nLFxyXG5cdFx0XHRlbWFpbDogU3RyaW5nLFxyXG5cdFx0XHRwcm9maWxlOiB7XHJcblx0XHRcdFx0bmFtZTogU3RyaW5nLFxyXG5cdFx0XHRcdGFjY2VzczogWyBTdHJpbmcgXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRwYXNzd29yZDogU3RyaW5nLFxyXG5cdFx0XHRhY3RpdmU6IEJvb2xlYW5cclxuXHRcdH1cclxuXHRdLFxyXG5cdG15UHJvdmlkZXJzOiBbXHJcblx0XHR7XHJcblx0XHRcdHByb3ZpZGVySWQ6IFN0cmluZyxcclxuXHRcdH1cclxuXHRdLFxyXG5cdGRlcGFydG1lbnRzOiBbXHJcblx0XHR7XHJcblx0XHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdFx0ZGVzY3JpcHRpb246IFN0cmluZyxcclxuXHRcdFx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdFx0XHRpc0NoYW5nZWQ6IEJvb2xlYW5cclxuXHRcdH1cclxuXHRdLFxyXG5cclxuXHRyZXNpZHVlc1JlZ2lzdGVyOiBSZXNpZHVlc1JlZ2lzdGVyU2NoZW1hLFxyXG5cdHNjaGVkdWxpbmc6IFtcclxuXHRcdHtcclxuXHRcdFx0aG91cjogRGF0ZSxcclxuXHRcdFx0ZGF0ZTogRGF0ZSxcclxuXHRcdFx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdFx0XHRjb2xsZWN0b3I6IHtcclxuXHRcdFx0XHRfaWQ6IFN0cmluZyxcclxuXHRcdFx0XHRjb21wYW55OiBTdHJpbmcsXHJcblx0XHRcdFx0Y25wajogU3RyaW5nLFxyXG5cdFx0XHRcdHRyYWRpbmdOYW1lOiBTdHJpbmcsXHJcblx0XHRcdFx0YWN0aXZlOiBCb29sZWFuLFxyXG5cdFx0XHRcdHBob25lOiBOdW1iZXIsXHJcblx0XHRcdFx0Y2VsbFBob25lOiBOdW1iZXIsXHJcblx0XHRcdFx0Y2xhc3M6IFN0cmluZyxcclxuXHRcdFx0XHRlbWFpbDogU3RyaW5nLFxyXG5cdFx0XHRcdGNsYXNzaWZpY2F0aW9uOiBTdHJpbmdcclxuXHRcdFx0fSxcclxuXHRcdFx0cXJDb2RlOiBbIFFyQ29kZSBdXHJcblx0XHR9XHJcblx0XSxcclxuXHRlbnRyaWVzOiBFbnRyaWVzLFxyXG5cdHJlc2lkdWVzQXJyaXZlZDogW1Jlc2lkdWVBcnJpdmVkXSxcclxuXHRkb2N1bWVudHM6IFsgRG9jdW1lbnRzIF1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdwcm92aWRlcicsIFByb3ZpZGVyU2NoZW1hKTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "provider.model.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "Documents",
        "type",
        "String",
        "name",
        "archive",
        "daysNotification",
        "Number",
        "date",
        "Date",
        "expire",
        "Boolean",
        "Material",
        "weight",
        "quantity",
        "active",
        "unity",
        "QrCode",
        "code",
        "material",
        "ResidueArrived",
        "cost",
        "typeEntrie",
        "amount",
        "qrCode",
        "observation",
        "confirmedByCorporation",
        "confirmedByCollector",
        "ResiduesRegisterSchema",
        "departments",
        "isChanged",
        "description",
        "Entries",
        "purchase",
        "sale",
        "_idColector",
        "ProviderSchema",
        "picture",
        "company",
        "cnpj",
        "tradingName",
        "class",
        "phone",
        "email",
        "classification",
        "cellPhone",
        "creationDate",
        "activationDate",
        "verificationDate",
        "location",
        "country",
        "state",
        "latitude",
        "longitude",
        "cep",
        "publicPlace",
        "neighborhood",
        "number",
        "county",
        "complement",
        "units",
        "unitsId",
        "users",
        "profile",
        "access",
        "password",
        "myProviders",
        "providerId",
        "residuesRegister",
        "scheduling",
        "hour",
        "collector",
        "_id",
        "entries",
        "residuesArrived",
        "documents",
        "module",
        "exports",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\models",
      "sourcesContent": [
        "mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst Documents = new Schema({\r\n\ttype: { type: String },\r\n\tname: String,\r\n\tarchive: String,\r\n\tdaysNotification: Number,\r\n\tdate: Date,\r\n\texpire: Boolean\r\n});\r\n\r\nconst Material = new Schema({\r\n\ttype: { type: String },\r\n\tname: String,\r\n\tweight: Number,\r\n\tquantity: Number,\r\n\tactive: Boolean,\r\n\tunity: String\r\n});\r\n\r\nconst QrCode = new Schema({\r\n\tcode: String,\r\n\tdate: Date,\r\n\tmaterial: Material,\r\n});\r\n\r\nconst ResidueArrived = new Schema({\r\n\tdate: Date,\r\n\tname: String,\r\n\tcost: Number,\r\n\ttypeEntrie: String,\r\n\tquantity: Number,\r\n\tweight: Number,\r\n\tamount: Number,\r\n\tqrCode: QrCode,\r\n\tobservation: String,\r\n\tconfirmedByCorporation: String,\r\n\tconfirmedByCollector: String\r\n});\r\n\r\nconst ResiduesRegisterSchema = new Schema({\r\n\tdepartments: [\r\n\t\t{\r\n\t\t\tisChanged: Boolean,\r\n\t\t\tname: String,\r\n\t\t\tdescription: String,\r\n\t\t\tactive: Boolean,\r\n\t\t\tqrCode: [ QrCode ]\r\n\t\t}\r\n\t]\r\n});\r\n\r\nconst Entries = new Schema({\r\n\tpurchase: [\r\n\t\t{\r\n\t\t\tdate: Date,\r\n\t\t\tname: String,\r\n\t\t\tcost: Number,\r\n\t\t\ttypeEntrie: String,\r\n\t\t\tquantity: Number,\r\n\t\t\tweight: Number,\r\n\t\t\tamount: Number,\r\n\t\t\tqrCode: QrCode\r\n\t\t}\r\n\t],\r\n\tsale: [\r\n\t\t{\r\n\t\t\tdate: Date,\r\n\t\t\tname: String,\r\n\t\t\tcost: Number,\r\n\t\t\ttypeEntrie: String,\r\n\t\t\tquantity: Number,\r\n\t\t\tweight: Number,\r\n\t\t\tamount: Number,\r\n\t\t\tqrCode: QrCode,\r\n\t\t\t_idColector:String,\r\n\t\t}\r\n\t]\r\n});\r\n\r\nvar ProviderSchema = new Schema({\r\n\tpicture: String,\r\n\tcompany: String,\r\n\tcnpj: String,\r\n\ttradingName: String,\r\n\tactive: Boolean,\r\n\tclass: String,\r\n\tphone: Number,\r\n\temail: String,\r\n\tclassification: String,\r\n\tcellPhone: Number,\r\n\tcreationDate: Date,\r\n\tactivationDate: Date,\r\n\tverificationDate: Date,\r\n\tlocation: {\r\n\t\tcountry: String,\r\n\t\tstate: String,\r\n\t\tlatitude: Number,\r\n\t\tlongitude: Number,\r\n\t\tcep: String,\r\n\t\tpublicPlace: String,\r\n\t\tneighborhood: String,\r\n\t\tnumber: Number,\r\n\t\tcounty: String,\r\n\t\tcomplement: String\r\n\t},\r\n\tunits: [\r\n\t\t{\r\n\t\t\tunitsId: String\r\n\t\t}\r\n\t],\r\n\tusers: [\r\n\t\t{\r\n\t\t\tname: String,\r\n\t\t\temail: String,\r\n\t\t\tprofile: {\r\n\t\t\t\tname: String,\r\n\t\t\t\taccess: [ String ]\r\n\t\t\t},\r\n\t\t\tpassword: String,\r\n\t\t\tactive: Boolean\r\n\t\t}\r\n\t],\r\n\tmyProviders: [\r\n\t\t{\r\n\t\t\tproviderId: String,\r\n\t\t}\r\n\t],\r\n\tdepartments: [\r\n\t\t{\r\n\t\t\tname: String,\r\n\t\t\tdescription: String,\r\n\t\t\tactive: Boolean,\r\n\t\t\tisChanged: Boolean\r\n\t\t}\r\n\t],\r\n\r\n\tresiduesRegister: ResiduesRegisterSchema,\r\n\tscheduling: [\r\n\t\t{\r\n\t\t\thour: Date,\r\n\t\t\tdate: Date,\r\n\t\t\tactive: Boolean,\r\n\t\t\tcollector: {\r\n\t\t\t\t_id: String,\r\n\t\t\t\tcompany: String,\r\n\t\t\t\tcnpj: String,\r\n\t\t\t\ttradingName: String,\r\n\t\t\t\tactive: Boolean,\r\n\t\t\t\tphone: Number,\r\n\t\t\t\tcellPhone: Number,\r\n\t\t\t\tclass: String,\r\n\t\t\t\temail: String,\r\n\t\t\t\tclassification: String\r\n\t\t\t},\r\n\t\t\tqrCode: [ QrCode ]\r\n\t\t}\r\n\t],\r\n\tentries: Entries,\r\n\tresiduesArrived: [ResidueArrived],\r\n\tdocuments: [ Documents ]\r\n});\r\n\r\nmodule.exports = mongoose.model('provider', ProviderSchema);\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1574221035081
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\indexPicture.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexPicture.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexPicture.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexPicture.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
        "sourceFileName": "indexPicture.js"
      }
    },
    "ast": null,
    "code": "const picture = require('./picture/Mutation/picture');\n\nmodule.exports = { ...picture\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4UGljdHVyZS5qcyJdLCJuYW1lcyI6WyJwaWN0dXJlIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLDRCQUFELENBQXZCOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsRUFDaEIsR0FBR0g7QUFEYSxDQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxccmVjb25zaWRlcmVcXHJlY29uc2lkZXJlLWNvcnBvcmF0aW9uLWFwaVxccmVzb2x2ZXJzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGljdHVyZSA9IHJlcXVpcmUoJy4vcGljdHVyZS9NdXRhdGlvbi9waWN0dXJlJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHQuLi5waWN0dXJlXHJcbn07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "indexPicture.js"
      ],
      "names": [
        "picture",
        "require",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,4BAAD,CAAvB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,EAChB,GAAGH;AADa,CAAjB",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "sourcesContent": [
        "const picture = require('./picture/Mutation/picture');\r\n\r\nmodule.exports = {\r\n\t...picture\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1567554529117
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\picture\\\\Mutation\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\picture\\\\Mutation\\\\picture.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\picture\\Mutation",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\picture\\Mutation\\picture.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\picture\\Mutation\\picture.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\picture\\Mutation\\picture.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\picture\\Mutation",
        "sourceFileName": "picture.js"
      }
    },
    "ast": null,
    "code": "var fs = require('fs');\n\nvar mkdirp = require('mkdirp');\n\nvar path = '/reconsidere-corp/images';\nmodule.exports = picture = {\n  Query: {\n    async allPictures() {}\n\n  },\n  Mutation: {\n    async uploadImage(root, {\n      _id,\n      input\n    }) {\n      mkdirp(path, function (err) {\n        if (err) console.error(err);else {}\n      });\n      var base64Data = input.file.split(';base64,').pop();\n      fs.writeFile(`${path}/${input.name}`, base64Data, {\n        encoding: 'base64'\n      }, function (err) {\n        if (err) {\n          console.log(err);\n          throw new Error('ERE009');\n        } else {}\n      });\n      return input;\n    }\n\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBpY3R1cmUuanMiXSwibmFtZXMiOlsiZnMiLCJyZXF1aXJlIiwibWtkaXJwIiwicGF0aCIsIm1vZHVsZSIsImV4cG9ydHMiLCJwaWN0dXJlIiwiUXVlcnkiLCJhbGxQaWN0dXJlcyIsIk11dGF0aW9uIiwidXBsb2FkSW1hZ2UiLCJyb290IiwiX2lkIiwiaW5wdXQiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJiYXNlNjREYXRhIiwiZmlsZSIsInNwbGl0IiwicG9wIiwid3JpdGVGaWxlIiwibmFtZSIsImVuY29kaW5nIiwibG9nIiwiRXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLEVBQUUsR0FBR0MsT0FBTyxDQUFDLElBQUQsQ0FBaEI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFDQSxJQUFJRSxJQUFJLEdBQUcsMEJBQVg7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCQyxPQUFPLEdBQUc7QUFDMUJDLEVBQUFBLEtBQUssRUFBRTtBQUNOLFVBQU1DLFdBQU4sR0FBb0IsQ0FBRTs7QUFEaEIsR0FEbUI7QUFJMUJDLEVBQUFBLFFBQVEsRUFBRTtBQUNULFVBQU1DLFdBQU4sQ0FBa0JDLElBQWxCLEVBQXdCO0FBQUVDLE1BQUFBLEdBQUY7QUFBT0MsTUFBQUE7QUFBUCxLQUF4QixFQUF3QztBQUN2Q1gsTUFBQUEsTUFBTSxDQUFDQyxJQUFELEVBQU8sVUFBU1csR0FBVCxFQUFjO0FBQzFCLFlBQUlBLEdBQUosRUFBU0MsT0FBTyxDQUFDQyxLQUFSLENBQWNGLEdBQWQsRUFBVCxLQUNLLENBQ0o7QUFDRCxPQUpLLENBQU47QUFNQSxVQUFJRyxVQUFVLEdBQUdKLEtBQUssQ0FBQ0ssSUFBTixDQUFXQyxLQUFYLENBQWlCLFVBQWpCLEVBQTZCQyxHQUE3QixFQUFqQjtBQUNBcEIsTUFBQUEsRUFBRSxDQUFDcUIsU0FBSCxDQUFjLEdBQUVsQixJQUFLLElBQUdVLEtBQUssQ0FBQ1MsSUFBSyxFQUFuQyxFQUFzQ0wsVUFBdEMsRUFBa0Q7QUFBRU0sUUFBQUEsUUFBUSxFQUFFO0FBQVosT0FBbEQsRUFBMEUsVUFBU1QsR0FBVCxFQUFjO0FBQ3ZGLFlBQUlBLEdBQUosRUFBUztBQUNSQyxVQUFBQSxPQUFPLENBQUNTLEdBQVIsQ0FBWVYsR0FBWjtBQUNBLGdCQUFNLElBQUlXLEtBQUosQ0FBVSxRQUFWLENBQU47QUFDQSxTQUhELE1BR08sQ0FDTjtBQUNELE9BTkQ7QUFPQSxhQUFPWixLQUFQO0FBQ0E7O0FBakJRO0FBSmdCLENBQTNCIiwic291cmNlUm9vdCI6IkM6XFxyZWNvbnNpZGVyZVxccmVjb25zaWRlcmUtY29ycG9yYXRpb24tYXBpXFxyZXNvbHZlcnNcXHBpY3R1cmVcXE11dGF0aW9uIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcclxudmFyIG1rZGlycCA9IHJlcXVpcmUoJ21rZGlycCcpO1xyXG52YXIgcGF0aCA9ICcvcmVjb25zaWRlcmUtY29ycC9pbWFnZXMnO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHBpY3R1cmUgPSB7XHJcblx0UXVlcnk6IHtcclxuXHRcdGFzeW5jIGFsbFBpY3R1cmVzKCkge31cclxuXHR9LFxyXG5cdE11dGF0aW9uOiB7XHJcblx0XHRhc3luYyB1cGxvYWRJbWFnZShyb290LCB7IF9pZCwgaW5wdXQgfSkge1xyXG5cdFx0XHRta2RpcnAocGF0aCwgZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0aWYgKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR2YXIgYmFzZTY0RGF0YSA9IGlucHV0LmZpbGUuc3BsaXQoJztiYXNlNjQsJykucG9wKCk7XHJcblx0XHRcdGZzLndyaXRlRmlsZShgJHtwYXRofS8ke2lucHV0Lm5hbWV9YCwgYmFzZTY0RGF0YSwgeyBlbmNvZGluZzogJ2Jhc2U2NCcgfSwgZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0aWYgKGVycikge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gaW5wdXQ7XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "picture.js"
      ],
      "names": [
        "fs",
        "require",
        "mkdirp",
        "path",
        "module",
        "exports",
        "picture",
        "Query",
        "allPictures",
        "Mutation",
        "uploadImage",
        "root",
        "_id",
        "input",
        "err",
        "console",
        "error",
        "base64Data",
        "file",
        "split",
        "pop",
        "writeFile",
        "name",
        "encoding",
        "log",
        "Error"
      ],
      "mappings": "AAAA,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIE,IAAI,GAAG,0BAAX;AACAC,MAAM,CAACC,OAAP,GAAiBC,OAAO,GAAG;AAC1BC,EAAAA,KAAK,EAAE;AACN,UAAMC,WAAN,GAAoB,CAAE;;AADhB,GADmB;AAI1BC,EAAAA,QAAQ,EAAE;AACT,UAAMC,WAAN,CAAkBC,IAAlB,EAAwB;AAAEC,MAAAA,GAAF;AAAOC,MAAAA;AAAP,KAAxB,EAAwC;AACvCX,MAAAA,MAAM,CAACC,IAAD,EAAO,UAASW,GAAT,EAAc;AAC1B,YAAIA,GAAJ,EAASC,OAAO,CAACC,KAAR,CAAcF,GAAd,EAAT,KACK,CACJ;AACD,OAJK,CAAN;AAMA,UAAIG,UAAU,GAAGJ,KAAK,CAACK,IAAN,CAAWC,KAAX,CAAiB,UAAjB,EAA6BC,GAA7B,EAAjB;AACApB,MAAAA,EAAE,CAACqB,SAAH,CAAc,GAAElB,IAAK,IAAGU,KAAK,CAACS,IAAK,EAAnC,EAAsCL,UAAtC,EAAkD;AAAEM,QAAAA,QAAQ,EAAE;AAAZ,OAAlD,EAA0E,UAAST,GAAT,EAAc;AACvF,YAAIA,GAAJ,EAAS;AACRC,UAAAA,OAAO,CAACS,GAAR,CAAYV,GAAZ;AACA,gBAAM,IAAIW,KAAJ,CAAU,QAAV,CAAN;AACA,SAHD,MAGO,CACN;AACD,OAND;AAOA,aAAOZ,KAAP;AACA;;AAjBQ;AAJgB,CAA3B",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\picture\\Mutation",
      "sourcesContent": [
        "var fs = require('fs');\r\nvar mkdirp = require('mkdirp');\r\nvar path = '/reconsidere-corp/images';\r\nmodule.exports = picture = {\r\n\tQuery: {\r\n\t\tasync allPictures() {}\r\n\t},\r\n\tMutation: {\r\n\t\tasync uploadImage(root, { _id, input }) {\r\n\t\t\tmkdirp(path, function(err) {\r\n\t\t\t\tif (err) console.error(err);\r\n\t\t\t\telse {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tvar base64Data = input.file.split(';base64,').pop();\r\n\t\t\tfs.writeFile(`${path}/${input.name}`, base64Data, { encoding: 'base64' }, function(err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tthrow new Error('ERE009');\r\n\t\t\t\t} else {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn input;\r\n\t\t}\r\n\t}\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1567629973921
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\indexArchive.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexArchive.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexArchive.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\indexArchive.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
        "sourceFileName": "indexArchive.js"
      }
    },
    "ast": null,
    "code": "const archive = require('./archive/Mutation/archive');\n\nmodule.exports = { ...archive\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4QXJjaGl2ZS5qcyJdLCJuYW1lcyI6WyJhcmNoaXZlIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLDRCQUFELENBQXZCOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsRUFDaEIsR0FBR0g7QUFEYSxDQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxccmVjb25zaWRlcmVcXHJlY29uc2lkZXJlLWNvcnBvcmF0aW9uLWFwaVxccmVzb2x2ZXJzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXJjaGl2ZSA9IHJlcXVpcmUoJy4vYXJjaGl2ZS9NdXRhdGlvbi9hcmNoaXZlJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHQuLi5hcmNoaXZlXHJcbn07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "indexArchive.js"
      ],
      "names": [
        "archive",
        "require",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,4BAAD,CAAvB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,EAChB,GAAGH;AADa,CAAjB",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers",
      "sourcesContent": [
        "const archive = require('./archive/Mutation/archive');\r\n\r\nmodule.exports = {\r\n\t...archive\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1571933829296
  },
  "{\"sourceRoot\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\archive\\\\Mutation\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"filename\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\\\\resolvers\\\\archive\\\\Mutation\\\\archive.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\reconsidere\\\\reconsidere-corporation-api\",\"plugins\":[],\"presets\":[]}:7.4.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\archive\\Mutation",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\reconsidere\\reconsidere-corporation-api",
      "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\archive\\Mutation\\archive.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\reconsidere\\reconsidere-corporation-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\archive\\Mutation\\archive.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\archive\\Mutation\\archive.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\archive\\Mutation",
        "sourceFileName": "archive.js"
      }
    },
    "ast": null,
    "code": "var fs = require('fs');\n\nvar mkdirp = require('mkdirp');\n\nvar path = '/reconsidere-corp/archives';\nmodule.exports = picture = {\n  Query: {\n    async allArchives() {}\n\n  },\n  Mutation: {\n    async uploadArchive(root, {\n      _id,\n      input\n    }) {\n      mkdirp(path, function (err) {\n        if (err) console.error(err);else {}\n      });\n      var base64Data = input.file.split(';base64,').pop();\n      fs.writeFile(`${path}/${input.name}`, base64Data, {\n        encoding: 'base64'\n      }, function (err) {\n        if (err) {\n          console.log(err);\n          throw new Error('ERE009');\n        } else {}\n      });\n      return input;\n    }\n\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFyY2hpdmUuanMiXSwibmFtZXMiOlsiZnMiLCJyZXF1aXJlIiwibWtkaXJwIiwicGF0aCIsIm1vZHVsZSIsImV4cG9ydHMiLCJwaWN0dXJlIiwiUXVlcnkiLCJhbGxBcmNoaXZlcyIsIk11dGF0aW9uIiwidXBsb2FkQXJjaGl2ZSIsInJvb3QiLCJfaWQiLCJpbnB1dCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImJhc2U2NERhdGEiLCJmaWxlIiwic3BsaXQiLCJwb3AiLCJ3cml0ZUZpbGUiLCJuYW1lIiwiZW5jb2RpbmciLCJsb2ciLCJFcnJvciJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsSUFBRCxDQUFoQjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUNBLElBQUlFLElBQUksR0FBRyw0QkFBWDtBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJDLE9BQU8sR0FBRztBQUMxQkMsRUFBQUEsS0FBSyxFQUFFO0FBQ04sVUFBTUMsV0FBTixHQUFvQixDQUFFOztBQURoQixHQURtQjtBQUkxQkMsRUFBQUEsUUFBUSxFQUFFO0FBQ1QsVUFBTUMsYUFBTixDQUFvQkMsSUFBcEIsRUFBMEI7QUFBRUMsTUFBQUEsR0FBRjtBQUFPQyxNQUFBQTtBQUFQLEtBQTFCLEVBQTBDO0FBQ3pDWCxNQUFBQSxNQUFNLENBQUNDLElBQUQsRUFBTyxVQUFTVyxHQUFULEVBQWM7QUFDMUIsWUFBSUEsR0FBSixFQUFTQyxPQUFPLENBQUNDLEtBQVIsQ0FBY0YsR0FBZCxFQUFULEtBQ0ssQ0FDSjtBQUNELE9BSkssQ0FBTjtBQU1BLFVBQUlHLFVBQVUsR0FBR0osS0FBSyxDQUFDSyxJQUFOLENBQVdDLEtBQVgsQ0FBaUIsVUFBakIsRUFBNkJDLEdBQTdCLEVBQWpCO0FBQ0FwQixNQUFBQSxFQUFFLENBQUNxQixTQUFILENBQWMsR0FBRWxCLElBQUssSUFBR1UsS0FBSyxDQUFDUyxJQUFLLEVBQW5DLEVBQXNDTCxVQUF0QyxFQUFrRDtBQUFFTSxRQUFBQSxRQUFRLEVBQUU7QUFBWixPQUFsRCxFQUEwRSxVQUFTVCxHQUFULEVBQWM7QUFDdkYsWUFBSUEsR0FBSixFQUFTO0FBQ1JDLFVBQUFBLE9BQU8sQ0FBQ1MsR0FBUixDQUFZVixHQUFaO0FBQ0EsZ0JBQU0sSUFBSVcsS0FBSixDQUFVLFFBQVYsQ0FBTjtBQUNBLFNBSEQsTUFHTyxDQUNOO0FBQ0QsT0FORDtBQU9BLGFBQU9aLEtBQVA7QUFDQTs7QUFqQlE7QUFKZ0IsQ0FBM0IiLCJzb3VyY2VSb290IjoiQzpcXHJlY29uc2lkZXJlXFxyZWNvbnNpZGVyZS1jb3Jwb3JhdGlvbi1hcGlcXHJlc29sdmVyc1xcYXJjaGl2ZVxcTXV0YXRpb24iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZnMgPSByZXF1aXJlKCdmcycpO1xyXG52YXIgbWtkaXJwID0gcmVxdWlyZSgnbWtkaXJwJyk7XHJcbnZhciBwYXRoID0gJy9yZWNvbnNpZGVyZS1jb3JwL2FyY2hpdmVzJztcclxubW9kdWxlLmV4cG9ydHMgPSBwaWN0dXJlID0ge1xyXG5cdFF1ZXJ5OiB7XHJcblx0XHRhc3luYyBhbGxBcmNoaXZlcygpIHt9XHJcblx0fSxcclxuXHRNdXRhdGlvbjoge1xyXG5cdFx0YXN5bmMgdXBsb2FkQXJjaGl2ZShyb290LCB7IF9pZCwgaW5wdXQgfSkge1xyXG5cdFx0XHRta2RpcnAocGF0aCwgZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0aWYgKGVycikgY29uc29sZS5lcnJvcihlcnIpO1xyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR2YXIgYmFzZTY0RGF0YSA9IGlucHV0LmZpbGUuc3BsaXQoJztiYXNlNjQsJykucG9wKCk7XHJcblx0XHRcdGZzLndyaXRlRmlsZShgJHtwYXRofS8ke2lucHV0Lm5hbWV9YCwgYmFzZTY0RGF0YSwgeyBlbmNvZGluZzogJ2Jhc2U2NCcgfSwgZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0aWYgKGVycikge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignRVJFMDA5Jyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gaW5wdXQ7XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "archive.js"
      ],
      "names": [
        "fs",
        "require",
        "mkdirp",
        "path",
        "module",
        "exports",
        "picture",
        "Query",
        "allArchives",
        "Mutation",
        "uploadArchive",
        "root",
        "_id",
        "input",
        "err",
        "console",
        "error",
        "base64Data",
        "file",
        "split",
        "pop",
        "writeFile",
        "name",
        "encoding",
        "log",
        "Error"
      ],
      "mappings": "AAAA,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIE,IAAI,GAAG,4BAAX;AACAC,MAAM,CAACC,OAAP,GAAiBC,OAAO,GAAG;AAC1BC,EAAAA,KAAK,EAAE;AACN,UAAMC,WAAN,GAAoB,CAAE;;AADhB,GADmB;AAI1BC,EAAAA,QAAQ,EAAE;AACT,UAAMC,aAAN,CAAoBC,IAApB,EAA0B;AAAEC,MAAAA,GAAF;AAAOC,MAAAA;AAAP,KAA1B,EAA0C;AACzCX,MAAAA,MAAM,CAACC,IAAD,EAAO,UAASW,GAAT,EAAc;AAC1B,YAAIA,GAAJ,EAASC,OAAO,CAACC,KAAR,CAAcF,GAAd,EAAT,KACK,CACJ;AACD,OAJK,CAAN;AAMA,UAAIG,UAAU,GAAGJ,KAAK,CAACK,IAAN,CAAWC,KAAX,CAAiB,UAAjB,EAA6BC,GAA7B,EAAjB;AACApB,MAAAA,EAAE,CAACqB,SAAH,CAAc,GAAElB,IAAK,IAAGU,KAAK,CAACS,IAAK,EAAnC,EAAsCL,UAAtC,EAAkD;AAAEM,QAAAA,QAAQ,EAAE;AAAZ,OAAlD,EAA0E,UAAST,GAAT,EAAc;AACvF,YAAIA,GAAJ,EAAS;AACRC,UAAAA,OAAO,CAACS,GAAR,CAAYV,GAAZ;AACA,gBAAM,IAAIW,KAAJ,CAAU,QAAV,CAAN;AACA,SAHD,MAGO,CACN;AACD,OAND;AAOA,aAAOZ,KAAP;AACA;;AAjBQ;AAJgB,CAA3B",
      "sourceRoot": "C:\\reconsidere\\reconsidere-corporation-api\\resolvers\\archive\\Mutation",
      "sourcesContent": [
        "var fs = require('fs');\r\nvar mkdirp = require('mkdirp');\r\nvar path = '/reconsidere-corp/archives';\r\nmodule.exports = picture = {\r\n\tQuery: {\r\n\t\tasync allArchives() {}\r\n\t},\r\n\tMutation: {\r\n\t\tasync uploadArchive(root, { _id, input }) {\r\n\t\t\tmkdirp(path, function(err) {\r\n\t\t\t\tif (err) console.error(err);\r\n\t\t\t\telse {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tvar base64Data = input.file.split(';base64,').pop();\r\n\t\t\tfs.writeFile(`${path}/${input.name}`, base64Data, { encoding: 'base64' }, function(err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tthrow new Error('ERE009');\r\n\t\t\t\t} else {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn input;\r\n\t\t}\r\n\t}\r\n};\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1571966056250
  }
}